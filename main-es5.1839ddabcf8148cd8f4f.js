function _defineProperty2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray2(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("wj3C"),o=n("q/0M"),s=n("zVF4"),a=n("x7I3"),u=n("S+S0"),c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),h=new o.Logger("@firebase/firestore");function d(){return h.logLevel}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=o.LogLevel.DEBUG){var i=e.map(g);h.debug.apply(h,r.__spreadArrays(["Firestore (7.22.0): "+t],i))}}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=o.LogLevel.ERROR){var i=e.map(g);h.error.apply(h,r.__spreadArrays(["Firestore (7.22.0): "+t],i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=o.LogLevel.WARN){var i=e.map(g);h.warn.apply(h,r.__spreadArrays(["Firestore (7.22.0): "+t],i))}}function g(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function m(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.22.0) INTERNAL ASSERTION FAILED: "+t;throw v(e),new Error(e)}function _(t,e){t||m()}function w(t,e){return t}function b(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var C=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&m(),void 0===n?n=t.length-e:n>t.length-e&&m(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.P=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new f(l.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.g=function(){return new e([])},e}(C),T=/^[_a-zA-Z][_a-zA-Z0-9]*$/,S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return T.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new f(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new f(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new f(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new f(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.g=function(){return new e([])},e}(C),A=function(){function t(t){this.path=t}return t.D=function(e){return new t(I.P(e))},t.C=function(e){return new t(I.P(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===I.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return I.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new I(e.slice()))},t}();function x(t,e){if(0!==e.length)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Q(e.length,"argument")+".")}function N(t,e,n){if(e.length!==n)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function O(t,e,n){if(e.length<n)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function D(t,e,n,r){if(e.length<n||e.length>r)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Q(e.length,"argument")+".")}function P(t,e,n,r){j(t,e,W(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&P(t,e,n,r)}function L(t,e,n,r){j(t,e,n+" option",r)}function M(t,e,n,r){void 0!==r&&L(t,e,n,r)}function V(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(z(u))}var c=z(r);throw new f(l.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function F(t,e,n,r){if(!e.some((function(t){return t===r})))throw new f(l.INVALID_ARGUMENT,"Invalid value "+z(r)+" provided to function "+t+"() for its "+W(n)+" argument. Acceptable values: "+e.join(", "));return r}function j(t,e,n,r){if(!("object"===e?U(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=z(r);throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function U(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function z(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":m()}function B(t,e,n){if(void 0===n)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+W(e)+" argument, but it was undefined.")}function q(t,e,n){k(e,(function(e,r){if(n.indexOf(e)<0)throw new f(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function H(t,e,n,r){var i=z(r);return new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(n)+" argument to be a "+e+", but it was: "+i)}function G(t,e,n){if(n<=0)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(e)+" argument to be a positive number, but it was: "+n+".")}function W(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Q(t,e){return t+" "+e+(1===t?"":"s")}function Y(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var K=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Y(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Z(t,e){return t<e?-1:t>e?1:0}function X(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function J(t){return t+"\0"}var $=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.M)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return Z(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();$.B=new $("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t($.fromBase64String(e))}catch(e){throw new f(l.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t($.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new f(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new f(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){N("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,t),nt();try{return new e($.fromBase64String(t))}catch(t){throw new f(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(N("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,t);return new e($.fromUint8Array(t))},e.prototype.toBase64=function(){return N("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return N("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},ot=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return Z(this.projectId,t.projectId)||Z(this.database,t.database)},t}(),st=function(){function t(t,e){this.j=t,this.K=e,this.G={}}return t.prototype.get=function(t){var e=this.j(t),n=this.G[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.K(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.j(t),r=this.G[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.K(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.G[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.j(t),n=this.G[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.K(n[r][0],t))return 1===n.length?delete this.G[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.G,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.m=function(){return E(this.G)},t}(),at=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new f(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new f(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new f(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new f(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.H=function(t){return this.seconds===t.seconds?Z(this.nanoseconds,t.nanoseconds):Z(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ut=function(){function t(t){this.timestamp=t}return t.Y=function(e){return new t(e)},t.min=function(){return new t(new at(0,0))},t.prototype.L=function(t){return this.timestamp.H(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.X=function(){return this.timestamp},t}();function ct(t){return null==t}function lt(t){return 0===t&&1/t==-1/0}function ft(t){return"number"==typeof t&&Number.isInteger(t)&&!lt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ht=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Z=null};function dt(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ht(t,e,n,r,i,o,s)}function pt(t){var e=w(t);if(null===e.Z){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ct(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=sr(e.startAt)),e.endAt&&(n+="|ub:",n+=sr(e.endAt)),e.Z=n}return e.Z}function vt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!fr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!te(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ur(t.startAt,e.startAt)&&ur(t.endAt,e.endAt)}function yt(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var gt,mt,_t=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ut.min()),void 0===o&&(o=ut.min()),void 0===s&&(s=$.B),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),wt=function(t){this.count=t};function bt(t){switch(t){case l.OK:return m();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return m()}}function kt(t){if(void 0===t)return v("GRPC error has no .code"),l.UNKNOWN;switch(t){case gt.OK:return l.OK;case gt.CANCELLED:return l.CANCELLED;case gt.UNKNOWN:return l.UNKNOWN;case gt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case gt.INTERNAL:return l.INTERNAL;case gt.UNAVAILABLE:return l.UNAVAILABLE;case gt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case gt.NOT_FOUND:return l.NOT_FOUND;case gt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case gt.ABORTED:return l.ABORTED;case gt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case gt.DATA_LOSS:return l.DATA_LOSS;default:return m()}}(mt=gt||(gt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";var Et=function(){function t(t,e){this.i=t,this.root=e||It.EMPTY}return t.prototype.rt=function(e,n){return new t(this.i,this.root.rt(e,n,this.i).copy(null,null,It.ot,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,It.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new Ct(this.root,null,this.i,!1)},t.prototype._t=function(t){return new Ct(this.root,t,this.i,!1)},t.prototype.ft=function(){return new Ct(this.root,null,this.i,!0)},t.prototype.dt=function(t){return new Ct(this.root,t,this.i,!0)},t}(),Ct=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.m();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.m();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),It=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.yt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.gt()||i.left.left.gt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.Vt()),i.right.m()||i.right.gt()||i.right.left.gt()||(i=i.bt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.vt()),t.left.gt()&&t.left.left.gt()&&(t=t.Vt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.yt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Vt())).vt()).St()),t},t.prototype.bt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.Vt()).St()),t},t.prototype.vt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw m();if(this.right.gt())throw m();var t=this.left.Ct();if(t!==this.right.Ct())throw m();return t+(this.gt()?0:1)},t}();It.EMPTY=null,It.RED=!0,It.ot=!1,It.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new It(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());var Tt=function(){function t(t){this.i=t,this.data=new Et(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.$t=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new St(this.data.lt())},t.prototype._t=function(t){return new St(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.xt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),St=function(){function t(t){this.kt=t}return t.prototype.Et=function(){return this.kt.Et().key},t.prototype.It=function(){return this.kt.It()},t}(),At=new Et(A.i);function xt(){return At}function Nt(){return xt()}var Ot=new Et(A.i);function Dt(){return Ot}var Pt=new Et(A.i),Rt=new Tt(A.i);function Lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Rt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Mt=new Tt(Z);function Vt(){return Mt}var Ft=function(){function t(t){this.i=t?function(e,n){return t(e,n)||A.i(e.key,n.key)}:function(t,e){return A.i(t.key,e.key)},this.Mt=Dt(),this.Ot=new Et(this.i)}return t.Lt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Mt.get(t)},t.prototype.get=function(t){return this.Mt.get(t)},t.prototype.first=function(){return this.Ot.at()},t.prototype.last=function(){return this.Ot.ct()},t.prototype.m=function(){return this.Ot.m()},t.prototype.indexOf=function(t){var e=this.Mt.get(t);return e?this.Ot.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ot.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Mt.rt(t.key,t),e.Ot.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Mt.remove(t),this.Ot.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ot.lt(),r=e.Ot.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Mt=e,r.Ot=n,r},t}(),jt=function(){function t(){this.Bt=new Et(A.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):m():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),Ut=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=s,this.jt=a}return t.Kt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ft.Lt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Gn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),zt=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Yt=i}return t.Jt=function(e,n){var r=new Map;return r.set(e,Bt.Xt(e,n)),new t(ut.min(),r,Vt(),xt(),Lt())},t}(),Bt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t($.B,n,Lt(),Lt(),Lt())},t}(),qt=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},Ht=function(t,e){this.targetId=t,this.re=e},Gt=function(t,e,n,r){void 0===n&&(n=$.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Wt=function(){function t(){this.oe=0,this.ae=Kt(),this.ce=$.B,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.O()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=Lt(),e=Lt(),n=Lt();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:m()}})),new Bt(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=Kt()},t.prototype.me=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Te=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ee=function(){this.oe+=1},t.prototype.Ie=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),Qt=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=xt(),this.ye=Yt(),this.Ve=new Tt(Z)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof xn?this.be(r,t.ie):t.ie instanceof Nn&&this.ve(r,t.key,t.ie)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.ve(o[i],t.key,t.ie)},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.Ie(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.Ie(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.Fe(n),r.fe(t.resumeToken));break;default:m()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.re.count,r=this.xe(e);if(r){var i=r.target;if(yt(i))if(0===n){var o=new A(i.path);this.ve(e,o,new Nn(o,ut.min()))}else _(1===n);else this.ke(e)!==n&&(this.Fe(e),this.Ve=this.Ve.add(e))}},t.prototype.Me=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.xe(i);if(o){if(r.Zt&&yt(o.target)){var s=new A(o.target.path);null!==e.ge.get(s)||e.Oe(i,s)||e.ve(i,s,new Nn(s,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=Lt();this.ye.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.xe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new zt(t,n,this.Ve,this.ge,r);return this.ge=xt(),this.ye=Yt(),this.Ve=new Tt(Z),i},t.prototype.be=function(t,e){if(this.Ne(t)){var n=this.Oe(t,e.key)?2:0;this.Ce(t).me(e.key,n),this.ge=this.ge.rt(e.key,e),this.ye=this.ye.rt(e.key,this.Le(e.key).add(t))}},t.prototype.ve=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.Oe(t,e)?r.me(e,1):r.Te(e),this.ye=this.ye.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.ke=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ee=function(t){this.Ce(t).Ee()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new Wt,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.ye.get(t);return e||(e=new Tt(Z),this.ye=this.ye.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.xe(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.xe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.Fe=function(t){var e=this;this.Pe.set(t,new Wt),this.Re.Be(t).forEach((function(n){e.ve(t,n,null)}))},t.prototype.Oe=function(t,e){return this.Re.Be(t).has(e)},t}();function Yt(){return new Et(A.i)}function Kt(){return new Et(A.i)}function Zt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xt(t){var e=oe(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var Jt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $t(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zt(t)?4:10:m()}function te(t,e){var n=$t(t);if(n!==$t(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xt(t).isEqual(Xt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oe(t.timestampValue),r=oe(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ae(t.bytesValue).isEqual(ae(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return se(t.geoPointValue.latitude)===se(e.geoPointValue.latitude)&&se(t.geoPointValue.longitude)===se(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return se(t.integerValue)===se(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=se(t.doubleValue),r=se(e.doubleValue);return n===r?lt(n)===lt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return X(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(b(n)!==b(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return m()}}function ee(t,e){return void 0!==(t.values||[]).find((function(t){return te(t,e)}))}function ne(t,e){var n=$t(t),r=$t(e);if(n!==r)return Z(n,r);switch(n){case 0:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=se(t.integerValue||t.doubleValue),r=se(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re(Xt(t),Xt(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ae(t),r=ae(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Z(n[i],r[i]);if(0!==o)return o}return Z(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Z(se(t.latitude),se(e.latitude));return 0!==n?n:Z(se(t.longitude),se(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ne(n[i],r[i]);if(o)return o}return Z(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Z(r[s],o[s]);if(0!==a)return a;var u=ne(n[r[s]],i[o[s]]);if(0!==u)return u}return Z(r.length,o.length)}(t.mapValue,e.mapValue);default:throw m()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Z(t,e);var n=oe(t),r=oe(e),i=Z(n.seconds,r.seconds);return 0!==i?i:Z(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=oe(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ae(e.bytesValue).toBase64():"referenceValue"in e?A.C(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):m();var n}(t)}function oe(t){if(_(!!t),"string"==typeof t){var e=0,n=Jt.exec(t);if(_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:se(t.seconds),nanos:se(t.nanos)}}function se(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ae(t){return"string"==typeof t?$.fromBase64String(t):$.fromUint8Array(t)}function ue(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function ce(t){return!!t&&"integerValue"in t}function le(t){return!!t&&"arrayValue"in t}function fe(t){return!!t&&"nullValue"in t}function he(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function de(t){return!!t&&"mapValue"in t}var pe={asc:"ASCENDING",desc:"DESCENDING"},ve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ye=function(t,e){this.U=t,this.Ue=e};function ge(t){return{integerValue:""+t}}function me(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lt(e)?"-0":e}}function _e(t,e){return ft(e)?ge(e):me(t,e)}function we(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function be(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function ke(t,e){return we(t,e.X())}function Ee(t){return _(!!t),ut.Y(function(t){var e=oe(t);return new at(e.seconds,e.nanos)}(t))}function Ce(t,e){return function(t){return new I(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Ie(t){var e=I.P(t);return _(We(e)),e}function Te(t,e){return Ce(t.U,e.path)}function Se(t,e){var n=Ie(e);return _(n.get(1)===t.U.projectId),_(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new A(Oe(n))}function Ae(t,e){return Ce(t.U,e)}function xe(t){var e=Ie(t);return 4===e.length?I.g():Oe(e)}function Ne(t){return new I(["projects",t.U.projectId,"databases",t.U.database]).R()}function Oe(t){return _(t.length>4&&"documents"===t.get(4)),t.u(5)}function De(t,e,n){return{name:Te(t,e),fields:n.proto.mapValue.fields}}function Pe(t,e){var n;if(e instanceof gn)n={update:De(t,e.key,e.value)};else if(e instanceof En)n={delete:Te(t,e.key)};else if(e instanceof mn)n={update:De(t,e.key,e.data),updateMask:Ge(e.Qe)};else if(e instanceof wn)n={transform:{document:Te(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Xe)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Je)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:e.field.R(),increment:n.We};throw m()}(0,t)}))}};else{if(!(e instanceof Cn))return m();n={verify:Te(t,e.key)}}return e.Ke.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ke(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:m()}(t,e.Ke)),n}function Re(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?cn.updateTime(Ee(t.updateTime)):void 0!==t.exists?cn.exists(t.exists):cn.Ge()}(e.currentDocument):cn.Ge();if(e.update){var r=Se(t,e.update.name),i=new In({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new sn((t.fieldPaths||[]).map((function(t){return S.S(t)})))}(e.updateMask);return new mn(r,i,o,n)}return new gn(r,i,n)}if(e.delete){var s=Se(t,e.delete);return new En(s,n)}if(e.transform){var a=Se(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(_("REQUEST_TIME"===e.setToServerValue),n=new Xe):"appendMissingElements"in e?n=new Je(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new tn(e.removeAllFromArray.values||[]):"increment"in e?n=new nn(t,e.increment):m();var r=S.S(e.fieldPath);return new an(r,n)}(t,e)}));return _(!0===n.exists),new wn(a,u)}if(e.verify){var c=Se(t,e.verify);return new Cn(c,n)}return m()}function Le(t,e){return{documents:[Ae(t,e.path)]}}function Me(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ae(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ae(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(he(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NAN"}};if(fe(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(he(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NOT_NAN"}};if(fe(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ze(t.field),op:Ue(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ze(t.field),direction:je(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Ue||ct(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ve(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ve(e.endAt)),n}function Ve(t){return{before:t.before,values:t.position}}function Fe(t){return new or(t.values||[],!!t.before)}function je(t){return pe[t]}function Ue(t){return ve[t]}function ze(t){return{fieldPath:t.R()}}function Be(t){return S.S(t.fieldPath)}function qe(t){return Zn.create(Be(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return m()}}(t.fieldFilter.op),t.fieldFilter.value)}function He(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Be(t.unaryFilter.field);return Zn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Be(t.unaryFilter.field);return Zn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Be(t.unaryFilter.field);return Zn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Be(t.unaryFilter.field);return Zn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return m()}}function Ge(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function We(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Qe=function(){this.ze=void 0};function Ye(t,e,n){return t instanceof Xe?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Je?$e(t,e):t instanceof tn?en(t,e):function(t,e){var n=Ze(t,e),r=rn(n)+rn(t.We);return ce(n)&&ce(t.We)?ge(r):me(t.serializer,r)}(t,e)}function Ke(t,e,n){return t instanceof Je?$e(t,e):t instanceof tn?en(t,e):n}function Ze(t,e){return t instanceof nn?ce(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Qe),Je=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Qe);function $e(t,e){for(var n=on(e),r=function(t){n.some((function(e){return te(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Qe);function en(t,e){for(var n=on(e),r=function(t){n=n.filter((function(e){return!te(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return r.__extends(e,t),e}(Qe);function rn(t){return se(t.integerValue||t.doubleValue)}function on(t){return le(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var sn=function(){function t(t){this.fields=t,t.sort(S.i)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return X(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),an=function(t,e){this.field=t,this.transform=e},un=function(t,e){this.version=t,this.transformResults=e},cn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ln(t,e){return void 0!==t.updateTime?e instanceof xn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof xn}var fn=function(){};function hn(t,e,n){return t instanceof gn?function(t,e,n){return new xn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof mn?function(t,e,n){if(!ln(t.Ke,e))return new On(t.key,n.version);var r=_n(t,e);return new xn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof wn?function(t,e,n){if(_(null!=n.transformResults),!ln(t.Ke,e))return new On(t.key,n.version);var r=bn(0,e),i=function(t,e,n){var r=[];_(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof xn&&(a=e.field(o.field)),r.push(Ke(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=kn(t,r.data(),i);return new xn(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Nn(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function dn(t,e,n,r){return t instanceof gn?function(t,e){if(!ln(t.Ke,e))return e;var n=yn(e);return new xn(t.key,n,t.value,{Ye:!0})}(t,e):t instanceof mn?function(t,e){if(!ln(t.Ke,e))return e;var n=yn(e),r=_n(t,e);return new xn(t.key,n,r,{Ye:!0})}(t,e):t instanceof wn?function(t,e,n,r){if(!ln(t.Ke,e))return e;var i=bn(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof xn&&(c=n.field(a.field)),null===c&&r instanceof xn&&(c=r.field(a.field)),i.push(Ye(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=kn(t,i.data(),o);return new xn(t.key,i.version,s,{Ye:!0})}(t,e,r,n):function(t,e){return ln(t.Ke,e)?new Nn(t.key,ut.min()):e}(t,e)}function pn(t,e){return t instanceof wn?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof xn?e.field(o.field):void 0,a=Ze(o.transform,s||null);null!=a&&(n=null==n?(new Tn).set(o.field,a):n.set(o.field,a))}return n?n.Je():null}(t,e):null}function vn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ke.isEqual(e.Ke)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||X(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Je&&e instanceof Je||t instanceof tn&&e instanceof tn?X(t.elements,e.elements,te):t instanceof nn&&e instanceof nn?te(t.We,e.We):t instanceof Xe&&e instanceof Xe}(t.transform,e.transform)}(t,e)})))}function yn(t){return t instanceof xn?t.version:ut.min()}var gn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ke=r,i.type=0,i}return r.__extends(e,t),e}(fn),mn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.Ke=i,o.type=1,o}return r.__extends(e,t),e}(fn);function _n(t,e){return function(t,e){var n=new Tn(e);return t.Qe.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Je()}(t,e instanceof xn?e.data():In.empty())}var wn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ke=cn.exists(!0),r}return r.__extends(e,t),e}(fn);function bn(t,e){return e}function kn(t,e,n){for(var r=new Tn(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Je()}var En=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ke=n,r.type=3,r}return r.__extends(e,t),e}(fn),Cn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ke=n,r.type=4,r}return r.__extends(e,t),e}(fn),In=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!de(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),Tn=function(){function t(t){void 0===t&&(t=In.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===$t(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Je=function(){var t=this.en(S.g(),this.Ze);return null!=t?new In(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),o=de(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.en(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Sn(t){var e=[];return k(t.fields||{},(function(t,n){var r=new S([t]);if(de(n)){var i=Sn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new sn(e)}var An=function(t,e){this.key=t,this.version=e},xn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).nn=r,o.Ye=!!i.Ye,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.nn.field(t)},e.prototype.data=function(){return this.nn},e.prototype.sn=function(){return this.nn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(An),Nn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(An),On=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(An),Dn=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.on=o,this.startAt=s,this.endAt=a,this.an=null,this.cn=null};function Pn(t,e,n,r,i,o,s,a){return new Dn(t,e,n,r,i,o,s,a)}function Rn(t){return new Dn(t)}function Ln(t){return!ct(t.limit)&&"F"===t.on}function Mn(t){return!ct(t.limit)&&"L"===t.on}function Vn(t){return t.rn.length>0?t.rn[0].field:null}function Fn(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function jn(t){return null!==t.collectionGroup}function Un(t){var e=w(t);if(null===e.an){e.an=[];var n=Fn(e),r=Vn(e);if(null!==n&&null===r)n.p()||e.an.push(new cr(n)),e.an.push(new cr(S.v(),"asc"));else{for(var i=!1,o=0,s=e.rn;o<s.length;o++){var a=s[o];e.an.push(a),a.field.p()&&(i=!0)}if(!i){var u=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.an.push(new cr(S.v(),u))}}}return e.an}function zn(t){var e=w(t);if(!e.cn)if("F"===e.on)e.cn=dt(e.path,e.collectionGroup,Un(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Un(e);r<i.length;r++){var o=i[r];n.push(new cr(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new or(e.endAt.position,!e.endAt.before):null,a=e.startAt?new or(e.startAt.position,!e.startAt.before):null;e.cn=dt(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.cn}function Bn(t,e,n){return new Dn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qn(t,e){return new Dn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,e,t.endAt)}function Hn(t,e){return new Dn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,e)}function Gn(t,e){return vt(zn(t),zn(e))&&t.on===e.on}function Wn(t){return pt(zn(t))+"|lt:"+t.on}function Qn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e})).join(", ")+"]"),ct(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+sr(t.startAt)),t.endAt&&(e+=", endAt: "+sr(t.endAt)),"Target("+e+")"}(zn(t))+"; limitType="+t.on+")"}function Yn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):A.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ar(t.startAt,Un(t),e)||t.endAt&&ar(t.endAt,Un(t),e))}(t,e)}function Kn(t){return function(e,n){for(var r=!1,i=0,o=Un(t);i<o.length;i++){var s=o[i],a=lr(s,e,n);if(0!==a)return a;r=r||s.field.p()}return 0}}var Zn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.hn(t,n,r):new Xn(t,n,r);if(fe(r)){if("=="!==n&&"!="!==n)throw new f(l.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(he(r)){if("=="!==n&&"!="!==n)throw new f(l.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new er(t,r):"in"===n?new nr(t,r):"not-in"===n?new rr(t,r):"array-contains-any"===n?new ir(t,r):new e(t,n,r)},e.hn=function(t,e,n){return"in"===e?new Jn(t,n):new $n(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.ln(ne(e,this.value)):null!==e&&$t(this.value)===$t(e)&&this.ln(ne(e,this.value))},e.prototype.ln=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return m()}},e.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Xn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=A.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=A.i(t.key,this.key);return this.ln(e)},e}(Zn),Jn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Zn),$n=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Zn);function tr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return A.C(t.referenceValue)}))}var er=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return le(e)&&ee(e.arrayValue,this.value)},e}(Zn),nr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(Zn),rr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(Zn),ir=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!le(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ee(e.value.arrayValue,t)}))},e}(Zn),or=function(t,e){this.position=t,this.before=e};function sr(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ie(t)})).join(",")}function ar(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.p()?A.i(A.C(s.referenceValue),n.key):ne(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ur(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var cr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function lr(t,e,n){var r=t.field.p()?A.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):m()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return m()}}function fr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var hr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},dr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this._n=t,this.fn=e,this.dn=n,this.wn=r,this.mn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.An=function(){this.Tn=this.mn},t.prototype.Rn=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Pn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this._n.gn(this.fn,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},t.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.Tn},t}(),pr=function(){function t(t){var e=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,t((function(t){e.vn=!0,e.result=t,e.pn&&e.pn(t)}),(function(t){e.vn=!0,e.error=t,e.bn&&e.bn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Sn&&m(),this.Sn=!0,this.vn?this.error?this.Dn(n,this.error):this.Cn(e,this.result):new t((function(t,i){r.pn=function(n){r.Cn(e,n).next(t,i)},r.bn=function(e){r.Dn(n,e).next(t,i)}}))},t.prototype.Nn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Cn=function(e,n){return e?this.Fn((function(){return e(n)})):t.resolve(n)},t.prototype.Dn=function(e,n){return e?this.Fn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.xn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),vr=function(){function t(e,n,r){this.name=e,this.version=n,this.kn=r,12.2===t.Mn(s.getUA())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return p("SimpleDb","Removing database:",t),br(window.indexedDB.deleteDatabase(t)).Nn()},t.On=function(){if("undefined"==typeof indexedDB)return!1;if(t.Ln())return!0;var e=s.getUA(),n=t.Mn(e),r=0<n&&n<10,i=t.Bn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Ln=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.qn)},t.Un=function(t,e){return t.store(e)},t.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Bn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){t(e.target.result)},r.onblocked=function(){n(new gr("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;n("VersionError"===e.name?new f(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new gr(e))},r.onupgradeneeded=function(t){p("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.kn.createOrUpgrade(t.target.result,r.transaction,t.oldVersion,e.version).next((function(){p("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return e.Wn(t)}),this.db)]}}))}))},t.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u;return r.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:++o,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,a.Qn()];case 2:return a.db=r.sent(),t=_r.open(a.db,i?"readonly":"readwrite",e),s=n(t).catch((function(e){return t.abort(e),pr.reject(e)})).Nn(),u={},s.catch((function(){})),[4,t.Kn];case 3:return[2,(u.value=(r.sent(),s),u)];case 4:return p("SimpleDb","Transaction failed with error:",(c=r.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),yr=function(){function t(t){this.Gn=t,this.zn=!1,this.Hn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Gn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.zn=!0},t.prototype.Jn=function(t){this.Hn=t},t.prototype.delete=function(){return br(this.Gn.delete())},t}(),gr=function(t){function e(e){var n=this;return(n=t.call(this,l.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(f);function mr(t){return"IndexedDbTransactionError"===t.name}var _r=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Xn=new hr,this.transaction.oncomplete=function(){e.Xn.resolve()},this.transaction.onabort=function(){t.error?e.Xn.reject(new gr(t.error)):e.Xn.resolve()},this.transaction.onerror=function(t){var n=Er(t.target.error);e.Xn.reject(new gr(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new gr(e)}},Object.defineProperty(t.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Xn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new wr(e)},t}(),wr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),br(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),br(this.store.add(t))},t.prototype.get=function(t){var e=this;return br(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),br(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),br(this.store.count())},t.prototype.Zn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ts(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.es=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ns=!1;var r=this.cursor(n);return this.ts(r,(function(t,e,n){return n.delete()}))},t.prototype.ss=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ts(r,e)},t.prototype.rs=function(t){var e=this.cursor({});return new pr((function(n,r){e.onerror=function(t){var e=Er(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ts=function(t,e){var n=[];return new pr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new yr(i),s=e(i.primaryKey,i.value,o);if(s instanceof pr){var a=s.catch((function(t){return o.done(),pr.reject(t)}));n.push(a)}o.vn?r():null===o.Yn?i.continue():i.continue(o.Yn)}else r()}})).next((function(){return pr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function br(t){return new pr((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Er(t.target.error);n(e)}}))}var kr=!1;function Er(t){var e=vr.Mn(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new f("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return kr||(kr=!0,setTimeout((function(){throw r}),0)),r}}return t}function Cr(){return"undefined"!=typeof window?window:null}function Ir(){return"undefined"!=typeof document?document:null}var Tr=function(){function t(t,e,n,r,i){this.os=t,this.fn=e,this.cs=n,this.op=r,this.us=i,this.hs=new hr,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch((function(t){}))}return t.ls=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this._s=setTimeout((function(){return e.fs()}),t)},t.prototype.Vn=function(){return this.fs()},t.prototype.cancel=function(t){null!==this._s&&(this.clearTimeout(),this.hs.reject(new f(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.fs=function(){var t=this;this.os.ds((function(){return null!==t._s?(t.clearTimeout(),t.op().then((function(e){return t.hs.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)},t}(),Sr=function(){function t(){var t=this;this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new dr(this,"async_queue_retry"),this.ys=function(){var e=Ir();e&&p("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.gs.yn()};var e=Ir();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),t.prototype.ds=function(t){this.enqueue(t)},t.prototype.ps=function(t){this.bs(),this.vs(t)},t.prototype.Ss=function(){if(!this.Es){this.Es=!0;var t=Ir();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys)}},t.prototype.enqueue=function(t){return this.bs(),this.Es?new Promise((function(t){})):this.vs(t)},t.prototype.Ds=function(t){var e=this;this.Ts.push(t),this.ds((function(){return e.Cs()}))},t.prototype.Cs=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(!mr(t=n.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.gs.Rn((function(){return e.Cs()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ws.then((function(){return e.Rs=!0,t().catch((function(t){throw e.As=t,e.Rs=!1,v("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Rs=!1,t}))}));return this.ws=n,n},t.prototype.gn=function(t,e,n){var r=this;this.bs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Tr.ls(this,t,e,n,(function(t){return r.Ns(t)}));return this.Is.push(i),i},t.prototype.bs=function(){this.As&&m()},t.prototype.Fs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ws];case 1:e.sent(),e.label=2;case 2:if(t!==this.ws)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.xs=function(t){for(var e=0,n=this.Is;e<n.length;e++)if(n[e].fn===t)return!0;return!1},t.prototype.ks=function(t){var e=this;return this.$s().then((function(){e.Is.sort((function(t,e){return t.cs-e.cs}));for(var n=0,r=e.Is;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i.fn===t)break}return e.$s()}))},t.prototype.Ms=function(t){this.Ps.push(t)},t.prototype.Ns=function(t){var e=this.Is.indexOf(t);this.Is.splice(e,1)},t}();function Ar(t,e){if(v("AsyncQueue",e+": "+t),mr(t))return new f(l.UNAVAILABLE,e+": "+t);throw t}var xr=function(){this.Os=void 0,this.listeners=[]},Nr=function(){this.Ls=new st((function(t){return Wn(t)}),Gn),this.onlineState="Unknown",this.Bs=new Set};function Or(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=w(t),o=!1,(s=n.Ls.get(i=e.query))||(o=!0,s=new xr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.qs(i)];case 2:return a.Os=r.sent(),[3,4];case 3:return u=r.sent(),c=Ar(u,"Initialization of query '"+Qn(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Ls.set(i,s),s.listeners.push(e),e.Us(n.onlineState),s.Os&&e.Qs(s.Os)&&Lr(n),[2]}}))}))}function Dr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){return n=w(t),o=!1,(s=n.Ls.get(i=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.Ls.delete(i),n.Ws(i))]:[2]}))}))}function Pr(t,e){for(var n=w(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.Ls.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Qs(s)&&(r=!0);a.Os=s}}r&&Lr(n)}function Rr(t,e,n){var r=w(t),i=r.Ls.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Ls.delete(e)}function Lr(t){t.Bs.forEach((function(t){t.next()}))}var Mr=function(){function t(t,e,n){this.query=t,this.js=e,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ut(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Ks?this.zs(t)&&(this.js.next(t),o=!0):this.Hs(t,this.onlineState)&&(this.Ys(t),o=!0),this.Gs=t,o},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Us=function(t){this.onlineState=t;var e=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,t)&&(this.Ys(this.Gs),e=!0),e},t.prototype.Hs=function(t,e){return!t.fromCache||!(this.options.Js&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},t.prototype.zs=function(t){return t.docChanges.length>0||!!(t.Wt||this.Gs&&this.Gs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Ys=function(t){t=Ut.Kt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.js.next(t)},t}(),Vr=function(){function t(t){this.uid=t}return t.prototype.Xs=function(){return null!=this.uid},t.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Vr.UNAUTHENTICATED=new Vr(null),Vr.ti=new Vr("google-credentials-uid"),Vr.ei=new Vr("first-party-uid");var Fr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ni=function(t){return n.si(t)},this.ii=function(t){return e.ri(t)})}return t.prototype.si=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ii&&this.ii(t),t},t}();function jr(t,e){return"firestore_clients_"+t+"_"+e}function Ur(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Xs()&&(r+="_"+e.uid),r}function zr(t,e){return"firestore_targets_"+t+"_"+e}Fr.oi=-1;var Br=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ai=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new f(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(v("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ai=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new f(r.error.code,r.error.message)),i?new t(e,r.state,o):(v("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ai=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Vt(),s=0;i&&s<r.activeTargetIds.length;++s)i=ft(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(v("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Gr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ai=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(v("SharedClientState","Failed to parse online state: "+e),null)},t}(),Wr=function(){function t(){this.activeTargetIds=Vt()}return t.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Qr=function(){function t(t,e,n,r,i){this.window=t,this._n=e,this.persistenceKey=n,this.li=r,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new Et(Z),this.Ti=!1,this.Ei=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ii=jr(this.persistenceKey,this.li),this.Ai=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.mi=this.mi.rt(this.li,new Wr),this.Ri=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.yi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.di)}return t.On=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,c,l,f=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this._i.Vi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.li&&(o=this.getItem(jr(this.persistenceKey,i)))&&(s=Hr.ai(i,o))&&(this.mi=this.mi.rt(s.clientId,s));for(this.pi(),(a=this.storage.getItem(this.yi))&&(u=this.bi(a))&&this.vi(u),c=0,l=this.Ei;c<l.length;c++)this.wi(l[c]);return this.Ei=[],this.window.addEventListener("unload",(function(){return f.Si()})),this.Ti=!0,[2]}}))}))},t.prototype.ri=function(t){this.setItem(this.Ai,JSON.stringify(t))},t.prototype.Di=function(){return this.Ci(this.mi)},t.prototype.Ni=function(t){var e=!1;return this.mi.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Fi=function(t){this.$i(t,"pending")},t.prototype.xi=function(t,e,n){this.$i(t,e,n),this.ki(t)},t.prototype.Mi=function(t){var e="not-current";if(this.Ni(t)){var n=this.storage.getItem(zr(this.persistenceKey,t));if(n){var r=qr.ai(t,n);r&&(e=r.state)}}return this.Oi.ui(t),this.pi(),e},t.prototype.Li=function(t){this.Oi.hi(t),this.pi()},t.prototype.Bi=function(t){return this.Oi.activeTargetIds.has(t)},t.prototype.qi=function(t){this.removeItem(zr(this.persistenceKey,t))},t.prototype.Ui=function(t,e,n){this.Qi(t,e,n)},t.prototype.Wi=function(t,e,n){var r=this;e.forEach((function(t){r.ki(t)})),this.currentUser=t,n.forEach((function(t){r.Fi(t)}))},t.prototype.ji=function(t){this.Ki(t)},t.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ii)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._n.Ds((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,s,a;return r.__generator(this,(function(r){if(this.Ti){if(null!==n.key)if(this.Ri.test(n.key)){if(null==n.newValue)return t=this.Gi(n.key),[2,this.zi(t,null)];if(e=this.Hi(n.key,n.newValue))return[2,this.zi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Yi(n.key,n.newValue)))return[2,this.Ji(i)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(o=this.Xi(n.key,n.newValue)))return[2,this.Zi(o)]}else if(n.key===this.yi){if(null!==n.newValue&&(s=this.bi(n.newValue)))return[2,this.vi(s)]}else n.key===this.Ai&&(a=function(t){var e=Fr.oi;if(null!=t)try{var n=JSON.parse(t);_("number"==typeof n),e=n}catch(t){v("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Fr.oi&&this.ni(a)}else this.Ei.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),t.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},t.prototype.$i=function(t,e,n){var r=new Br(this.currentUser,t,e,n),i=Ur(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ci())},t.prototype.ki=function(t){var e=Ur(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ki=function(t){this.storage.setItem(this.yi,JSON.stringify({clientId:this.li,onlineState:t}))},t.prototype.Qi=function(t,e,n){var r=zr(this.persistenceKey,t),i=new qr(t,e,n);this.setItem(r,i.ci())},t.prototype.Gi=function(t){var e=this.Ri.exec(t);return e?e[1]:null},t.prototype.Hi=function(t,e){var n=this.Gi(t);return Hr.ai(n,e)},t.prototype.Yi=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]);return Br.ai(new Vr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xi=function(t,e){var n=this.gi.exec(t),r=Number(n[1]);return qr.ai(r,e)},t.prototype.bi=function(t){return Gr.ai(t)},t.prototype.Ji=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._i.tr(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Zi=function(t){return this._i.er(t.targetId,t.state,t.error)},t.prototype.zi=function(t,e){var n=this,r=e?this.mi.rt(t,e):this.mi.remove(t),i=this.Ci(this.mi),o=this.Ci(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this._i.nr(s,a).then((function(){n.mi=r}))},t.prototype.vi=function(t){this.mi.get(t.clientId)&&this.fi(t.onlineState)},t.prototype.Ci=function(t){var e=Vt();return t.forEach((function(t,n){e=e.xt(n.activeTargetIds)})),e},t}(),Yr=function(){function t(){this.sr=new Wr,this.ir={},this.fi=null,this.ni=null}return t.prototype.Fi=function(t){},t.prototype.xi=function(t,e,n){},t.prototype.Mi=function(t){return this.sr.ui(t),this.ir[t]||"not-current"},t.prototype.Ui=function(t,e,n){this.ir[t]=e},t.prototype.Li=function(t){this.sr.hi(t)},t.prototype.Bi=function(t){return this.sr.activeTargetIds.has(t)},t.prototype.qi=function(t){delete this.ir[t]},t.prototype.Di=function(){return this.sr.activeTargetIds},t.prototype.Ni=function(t){return this.sr.activeTargetIds.has(t)},t.prototype.start=function(){return this.sr=new Wr,Promise.resolve()},t.prototype.Wi=function(t,e,n){},t.prototype.ji=function(t){},t.prototype.Si=function(){},t.prototype.ri=function(t){},t}(),Kr=function(){function t(t,e,n,r){this.batchId=t,this.rr=e,this.baseMutations=n,this.mutations=r}return t.prototype.ar=function(t,e,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=hn(o,e,r[i]))}return e},t.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=dn(i,e,e,this.rr))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=dn(u,e,o,this.rr))}return e},t.prototype.hr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ur(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Lt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&X(this.mutations,t.mutations,(function(t,e){return vn(t,e)}))&&X(this.baseMutations,t.baseMutations,(function(t,e){return vn(t,e)}))},t}(),Zr=function(){function t(t,e,n,r){this.batch=t,this.lr=e,this.cr=n,this._r=r}return t.from=function(e,n,r){_(e.mutations.length===r.length);for(var i=Pt,o=e.mutations,s=0;s<o.length;s++)i=i.rt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Xr=function(){function t(){this.dr=new st((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.wr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.mr},set:function(t){this.mr=t},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t,e){this.Er(),this.readTime=e,this.dr.set(t.key,t)},t.prototype.Ir=function(t,e){this.Er(),e&&(this.readTime=e),this.dr.set(t,null)},t.prototype.Ar=function(t,e){this.Er();var n=this.dr.get(e);return void 0!==n?pr.resolve(n):this.Rr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Er(),this.wr=!0,this.gr(t)},t.prototype.Er=function(){},t}(),Jr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$r=function(){function t(){this.yr=[]}return t.prototype.Vr=function(t){this.yr.push(t)},t.prototype.pr=function(){this.yr.forEach((function(t){return t()}))},t}(),ti=function(){function t(t,e,n){this.br=t,this.vr=e,this.Sr=n}return t.prototype.Dr=function(t,e){var n=this;return this.vr.Cr(t,e).next((function(r){return n.Nr(t,e,r)}))},t.prototype.Nr=function(t,e,n){return this.br.Ar(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ur(e,t);return t}))},t.prototype.Fr=function(t,e,n){var r=Nt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ur(t,e);r=r.rt(t,e)})),r},t.prototype.$r=function(t,e){var n=this;return this.br.getEntries(t,e).next((function(e){return n.kr(t,e)}))},t.prototype.kr=function(t,e){var n=this;return this.vr.Mr(t,e).next((function(r){var i=n.Fr(t,e,r),o=xt();return i.forEach((function(t,e){e||(e=new Nn(t,ut.min())),o=o.rt(t,e)})),o}))},t.prototype.Or=function(t,e,n){return function(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Lr(t,e.path):jn(e)?this.Br(t,e,n):this.qr(t,e,n)},t.prototype.Lr=function(t,e){return this.Dr(t,new A(e)).next((function(t){var e=Dt();return t instanceof xn&&(e=e.rt(t.key,t)),e}))},t.prototype.Br=function(t,e,n){var r=this,i=e.collectionGroup,o=Dt();return this.Sr.Ur(t,i).next((function(s){return pr.forEach(s,(function(s){var a=function(t,e){return new Dn(e,null,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,t.endAt)}(e,s.child(i));return r.qr(t,a,n).next((function(t){t.forEach((function(t,e){o=o.rt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.qr=function(t,e,n){var r,i,o=this;return this.br.Or(t,e,n).next((function(n){return r=n,o.vr.Qr(t,e)})).next((function(e){return o.Wr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),f=dn(u,l,l,o.rr);r=f instanceof xn?r.rt(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Yn(e,n)||(r=r.remove(t))})),r}))},t.prototype.Wr=function(t,e,n){for(var r=Lt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof mn&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.br.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof xn&&(c=c.rt(t,e))})),c}))},t}(),ei=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Kr=r}return t.Gr=function(e,n){for(var r=Lt(),i=Lt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ni(t,e){var n=t[1],r=e[1],i=Z(t[0],e[0]);return 0===i?Z(n,r):i}var ri=function(){function t(t){this.zr=t,this.buffer=new Tt(ni),this.Hr=0}return t.prototype.Yr=function(){return++this.Hr},t.prototype.Jr=function(t){var e=[t,this.Yr()];if(this.buffer.size<this.zr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ni(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ii={Xr:!1,Zr:0,eo:0,no:0},oi=function(){function t(t,e,n){this.so=t,this.io=e,this.ro=n}return t.oo=function(e){return new t(e,t.ao,t.co)},t}();oi.uo=-1,oi.ho=1048576,oi.lo=41943040,oi.ao=10,oi.co=1e3,oi._o=new oi(oi.lo,oi.ao,oi.co),oi.fo=new oi(oi.uo,0,0);var si=function(){function t(t,e){this.do=t,this.os=e,this.wo=!1,this.mo=null}return t.prototype.start=function(t){this.do.params.so!==oi.uo&&this.To(t)},t.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(t.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),t.prototype.To=function(t){var e=this,n=this.wo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.mo=this.os.gn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.mo=null,this.wo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Eo(this.do)];case 2:return n.sent(),[3,7];case 3:return mr(e=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Eo(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.To(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ai=function(){function t(t,e){this.Io=t,this.params=e}return t.prototype.Ao=function(t,e){return this.Io.Ro(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Po=function(t,e){var n=this;if(0===e)return pr.resolve(Fr.oi);var r=new ri(e);return this.Io.De(t,(function(t){return r.Jr(t.sequenceNumber)})).next((function(){return n.Io.yo(t,(function(t){return r.Jr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Vo=function(t,e,n){return this.Io.Vo(t,e,n)},t.prototype.po=function(t,e){return this.Io.po(t,e)},t.prototype.bo=function(t,e){var n=this;return this.params.so===oi.uo?(p("LruGarbageCollector","Garbage collection skipped; disabled"),pr.resolve(ii)):this.vo(t).next((function(r){return r<n.params.so?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.so),ii):n.So(t,e)}))},t.prototype.vo=function(t){return this.Io.vo(t)},t.prototype.So=function(t,e){var n,r,i,s,a,u,c,l=this,f=Date.now();return this.Ao(t,this.params.io).next((function(e){return e>l.params.ro?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.ro+" from "+e),r=l.params.ro):r=e,s=Date.now(),l.Po(t,r)})).next((function(r){return n=r,a=Date.now(),l.Vo(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.po(t,n)})).next((function(t){return c=Date.now(),d()<=o.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),pr.resolve({Xr:!0,Zr:r,eo:i,no:t})}))},t}();function ui(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=li(e)),e=ci(t.get(n),e);return li(e)}function ci(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function li(t){return t+"\x01\x01"}function fi(t){var e=t.length;if(_(e>=2),2===e)return _("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),I.g();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&m(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:m()}o=s+2}return new I(r)}var hi=function(t){this.Do=t};function di(t,e){if(e.document)return function(t,e,n){var r=Se(t,e.name),i=Ee(e.updateTime),o=new In({mapValue:{fields:e.fields}});return new xn(r,i,o,{hasCommittedMutations:!!n})}(t.Do,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=A.$(e.noDocument.path),r=mi(e.noDocument.readTime);return new Nn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=A.$(e.unknownDocument.path),o=mi(e.unknownDocument.version);return new On(i,o)}return m()}function pi(t,e,n){var r=vi(n),i=e.key.path.h().A();if(e instanceof xn){var o=function(t,e){return{name:Te(t,e.key),fields:e.sn().mapValue.fields,updateTime:we(t,e.version.X())}}(t.Do,e);return new qi(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof Nn){var s=e.key.path.A(),a=gi(e.version),u=e.hasCommittedMutations;return new qi(null,new zi(s,a),null,u,r,i)}if(e instanceof On){var c=e.key.path.A(),l=gi(e.version);return new qi(new Bi(c,l),null,null,!0,r,i)}return m()}function vi(t){var e=t.X();return[e.seconds,e.nanoseconds]}function yi(t){var e=new at(t[0],t[1]);return ut.Y(e)}function gi(t){var e=t.X();return new Mi(e.seconds,e.nanoseconds)}function mi(t){var e=new at(t.seconds,t.nanoseconds);return ut.Y(e)}function _i(t,e){var n=(e.baseMutations||[]).map((function(e){return Re(t.Do,e)})),r=e.mutations.map((function(e){return Re(t.Do,e)})),i=at.fromMillis(e.localWriteTimeMs);return new Kr(e.batchId,i,n,r)}function wi(t){var e,n,r=mi(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?mi(t.lastLimboFreeSnapshotVersion):ut.min();return void 0!==t.query.documents?(_(1===(n=t.query).documents.length),e=zn(Rn(xe(n.documents[0])))):e=function(t){var e=xe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[He(e)]:void 0!==e.fieldFilter?[qe(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):m():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new cr(Be(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ct(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Fe(n.startAt));var l=null;return n.endAt&&(l=Fe(n.endAt)),zn(Pn(e,i,a,s,u,"F",c,l))}(t.query),new _t(e,t.targetId,0,t.lastListenSequenceNumber,r,i,$.fromBase64String(t.resumeToken))}function bi(t,e){var n,r=gi(e.et),i=gi(e.lastLimboFreeSnapshotVersion);n=yt(e.target)?Le(t.Do,e.target):Me(t.Do,e.target);var o=e.resumeToken.toBase64();return new Gi(e.targetId,pt(e.target),r,o,e.sequenceNumber,i,n)}var ki=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Sr=n,this.Co=r,this.No={}}return t.Fo=function(e,n,r,i){return _(""!==e.uid),new t(e.Xs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ii(t).ss({index:ji.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.xo=function(t,e,n,r){var i=this,o=Ti(t),s=Ii(t);return s.add({}).next((function(a){_("number"==typeof a);for(var u=new Kr(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Pe(t.Do,e)})),i=n.mutations.map((function(e){return Pe(t.Do,e)}));return new ji(e,n.batchId,n.rr.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],f=new Tt((function(t,e){return Z(t.R(),e.R())})),h=0,d=r;h<d.length;h++){var p=d[h],v=Ui.key(i.userId,p.key.path,a);f=f.add(p.key.path.h()),l.push(s.put(c)),l.push(o.put(v,Ui.PLACEHOLDER))}return f.forEach((function(e){l.push(i.Sr.ko(t,e))})),t.Vr((function(){i.No[a]=u.keys()})),pr.$n(l).next((function(){return u}))}))},t.prototype.Mo=function(t,e){var n=this;return Ii(t).get(e).next((function(t){return t?(_(t.userId===n.userId),_i(n.serializer,t)):null}))},t.prototype.Oo=function(t,e){var n=this;return this.No[e]?pr.resolve(this.No[e]):this.Mo(t,e).next((function(t){if(t){var r=t.keys();return n.No[e]=r,r}return null}))},t.prototype.Lo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ii(t).ss({index:ji.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_(e.batchId>=r),o=_i(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ii(t).ss({index:ji.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ii(t).Zn(ji.userMutationsIndex,n).next((function(t){return t.map((function(t){return _i(e.serializer,t)}))}))},t.prototype.Cr=function(t,e){var n=this,r=Ui.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ti(t).ss({range:i},(function(r,i,s){var a=r[0],u=r[2],c=fi(r[1]);if(a===n.userId&&e.path.isEqual(c))return Ii(t).get(u).next((function(t){if(!t)throw m();_(t.userId===n.userId),o.push(_i(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.Mr=function(t,e){var n=this,r=new Tt(Z),i=[];return e.forEach((function(e){var o=Ui.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ti(t).ss({range:s},(function(t,i,o){var s=t[0],a=t[2],u=fi(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),pr.$n(i).next((function(){return n.Uo(t,r)}))},t.prototype.Qr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ui.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Tt(Z);return Ti(t).ss({range:s},(function(t,e,o){var s=t[0],u=t[2],c=fi(t[1]);s===n.userId&&r.T(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Uo(t,a)}))},t.prototype.Uo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ii(t).get(e).next((function(t){if(null===t)throw m();_(t.userId===n.userId),r.push(_i(n.serializer,t))})))})),pr.$n(i).next((function(){return r}))},t.prototype.Qo=function(t,e){var n=this;return Ci(t.Wo,this.userId,e).next((function(r){return t.Vr((function(){n.jo(e.batchId)})),pr.forEach(r,(function(e){return n.Co.Ko(t,e)}))}))},t.prototype.jo=function(t){delete this.No[t]},t.prototype.Go=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return pr.resolve();var r=IDBKeyRange.lowerBound(Ui.prefixForUser(e.userId)),i=[];return Ti(t).ss({range:r},(function(t,n,r){if(t[0]===e.userId){var o=fi(t[1]);i.push(o)}else r.done()})).next((function(){_(0===i.length)}))}))},t.prototype.zo=function(t,e){return Ei(t,this.userId,e)},t.prototype.Ho=function(t){var e=this;return Si(t).get(this.userId).next((function(t){return t||new Fi(e.userId,-1,"")}))},t}();function Ei(t,e,n){var r=Ui.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ti(t).ss({range:o,ns:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Ci(t,e,n){var r=t.store(ji.store),i=t.store(Ui.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ss({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){_(1===a)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Ui.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return pr.$n(o).next((function(){return c}))}function Ii(t){return ao.Un(t,ji.store)}function Ti(t){return ao.Un(t,Ui.store)}function Si(t){return ao.Un(t,Fi.store)}var Ai=function(){function t(t,e){this.serializer=t,this.Sr=e}return t.prototype.Tr=function(t,e,n){return Ni(t).put(Oi(e),n)},t.prototype.Ir=function(t,e){var n=Ni(t),r=Oi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Yo(t,r)}))},t.prototype.Ar=function(t,e){var n=this;return Ni(t).get(Oi(e)).next((function(t){return n.Jo(t)}))},t.prototype.Xo=function(t,e){var n=this;return Ni(t).get(Oi(e)).next((function(t){var e=n.Jo(t);return e?{Zo:e,size:Di(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return this.ta(t,e,(function(t,e){var i=n.Jo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.ea=function(t,e){var n=this,r=Nt(),i=new Et(A.i);return this.ta(t,e,(function(t,e){var o=n.Jo(e);o?(r=r.rt(t,o),i=i.rt(t,Di(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{na:r,sa:i}}))},t.prototype.ta=function(t,e,n){if(e.m())return pr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e.lt(),o=i.Et();return Ni(t).ss({range:r},(function(t,e,r){for(var s=A.$(t);o&&A.i(o,s)<0;)n(o,null),o=i.Et();o&&o.isEqual(s)&&(n(o,e),o=i.It()?i.Et():null),o?r.Jn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},t.prototype.Or=function(t,e,n){var r=this,i=Dt(),o=e.path.length+1,s={};if(n.isEqual(ut.min())){var a=e.path.A();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.A(),c=vi(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=qi.collectionReadTimeIndex}return Ni(t).ss(s,(function(t,n,s){if(t.length===o){var a=di(r.serializer,n);e.path.T(a.key.path)?a instanceof xn&&Yn(e,a)&&(i=i.rt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.ia=function(t,e){var n=this,r=xt(),i=vi(e),o=Ni(t),s=IDBKeyRange.lowerBound(i,!0);return o.ss({index:qi.readTimeIndex,range:s},(function(t,e){var o=di(n.serializer,e);r=r.rt(o.key,o),i=e.readTime})).next((function(){return{ra:r,readTime:yi(i)}}))},t.prototype.oa=function(t){var e=Ni(t),n=ut.min();return e.ss({index:qi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=yi(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.aa=function(e){return new t.ca(this,!!e&&e.ua)},t.prototype.ha=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return xi(t).get(Hi.key).next((function(t){return _(!!t),t}))},t.prototype.Yo=function(t,e){return xi(t).put(Hi.key,e)},t.prototype.Jo=function(t){if(t){var e=di(this.serializer,t);return e instanceof Nn&&e.version.isEqual(ut.min())?null:e}return null},t}();function xi(t){return ao.Un(t,Hi.store)}function Ni(t){return ao.Un(t,qi.store)}function Oi(t){return t.path.A()}function Di(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m();e=t.noDocument}return JSON.stringify(e).length}Ai.ca=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).la=e,r.ua=n,r._a=new st((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.gr=function(t){var e=this,n=[],r=0,i=new Tt((function(t,e){return Z(t.R(),e.R())}));return this.dr.forEach((function(o,s){var a=e._a.get(o);if(s){var u=pi(e.la.serializer,s,e.readTime);i=i.add(o.path.h());var c=Di(u);r+=c-a,n.push(e.la.Tr(t,o,u))}else if(r-=a,e.ua){var l=pi(e.la.serializer,new Nn(o,ut.min()),e.readTime);n.push(e.la.Tr(t,o,l))}else n.push(e.la.Ir(t,o))})),i.forEach((function(r){n.push(e.la.Sr.ko(t,r))})),n.push(this.la.updateMetadata(t,r)),pr.$n(n)},e.prototype.Rr=function(t,e){var n=this;return this.la.Xo(t,e).next((function(t){return null===t?(n._a.set(e,0),null):(n._a.set(e,t.size),t.Zo)}))},e.prototype.Pr=function(t,e){var n=this;return this.la.ea(t,e).next((function(t){var e=t.na;return t.sa.forEach((function(t,e){n._a.set(t,e)})),e}))},e}(Xr);var Pi=function(){function t(){this.fa=new Ri}return t.prototype.ko=function(t,e){return this.fa.add(e),pr.resolve()},t.prototype.Ur=function(t,e){return pr.resolve(this.fa.getEntries(e))},t}(),Ri=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new Tt(I.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Tt(I.i)).A()},t}(),Li=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;_(n<r&&n>=0&&r<=10);var o=new _r(e);n<1&&r>=1&&(function(t){t.createObjectStore(Vi.store)}(t),function(t){t.createObjectStore(Fi.store,{keyPath:Fi.keyPath}),t.createObjectStore(ji.store,{keyPath:ji.keyPath,autoIncrement:!0}).createIndex(ji.userMutationsIndex,ji.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ui.store)}(t),Ki(t),function(t){t.createObjectStore(qi.store)}(t));var s=pr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Wi.store),t.deleteObjectStore(Gi.store),t.deleteObjectStore(Qi.store)}(t),Ki(t)),s=s.next((function(){return function(t){var e=t.store(Qi.store),n=new Qi(0,0,ut.min().X(),0);return e.put(Qi.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(ji.store).Zn().next((function(n){t.deleteObjectStore(ji.store),t.createObjectStore(ji.store,{keyPath:ji.keyPath,autoIncrement:!0}).createIndex(ji.userMutationsIndex,ji.userMutationsKeyPath,{unique:!0});var r=e.store(ji.store),i=n.map((function(t){return r.put(t)}));return pr.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Zi.store,{keyPath:Zi.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Hi.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(qi.store);e.createIndex(qi.readTimeIndex,qi.readTimeIndexPath,{unique:!1}),e.createIndex(qi.collectionReadTimeIndex,qi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(qi.store).ss((function(t,n){e+=Di(n)})).next((function(){var n=new Hi(e);return t.store(Hi.store).put(Hi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Fi.store),r=t.store(ji.store);return n.Zn().next((function(n){return pr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Zn(ji.userMutationsIndex,i).next((function(r){return pr.forEach(r,(function(r){_(r.userId===n.userId);var i=_i(e.serializer,r);return Ci(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Wi.store),n=t.store(qi.store);return t.store(Qi.store).get(Qi.key).next((function(t){var r=[];return n.ss((function(n,i){var o=new I(n),s=function(t){return[0,ui(t)]}(o);r.push(e.get(s).next((function(n){return n?pr.resolve():function(n){return e.put(new Wi(0,ui(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Yi.store,{keyPath:Yi.keyPath});var n=e.store(Yi.store),r=new Ri,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:ui(i)})}};return e.store(qi.store).ss({ns:!0},(function(t,e){var n=new I(t);return i(n.h())})).next((function(){return e.store(Ui.store).ss({ns:!0},(function(t,e){var n=fi(t[1]);return i(n.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Gi.store);return n.ss((function(t,r){var i=wi(r),o=bi(e.serializer,i);return n.put(o)}))},t}(),Mi=function(t,e){this.seconds=t,this.nanoseconds=e},Vi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Vi.store="owner",Vi.key="owner";var Fi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Fi.store="mutationQueues",Fi.keyPath="userId";var ji=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ji.store="mutations",ji.keyPath="batchId",ji.userMutationsIndex="userMutationsIndex",ji.userMutationsKeyPath=["userId","batchId"];var Ui=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ui(e)]},t.key=function(t,e,n){return[t,ui(e),n]},t}();Ui.store="documentMutations",Ui.PLACEHOLDER=new Ui;var zi=function(t,e){this.path=t,this.readTime=e},Bi=function(t,e){this.path=t,this.version=e},qi=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};qi.store="remoteDocuments",qi.readTimeIndex="readTimeIndex",qi.readTimeIndexPath="readTime",qi.collectionReadTimeIndex="collectionReadTimeIndex",qi.collectionReadTimeIndexPath=["parentPath","readTime"];var Hi=function(t){this.byteSize=t};Hi.store="remoteDocumentGlobal",Hi.key="remoteDocumentGlobalKey";var Gi=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Gi.store="targets",Gi.keyPath="targetId",Gi.queryTargetsIndexName="queryTargetsIndex",Gi.queryTargetsKeyPath=["canonicalId","targetId"];var Wi=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Wi.store="targetDocuments",Wi.keyPath=["targetId","path"],Wi.documentTargetsIndex="documentTargetsIndex",Wi.documentTargetsKeyPath=["path","targetId"];var Qi=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qi.key="targetGlobalKey",Qi.store="targetGlobal";var Yi=function(t,e){this.collectionId=t,this.parent=e};function Ki(t){t.createObjectStore(Wi.store,{keyPath:Wi.keyPath}).createIndex(Wi.documentTargetsIndex,Wi.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gi.store,{keyPath:Gi.keyPath}).createIndex(Gi.queryTargetsIndexName,Gi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qi.store)}Yi.store="collectionParents",Yi.keyPath=["collectionId","parent"];var Zi=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Zi.store="clientMetadata",Zi.keyPath="clientId";var Xi=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Fi.store,ji.store,Ui.store,qi.store,Gi.store,Vi.store,Qi.store,Wi.store],[Zi.store]),[Hi.store]),[Yi.store]),Ji=function(){function t(){this.da=new Ri}return t.prototype.ko=function(t,e){var n=this;if(!this.da.has(e)){var r=e._(),i=e.h();t.Vr((function(){n.da.add(e)}));var o={collectionId:r,parent:ui(i)};return $i(t).put(o)}return pr.resolve()},t.prototype.Ur=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return $i(t).Zn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(fi(o.parent))}return n}))},t}();function $i(t){return ao.Un(t,Yi.store)}var to=function(){function t(t){this.wa=t}return t.prototype.next=function(){return this.wa+=2,this.wa},t.ma=function(){return new t(0)},t.Ta=function(){return new t(-1)},t}(),eo=function(){function t(t,e){this.Co=t,this.serializer=e}return t.prototype.Ea=function(t){var e=this;return this.Ia(t).next((function(n){var r=new to(n.highestTargetId);return n.highestTargetId=r.next(),e.Aa(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ra=function(t){return this.Ia(t).next((function(t){return ut.Y(new at(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Pa=function(t){return this.Ia(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ga=function(t,e,n){var r=this;return this.Ia(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.X()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Aa(t,i)}))},t.prototype.ya=function(t,e){var n=this;return this.Va(t,e).next((function(){return n.Ia(t).next((function(r){return r.targetCount+=1,n.pa(e,r),n.Aa(t,r)}))}))},t.prototype.ba=function(t,e){return this.Va(t,e)},t.prototype.va=function(t,e){var n=this;return this.Sa(t,e.targetId).next((function(){return no(t).delete(e.targetId)})).next((function(){return n.Ia(t)})).next((function(e){return _(e.targetCount>0),e.targetCount-=1,n.Aa(t,e)}))},t.prototype.Vo=function(t,e,n){var r=this,i=0,o=[];return no(t).ss((function(s,a){var u=wi(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.va(t,u)))})).next((function(){return pr.$n(o)})).next((function(){return i}))},t.prototype.De=function(t,e){return no(t).ss((function(t,n){var r=wi(n);e(r)}))},t.prototype.Ia=function(t){return ro(t).get(Qi.key).next((function(t){return _(null!==t),t}))},t.prototype.Aa=function(t,e){return ro(t).put(Qi.key,e)},t.prototype.Va=function(t,e){return no(t).put(bi(this.serializer,e))},t.prototype.pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Da=function(t){return this.Ia(t).next((function(t){return t.targetCount}))},t.prototype.Ca=function(t,e){var n=pt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return no(t).ss({range:r,index:Gi.queryTargetsIndexName},(function(t,n,r){var o=wi(n);vt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Na=function(t,e,n){var r=this,i=[],o=io(t);return e.forEach((function(e){var s=ui(e.path);i.push(o.put(new Wi(n,s))),i.push(r.Co.Fa(t,n,e))})),pr.$n(i)},t.prototype.$a=function(t,e,n){var r=this,i=io(t);return pr.forEach(e,(function(e){var o=ui(e.path);return pr.$n([i.delete([n,o]),r.Co.xa(t,n,e)])}))},t.prototype.Sa=function(t,e){var n=io(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ka=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=io(t),i=Lt();return r.ss({range:n,ns:!0},(function(t,e,n){var r=fi(t[1]),o=new A(r);i=i.add(o)})).next((function(){return i}))},t.prototype.zo=function(t,e){var n=ui(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return io(t).ss({index:Wi.documentTargetsIndex,ns:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return no(t).get(e).next((function(t){return t?wi(t):null}))},t}();function no(t){return ao.Un(t,Gi.store)}function ro(t){return ao.Un(t,Qi.store)}function io(t){return ao.Un(t,Wi.store)}var oo="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",so=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wo=e,r.Ma=n,r}return r.__extends(e,t),e}($r),ao=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._n=o,this.window=s,this.document=a,this.Oa=c,this.La=h,this.Ba=null,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!t.On())throw new f(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new lo(this,i),this.Ga=n+"main",this.serializer=new hi(u),this.za=new vr(this.Ga,10,new Li(this.serializer)),this.Ha=new eo(this.Co,this.serializer),this.Sr=new Ji,this.br=new Ai(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ya=this.window.localStorage:(this.Ya=null,!1===h&&v("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Un=function(t,e){if(t instanceof so)return vr.Un(t.Wo,e);throw m()},t.prototype.start=function(){var t=this;return this.Ja().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new f(l.FAILED_PRECONDITION,oo);return t.Xa(),t.Za(),t.tc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ha.Pa(e)}))})).then((function(e){t.Ba=new Fr(e,t.Oa)})).then((function(){t.qa=!0})).catch((function(e){return t.za&&t.za.close(),Promise.reject(e)}))},t.prototype.ec=function(t){var e=this;return this.Ka=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ti?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.nc=function(t){var e=this;this.za.jn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.sc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this._n.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ti?[4,this.Ja()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ja=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return co(e).put(new Zi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ic(e).next((function(e){e||(t.isPrimary=!1,t._n.Ds((function(){return t.Ka(!1)})))}))})).next((function(){return t.rc(e)})).next((function(n){return t.isPrimary&&!n?t.oc(e).next((function(){return!1})):!!n&&t.ac(e).next((function(){return!0}))}))})).catch((function(e){if(mr(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t._n.Ds((function(){return t.Ka(e)})),t.isPrimary=e}))},t.prototype.ic=function(t){var e=this;return uo(t).get(Vi.key).next((function(t){return pr.resolve(e.cc(t))}))},t.prototype.uc=function(t){return co(t).delete(this.clientId)},t.prototype.hc=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.lc(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Un(e,Zi.store);return n.Zn().next((function(t){var e=o._c(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return pr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ya)for(n=0,i=e;n<i.length;n++)this.Ya.removeItem(this.fc(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.tc=function(){var t=this;this.Wa=this._n.gn("client_metadata_refresh",4e3,(function(){return t.Ja().then((function(){return t.hc()})).then((function(){return t.tc()}))}))},t.prototype.cc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.rc=function(t){var e=this;return this.La?pr.resolve(!0):uo(t).get(Vi.key).next((function(n){if(null!==n&&e.lc(n.leaseTimestampMs,5e3)&&!e.dc(n.ownerId)){if(e.cc(n)&&e.networkEnabled)return!0;if(!e.cc(n)){if(!n.allowTabSynchronization)throw new f(l.FAILED_PRECONDITION,oo);return!1}}return!(!e.networkEnabled||!e.inForeground)||co(t).Zn().next((function(t){return void 0===e._c(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Si=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.qa=!1,this.wc(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.mc(),this.Tc(),[4,this.za.runTransaction("readwrite",[Vi.store,Zi.store],(function(e){var n=new so(e,Fr.oi);return t.oc(n).next((function(){return t.uc(n)}))}))];case 1:return e.sent(),this.za.close(),this.Ec(),[2]}}))}))},t.prototype._c=function(t,e){var n=this;return t.filter((function(t){return n.lc(t.updateTimeMs,e)&&!n.dc(t.clientId)}))},t.prototype.Vi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return co(e).Zn().next((function(e){return t._c(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),t.prototype.Ic=function(t){return ki.Fo(t,this.serializer,this.Sr,this.Co)},t.prototype.Ac=function(){return this.Ha},t.prototype.Rc=function(){return this.br},t.prototype.Pc=function(){return this.Sr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return p("IndexedDbPersistence","Starting transaction:",t),this.za.runTransaction("readonly"===e?"readonly":"readwrite",Xi,(function(o){return r=new so(o,i.Ba?i.Ba.next():Fr.oi),"readwrite-primary"===e?i.ic(r).next((function(t){return!!t||i.rc(r)})).next((function(e){if(!e)throw v("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i._n.Ds((function(){return i.Ka(!1)})),new f(l.FAILED_PRECONDITION,Jr);return n(r)})).next((function(t){return i.ac(r).next((function(){return t}))})):i.gc(r).next((function(){return n(r)}))})).then((function(t){return r.pr(),t}))},t.prototype.gc=function(t){var e=this;return uo(t).get(Vi.key).next((function(t){if(null!==t&&e.lc(t.leaseTimestampMs,5e3)&&!e.dc(t.ownerId)&&!e.cc(t)&&!(e.La||e.allowTabSynchronization&&t.allowTabSynchronization))throw new f(l.FAILED_PRECONDITION,oo)}))},t.prototype.ac=function(t){var e=new Vi(this.clientId,this.allowTabSynchronization,Date.now());return uo(t).put(Vi.key,e)},t.On=function(){return vr.On()},t.prototype.oc=function(t){var e=this,n=uo(t);return n.get(Vi.key).next((function(t){return e.cc(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Vi.key)):pr.resolve()}))},t.prototype.lc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(v("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){t._n.ds((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ja()}))},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},t.prototype.mc=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},t.prototype.Za=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ua=function(){e.wc(),e._n.ds((function(){return e.Si()}))},this.window.addEventListener("unload",this.Ua))},t.prototype.Tc=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},t.prototype.dc=function(t){var e;try{var n=null!==(null===(e=this.Ya)||void 0===e?void 0:e.getItem(this.fc(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return v("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wc=function(){if(this.Ya)try{this.Ya.setItem(this.fc(this.clientId),String(Date.now()))}catch(r){v("Failed to set zombie client id.",r)}},t.prototype.Ec=function(){if(this.Ya)try{this.Ya.removeItem(this.fc(this.clientId))}catch(r){}},t.prototype.fc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function uo(t){return ao.Un(t,Vi.store)}function co(t){return ao.Un(t,Zi.store)}var lo=function(){function t(t,e){this.db=t,this.do=new ai(this,e)}return t.prototype.Ro=function(t){var e=this.yc(t);return this.db.Ac().Da(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.yc=function(t){var e=0;return this.yo(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.Ac().De(t,e)},t.prototype.yo=function(t,e){return this.Vc(t,(function(t,n){return e(n)}))},t.prototype.Fa=function(t,e,n){return fo(t,n)},t.prototype.xa=function(t,e,n){return fo(t,n)},t.prototype.Vo=function(t,e,n){return this.db.Ac().Vo(t,e,n)},t.prototype.Ko=function(t,e){return fo(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return Si(t).rs((function(r){return Ei(t,r,e).next((function(t){return t&&(n=!0),pr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.po=function(t,e){var n=this,r=this.db.Rc().aa(),i=[],o=0;return this.Vc(t,(function(s,a){if(a<=e){var u=n.bc(t,s).next((function(e){if(!e)return o++,r.Ar(t,s).next((function(){return r.Ir(s),io(t).delete([0,ui(s.path)])}))}));i.push(u)}})).next((function(){return pr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Ma);return this.db.Ac().ba(t,n)},t.prototype.vc=function(t,e){return fo(t,e)},t.prototype.Vc=function(t,e){var n,r=io(t),i=Fr.oi;return r.ss({index:Wi.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Fr.oi&&e(new A(fi(n)),i),i=s,n=o):i=Fr.oi})).next((function(){i!==Fr.oi&&e(new A(fi(n)),i)}))},t.prototype.vo=function(t){return this.db.Rc().ha(t)},t}();function fo(t,e){return io(t).put(function(t,e){return new Wi(0,ui(t.path),e)}(e,t.Ma))}function ho(t,e){var n=t.projectId;return t.W||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var po=function(){function t(t,e,n){this.persistence=t,this.Sc=e,this.Dc=new Et(Z),this.Cc=new st((function(t){return pt(t)}),vt),this.Nc=ut.min(),this.vr=t.Ic(n),this.Fc=t.Rc(),this.Ha=t.Ac(),this.$c=new ti(this.Fc,this.vr,this.persistence.Pc()),this.Sc.xc(this.$c)}return t.prototype.Eo=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.bo(n,e.Dc)}))},t}();function vo(t,e){var n=w(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.aa({ua:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=pr.resolve();return o.forEach((function(t){s=s.next((function(){return r.Ar(e,t)})).next((function(e){var o=e,s=n._r.get(t);_(null!==s),(!o||o.version.L(s)<0)&&(o=i.ar(t,o,n))&&r.Tr(o,n.lr)}))})),s.next((function(){return t.vr.Qo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.vr.Go(t)})).next((function(){return n.$c.$r(t,r)}))}))}function yo(t){var e=w(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ha.Ra(t)}))}function go(t,e){var n=w(t),r=e.et,i=n.Dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Fc.aa({ua:!0});i=n.Dc;var s=[];e.Gt.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.Ha.$a(t,e.ne,o).next((function(){return n.Ha.Na(t,e.te,o)})));var u=e.resumeToken;if(u.O()>0){var c=a.st(u,r).nt(t.Ma);i=i.rt(o,c),function(t,e,n){return _(e.resumeToken.O()>0),0===t.resumeToken.O()||e.et.J()-t.et.J()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(a,c,e)&&s.push(n.Ha.ba(t,c))}}}));var a=xt(),u=Lt();if(e.Ht.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(t,u).next((function(i){e.Ht.forEach((function(u,c){var l=i.get(u);c instanceof Nn&&c.version.isEqual(ut.min())?(o.Ir(u,r),a=a.rt(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Tr(c,r),a=a.rt(u,c)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Yt.has(u)&&s.push(n.persistence.Co.vc(t,u))}))}))),!r.isEqual(ut.min())){var c=n.Ha.Ra(t).next((function(e){return n.Ha.ga(t,t.Ma,r)}));s.push(c)}return pr.$n(s).next((function(){return o.apply(t)})).next((function(){return n.$c.kr(t,a)}))})).then((function(t){return n.Dc=i,t}))}function mo(t,e){var n=w(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.vr.Lo(t,e)}))}function _o(t,e){var n=w(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ha.Ca(t,e).next((function(i){return i?pr.resolve(r=i):n.Ha.Ea(t).next((function(i){return r=new _t(e,i,0,t.Ma),n.Ha.ya(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Dc.get(t.targetId);return(null===r||t.et.L(r.et)>0)&&(n.Dc=n.Dc.rt(t.targetId,t),n.Cc.set(e,t.targetId)),t}))}function wo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=w(t),o=i.Dc.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.Co.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!mr(a=r.sent()))throw a;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.Dc=i.Dc.remove(e),i.Cc.delete(o.target),[2]}}))}))}function bo(t,e,n){var r=w(t),i=ut.min(),o=Lt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=w(t),i=r.Cc.get(n);return void 0!==i?pr.resolve(r.Dc.get(i)):r.Ha.Ca(e,n)}(r,t,zn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ha.ka(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Sc.Or(t,e,n?i:ut.min(),n?o:Lt())})).next((function(t){return{documents:t,kc:o}}))}))}function ko(t,e){var n=w(t),r=w(n.Ha),i=n.Dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function Eo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==Jr)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Co=function(){function t(){this.Mc=new Tt(Io.Oc),this.Lc=new Tt(Io.Bc)}return t.prototype.m=function(){return this.Mc.m()},t.prototype.Fa=function(t,e){var n=new Io(t,e);this.Mc=this.Mc.add(n),this.Lc=this.Lc.add(n)},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Fa(t,e)}))},t.prototype.xa=function(t,e){this.Uc(new Io(t,e))},t.prototype.Qc=function(t,e){var n=this;t.forEach((function(t){return n.xa(t,e)}))},t.prototype.Wc=function(t){var e=this,n=new A(new I([])),r=new Io(n,t),i=new Io(n,t+1),o=[];return this.Lc.Nt([r,i],(function(t){e.Uc(t),o.push(t.key)})),o},t.prototype.jc=function(){var t=this;this.Mc.forEach((function(e){return t.Uc(e)}))},t.prototype.Uc=function(t){this.Mc=this.Mc.delete(t),this.Lc=this.Lc.delete(t)},t.prototype.Kc=function(t){var e=new A(new I([])),n=new Io(e,t),r=new Io(e,t+1),i=Lt();return this.Lc.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zo=function(t){var e=new Io(t,0),n=this.Mc.$t(e);return null!==n&&t.isEqual(n.key)},t}(),Io=function(){function t(t,e){this.key=t,this.Gc=e}return t.Oc=function(t,e){return A.i(t.key,e.key)||Z(t.Gc,e.Gc)},t.Bc=function(t,e){return Z(t.Gc,e.Gc)||A.i(t.key,e.key)},t}(),To=function(t,e){this.user=e,this.type="OAuth",this.zc={},this.zc.Authorization="Bearer "+t},So=function(){function t(){this.Hc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Yc=function(){},t.prototype.Jc=function(t){this.Hc=t,t(Vr.UNAUTHENTICATED)},t.prototype.Xc=function(){this.Hc=null},t}(),Ao=function(){function t(t){var e=this;this.Zc=null,this.currentUser=Vr.UNAUTHENTICATED,this.tu=!1,this.eu=0,this.Hc=null,this.forceRefresh=!1,this.Zc=function(){e.eu++,e.currentUser=e.nu(),e.tu=!0,e.Hc&&e.Hc(e.currentUser)},this.eu=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Zc):(this.Zc(null),t.get().then((function(t){e.auth=t,e.Zc&&e.auth.addAuthTokenListener(e.Zc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.eu,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.eu!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(_("string"==typeof n.accessToken),new To(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.Yc=function(){this.forceRefresh=!0},t.prototype.Jc=function(t){this.Hc=t,this.tu&&t(this.currentUser)},t.prototype.Xc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Zc),this.Zc=null,this.Hc=null},t.prototype.nu=function(){var t=this.auth&&this.auth.getUid();return _(null===t||"string"==typeof t),new Vr(t)},t}(),xo=function(){function t(t,e){this.su=t,this.iu=e,this.type="FirstParty",this.user=Vr.ei}return Object.defineProperty(t.prototype,"zc",{get:function(){var t={"X-Goog-AuthUser":this.iu},e=this.su.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),No=function(){function t(t,e){this.su=t,this.iu=e}return t.prototype.getToken=function(){return Promise.resolve(new xo(this.su,this.iu))},t.prototype.Jc=function(t){t(Vr.ei)},t.prototype.Xc=function(){},t.prototype.Yc=function(){},t}(),Oo=function(){function t(t,e,n,r,i,o){this._n=t,this.ru=n,this.ou=r,this.au=i,this.listener=o,this.state=0,this.cu=0,this.uu=null,this.stream=null,this.gs=new dr(t,e)}return t.prototype.hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.lu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this._u()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.fu=function(){this.state=0,this.gs.reset()},t.prototype.du=function(){var t=this;this.lu()&&null===this.uu&&(this.uu=this._n.gn(this.ru,6e4,(function(){return t.wu()})))},t.prototype.mu=function(t){this.Tu(),this.stream.send(t)},t.prototype.wu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.lu()?[2,this.close(0)]:[2]}))}))},t.prototype.Tu=function(){this.uu&&(this.uu.cancel(),this.uu=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.Tu(),this.gs.cancel(),this.cu++,3!==t?this.gs.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(v(e.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):e&&e.code===l.UNAUTHENTICATED&&this.au.Yc(),null!==this.stream&&(this.Eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Au(this.cu),n=this.cu;this.au.getToken().then((function(e){t.cu===n&&t.Ru(e)}),(function(n){e((function(){var e=new f(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Pu(e)}))}))},t.prototype.Ru=function(t){var e=this,n=this.Au(this.cu);this.stream=this.gu(t),this.stream.yu((function(){n((function(){return e.state=2,e.listener.yu()}))})),this.stream.Iu((function(t){n((function(){return e.Pu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype._u=function(){var t=this;this.state=4,this.gs.Rn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Pu=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Au=function(t){var e=this;return function(n){e._n.ds((function(){return e.cu===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Do=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return r.__extends(e,t),e.prototype.gu=function(t){return this.ou.Vu("Listen",t)},e.prototype.onMessage=function(t){this.gs.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:m()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ue?(_(void 0===e||"string"==typeof e),$.fromBase64String(e||"")):(_(void 0===e||e instanceof Uint8Array),$.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?l.UNKNOWN:kt(t.code);return new f(e,t.message||"")}(s);n=new Gt(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Se(t,u.document.name),h=Ee(u.document.updateTime),d=new In({mapValue:{fields:u.document.fields}}),p=new xn(c,h,d,{});n=new qt(u.targetIds||[],u.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){var v=e.documentDelete,y=Se(t,v.document),g=v.readTime?Ee(v.readTime):ut.min(),w=new Nn(y,g);n=new qt([],v.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){var b=e.documentRemove,k=Se(t,b.document);n=new qt([],b.removedTargetIds||[],k,null)}else{if(!("filter"in e))return m();var E=e.filter,C=new wt(E.count||0);n=new Ht(E.targetId,C)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ut.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ut.min():e.readTime?Ee(e.readTime):ut.min()}(t);return this.listener.pu(e,n)},e.prototype.bu=function(t){var e={};e.database=Ne(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=yt(r)?{documents:Le(t,r)}:{query:Me(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=be(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.mu(e)},e.prototype.vu=function(t){var e={};e.database=Ne(this.serializer),e.removeTarget=t,this.mu(e)},e}(Oo),Po=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Su=!1,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"Du",{get:function(){return this.Su},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Su=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Eu=function(){this.Su&&this.Cu([])},e.prototype.gu=function(t){return this.ou.Vu("Write",t)},e.prototype.onMessage=function(t){if(_(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Su){this.gs.reset();var e=function(t,e){return t&&t.length>0?(_(void 0!==e),t.map((function(t){return function(t,e){var n=Ee(t.updateTime?t.updateTime:e);n.isEqual(ut.min())&&(n=Ee(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new un(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ee(t.commitTime);return this.listener.Nu(n,e)}return _(!t.writeResults||0===t.writeResults.length),this.Su=!0,this.listener.Fu()},e.prototype.$u=function(){var t={};t.database=Ne(this.serializer),this.mu(t)},e.prototype.Cu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Pe(e.serializer,t)}))};this.mu(n)},e}(Oo),Ro=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ou=n,i.serializer=r,i.xu=!1,i}return r.__extends(e,t),e.prototype.ku=function(){if(this.xu)throw new f(l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mu=function(t,e,n){var r=this;return this.ku(),this.credentials.getToken().then((function(i){return r.ou.Mu(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.Yc(),t}))},e.prototype.Ou=function(t,e,n){var r=this;return this.ku(),this.credentials.getToken().then((function(i){return r.ou.Ou(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.Yc(),t}))},e.prototype.terminate=function(){this.xu=!1},e}((function(){})),Lo=function(){function t(t,e){this.os=t,this.fi=e,this.state="Unknown",this.Lu=0,this.Bu=null,this.qu=!0}return t.prototype.Uu=function(){var t=this;0===this.Lu&&(this.Qu("Unknown"),this.Bu=this.os.gn("online_state_timeout",1e4,(function(){return t.Bu=null,t.Wu("Backend didn't respond within 10 seconds."),t.Qu("Offline"),Promise.resolve()})))},t.prototype.ju=function(t){"Online"===this.state?this.Qu("Unknown"):(this.Lu++,this.Lu>=1&&(this.Ku(),this.Wu("Connection failed 1 times. Most recent error: "+t.toString()),this.Qu("Offline")))},t.prototype.set=function(t){this.Ku(),this.Lu=0,"Online"===t&&(this.qu=!1),this.Qu(t)},t.prototype.Qu=function(t){t!==this.state&&(this.state=t,this.fi(t))},t.prototype.Wu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qu?(v(e),this.qu=!1):p("OnlineStateTracker",e)},t.prototype.Ku=function(){null!==this.Bu&&(this.Bu.cancel(),this.Bu=null)},t}(),Mo=function(t,e,n,i,o){var s=this;this.Gu=t,this.zu=e,this.os=n,this.Hu={},this.Yu=[],this.Ju=new Map,this.Xu=new Set,this.Zu=[],this.th=o,this.th.eh((function(t){n.ds((function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Wo(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=w(t)).Xu.add(4),[4,Fo(e)];case 1:return n.sent(),e.nh.set("Unknown"),e.Xu.delete(4),[4,Vo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.nh=new Lo(n,i)};function Vo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!Wo(t))return[3,4];e=0,n=t.Zu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Fo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:e=0,n=t.Zu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jo(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=w(t),p("RemoteStore","RemoteStore shutting down."),e.Xu.add(5),[4,Fo(e)];case 1:return n.sent(),e.th.Si(),e.nh.set("Unknown"),[2]}}))}))}function Uo(t,e){var n=w(t);n.Ju.has(e.targetId)||(n.Ju.set(e.targetId,e),Go(n)?Ho(n):as(n).lu()&&Bo(n,e))}function zo(t,e){var n=w(t),r=as(n);n.Ju.delete(e),r.lu()&&qo(n,e),0===n.Ju.size&&(r.lu()?r.du():Wo(n)&&n.nh.set("Unknown"))}function Bo(t,e){t.sh.Ee(e.targetId),as(t).bu(e)}function qo(t,e){t.sh.Ee(e),as(t).vu(e)}function Ho(t){t.sh=new Qt({Be:function(e){return t.Hu.Be(e)},qe:function(e){return t.Ju.get(e)||null}}),as(t).start(),t.nh.Uu()}function Go(t){return Wo(t)&&!as(t).hu()&&t.Ju.size>0}function Wo(t){return 0===w(t).Xu.size}function Qo(t){t.sh=void 0}function Yo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Ju.forEach((function(e,n){Bo(t,e)})),[2]}))}))}function Ko(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return Qo(t),Go(t)?(t.nh.ju(e),Ho(t)):t.nh.set("Unknown"),[2]}))}))}function Zo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s;return r.__generator(this,(function(a){switch(a.label){case 0:if(t.nh.set("Online"),!(e instanceof Gt&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.Ju.has(s=o[i])?[4,t.Hu.ih(s,n)]:[3,3]:[3,5];case 2:r.sent(),t.Ju.delete(s),t.sh.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Xo(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof qt?t.sh.pe(e):e instanceof Ht?t.sh.$e(e):t.sh.Se(e),n.isEqual(ut.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,yo(t.Gu)];case 8:return o=a.sent(),n.L(o)>=0?[4,function(t,e){var n=t.sh.Me(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Ju.get(r);i&&t.Ju.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.Ju.get(e);if(n){t.Ju.set(e,n.st($.B,n.et)),qo(t,e);var r=new _t(n.target,e,1,n.sequenceNumber);Bo(t,r)}})),t.Hu.rh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Xo(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Xo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!mr(e))throw e;return t.Xu.add(1),[4,Fo(t)];case 1:return o.sent(),t.nh.set("Offline"),n||(n=function(){return yo(t.Gu)}),t.os.Ds((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Xu.delete(1),[4,Vo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Jo(t,e){return e().catch((function(n){return Xo(t,n,e)}))}function $o(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:e=w(t),n=us(e),i=e.Yu.length>0?e.Yu[e.Yu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Wo(t)&&t.Yu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,mo(e.Gu,i)];case 3:return null===(o=r.sent())?(0===e.Yu.length&&n.du(),[3,7]):(i=o.batchId,function(t,e){t.Yu.push(e);var n=us(t);n.lu()&&n.Du&&n.Cu(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,Xo(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return ts(e)&&es(e),[2]}}))}))}function ts(t){return Wo(t)&&!us(t).hu()&&t.Yu.length>0}function es(t){us(t).start()}function ns(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return us(t).$u(),[2]}))}))}function rs(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i;return r.__generator(this,(function(r){for(e=us(t),n=0,i=t.Yu;n<i.length;n++)e.Cu(i[n].mutations);return[2]}))}))}function is(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.Yu.shift(),o=Zr.from(i,e,n),[4,Jo(t,(function(){return t.Hu.oh(o)}))];case 1:return r.sent(),[4,$o(t)];case 2:return r.sent(),[2]}}))}))}function os(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&us(t).Du?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return bt(i=e.code)&&i!==l.ABORTED?(n=t.Yu.shift(),us(t).fu(),[4,Jo(t,(function(){return t.Hu.ah(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,$o(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ts(t)&&es(t),[2]}}))}))}function ss(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),e?(n.Xu.delete(2),[4,Vo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Xu.add(2),[4,Fo(n)]);case 3:r.sent(),n.nh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function as(t){var e=this;return t.uh||(t.uh=function(t,e,n){var r=w(t);return r.ku(),new Do(e,r.ou,r.credentials,r.serializer,n)}(t.zu,t.os,{yu:Yo.bind(null,t),Iu:Ko.bind(null,t),pu:Zo.bind(null,t)}),t.Zu.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.uh.fu(),Go(t)?Ho(t):t.nh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.uh.stop()];case 2:e.sent(),Qo(t),e.label=3;case 3:return[2]}}))}))}))),t.uh}function us(t){var e=this;return t.hh||(t.hh=function(t,e,n){var r=w(t);return r.ku(),new Po(e,r.ou,r.credentials,r.serializer,n)}(t.zu,t.os,{yu:ns.bind(null,t),Iu:os.bind(null,t),Fu:rs.bind(null,t),Nu:is.bind(null,t)}),t.Zu.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.hh.fu(),[4,$o(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.hh.stop()];case 3:e.sent(),t.Yu.length>0&&(p("RemoteStore","Stopping write stream with "+t.Yu.length+" pending writes"),t.Yu=[]),e.label=4;case 4:return[2]}}))}))}))),t.hh}var cs=function(t){this.key=t},ls=function(t){this.key=t},fs=function(){function t(t,e){this.query=t,this.lh=e,this._h=null,this.Zt=!1,this.fh=Lt(),this.Qt=Lt(),this.dh=Kn(t),this.wh=new Ft(this.dh)}return Object.defineProperty(t.prototype,"mh",{get:function(){return this.lh},enumerable:!1,configurable:!0}),t.prototype.Th=function(t,e){var n=this,r=e?e.Eh:new jt,i=e?e.wh:this.wh,o=e?e.Qt:this.Qt,s=i,a=!1,u=Ln(this.query)&&i.size===this.query.limit?i.last():null,c=Mn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),f=e instanceof xn?e:null;f&&(f=Yn(n.query,f)?f:null);var h=!!l&&n.Qt.has(l.key),d=!!f&&(f.Ye||n.Qt.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ih(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.dh(f,u)>0||c&&n.dh(f,c)<0)&&(a=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(f?(s=s.add(f),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Ln(this.query)||Mn(this.query))for(;s.size>this.query.limit;){var l=Ln(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{wh:s,Eh:r,Ah:a,Qt:o}},t.prototype.Ih=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},t.prototype.gr=function(t,e,n){var r=this,i=this.wh;this.wh=t.wh,this.Qt=t.Qt;var o=t.Eh.qt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}};return n(t)-n(e)}(t.type,e.type)||r.dh(t.doc,e.doc)})),this.Rh(n);var s=e?this.Ph():[],a=0===this.fh.size&&this.Zt?1:0,u=a!==this._h;return this._h=a,0!==o.length||u?{snapshot:new Ut(this.query,t.wh,i,o,t.Qt,0===a,u,!1),gh:s}:{gh:s}},t.prototype.Us=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.gr({wh:this.wh,Eh:new jt,Qt:this.Qt,Ah:!1},!1)):{gh:[]}},t.prototype.yh=function(t){return!this.lh.has(t)&&!!this.wh.has(t)&&!this.wh.get(t).Ye},t.prototype.Rh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.lh=e.lh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.lh=e.lh.delete(t)})),this.Zt=t.Zt)},t.prototype.Ph=function(){var t=this;if(!this.Zt)return[];var e=this.fh;this.fh=Lt(),this.wh.forEach((function(e){t.yh(e.key)&&(t.fh=t.fh.add(e.key))}));var n=[];return e.forEach((function(e){t.fh.has(e)||n.push(new ls(e))})),this.fh.forEach((function(t){e.has(t)||n.push(new cs(t))})),n},t.prototype.Vh=function(t){this.lh=t.kc,this.fh=Lt();var e=this.Th(t.documents);return this.gr(e,!0)},t.prototype.ph=function(){return Ut.Kt(this.query,this.wh,this.Qt,0===this._h)},t}(),hs=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ds=function(t){this.key=t,this.bh=!1},ps=function(){function t(t,e,n,r,i,o){this.Gu=t,this.Sh=e,this.Dh=n,this.Ch=r,this.currentUser=i,this.Nh=o,this.Fh={},this.$h=new st((function(t){return Wn(t)}),Gn),this.xh=new Map,this.kh=[],this.Mh=new Et(A.i),this.Oh=new Map,this.Lh=new Co,this.Bh={},this.qh=new Map,this.Uh=to.Ta(),this.onlineState="Unknown",this.Qh=void 0}return Object.defineProperty(t.prototype,"Wh",{get:function(){return!0===this.Qh},enumerable:!1,configurable:!0}),t}();function vs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=zs(t),(o=n.$h.get(e))?(n.Ch.Mi(o.targetId),i=o.view.ph(),[3,4]):[3,1];case 1:return[4,_o(n.Gu,zn(e))];case 2:return s=r.sent(),a=n.Ch.Mi(s.targetId),[4,ys(n,e,s.targetId,"current"===a)];case 3:i=r.sent(),n.Wh&&Uo(n.Sh,s),r.label=4;case 4:return[2,i]}}))}))}function ys(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c,l;return r.__generator(this,(function(f){switch(f.label){case 0:return t.jh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=e.view.Th(n)).Ah?[4,bo(t.Gu,e.query,!1).then((function(t){return e.view.Th(t.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.Gt.get(e.targetId),a=e.view.gr(o,t.Wh,s),[2,(Ss(t,e.targetId,a.gh),a.snapshot)]}}))}))}(t,e,n,i)},[4,bo(t.Gu,e,!0)];case 1:return o=f.sent(),s=new fs(e,o.kc),a=s.Th(o.documents),u=Bt.Xt(n,i&&"Offline"!==t.onlineState),c=s.gr(a,t.Wh,u),Ss(t,n,c.gh),l=new hs(e,n,s),[2,(t.$h.set(e,l),t.xh.has(n)?t.xh.get(n).push(e):t.xh.set(n,[e]),c.snapshot)]}}))}))}function gs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=n.$h.get(e),(o=n.xh.get(i.targetId)).length>1?[2,(n.xh.set(i.targetId,o.filter((function(t){return!Gn(t,e)}))),void n.$h.delete(e))]:n.Wh?(n.Ch.Li(i.targetId),n.Ch.Ni(i.targetId)?[3,2]:[4,wo(n.Gu,i.targetId,!1).then((function(){n.Ch.qi(i.targetId),zo(n.Sh,i.targetId),Is(n,i.targetId)})).catch(Eo)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Is(n,i.targetId),[4,wo(n.Gu,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function ms(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,go(n.Gu,e)];case 2:return i=r.sent(),e.Gt.forEach((function(t,e){var r=n.Oh.get(e);r&&(_(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?r.bh=!0:t.ee.size>0?_(r.bh):t.ne.size>0&&(_(r.bh),r.bh=!1))})),[4,Ns(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Eo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function _s(t,e,n){var r=w(t);if(r.Wh&&0===n||!r.Wh&&1===n){var i=[];r.$h.forEach((function(t,n){var r=n.view.Us(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=w(t);n.onlineState=e;var r=!1;n.Ls.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Us(e)&&(r=!0)})),r&&Lr(n)}(r.Dh,e),i.length&&r.Fh.pu(i),r.onlineState=e,r.Wh&&r.Ch.ji(e)}}function ws(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=w(t)).Ch.Ui(e,"rejected",n),o=i.Oh.get(e),(s=o&&o.key)?(a=(a=new Et(A.i)).rt(s,new Nn(s,ut.min())),u=Lt().add(s),c=new zt(ut.min(),new Map,new Tt(Z),a,u),[4,ms(i,c)]):[3,2];case 1:return r.sent(),i.Mh=i.Mh.remove(s),i.Oh.delete(e),xs(i),[3,4];case 2:return[4,wo(i.Gu,e,!1).then((function(){return Is(i,e,n)})).catch(Eo)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function bs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,vo(n.Gu,e)];case 2:return o=r.sent(),Cs(n,i,null),Es(n,i),n.Ch.xi(i,"acknowledged"),[4,Ns(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Eo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ks(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:i=w(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=w(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.vr.Mo(t,e).next((function(e){return _(null!==e),r=e.keys(),n.vr.Qo(t,e)})).next((function(){return n.vr.Go(t)})).next((function(){return n.$c.$r(t,r)}))}))}(i.Gu,e)];case 2:return o=r.sent(),Cs(i,e,n),Es(i,e),i.Ch.xi(e,"rejected",n),[4,Ns(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Eo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Es(t,e){(t.qh.get(e)||[]).forEach((function(t){t.resolve()})),t.qh.delete(e)}function Cs(t,e,n){var r=w(t),i=r.Bh[r.currentUser.Zs()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Bh[r.currentUser.Zs()]=i}}function Is(t,e,n){void 0===n&&(n=null),t.Ch.Li(e);for(var r=0,i=t.xh.get(e);r<i.length;r++){var o=i[r];t.$h.delete(o),n&&t.Fh.Kh(o,n)}t.xh.delete(e),t.Wh&&t.Lh.Wc(e).forEach((function(e){t.Lh.zo(e)||Ts(t,e)}))}function Ts(t,e){var n=t.Mh.get(e);null!==n&&(zo(t.Sh,n),t.Mh=t.Mh.remove(e),t.Oh.delete(n),xs(t))}function Ss(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof cs?(t.Lh.Fa(o.key,e),As(t,o)):o instanceof ls?(p("SyncEngine","Document no longer in limbo: "+o.key),t.Lh.xa(o.key,e),t.Lh.zo(o.key)||Ts(t,o.key)):m()}}function As(t,e){var n=e.key;t.Mh.get(n)||(p("SyncEngine","New document in limbo: "+n),t.kh.push(n),xs(t))}function xs(t){for(;t.kh.length>0&&t.Mh.size<t.Nh;){var e=t.kh.shift(),n=t.Uh.next();t.Oh.set(n,new ds(e)),t.Mh=t.Mh.rt(e,n),Uo(t.Sh,new _t(zn(Rn(e.path)),n,2,Fr.oi))}}function Ns(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(u){switch(u.label){case 0:return i=w(t),o=[],s=[],a=[],i.$h.m()?[3,3]:(i.$h.forEach((function(t,r){a.push(i.jh(r,e,n).then((function(t){if(t){i.Wh&&i.Ch.Ui(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=ei.Gr(r.targetId,t);s.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),i.Fh.pu(o),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pr.forEach(e,(function(e){return pr.forEach(e.jr,(function(r){return n.persistence.Co.Fa(t,e.targetId,r)})).next((function(){return pr.forEach(e.Kr,(function(r){return n.persistence.Co.xa(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!mr(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.Dc.get(u),l=c.it(c.et),n.Dc=n.Dc.rt(u,l));return[2]}}))}))}(i.Gu,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Os(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=w(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.Zs()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=n.vr,o=n.$c,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.vr.qo(t).next((function(s){return r=s,i=n.persistence.Ic(e),o=new ti(n.Fc,i,n.persistence.Pc()),i.qo(t)})).next((function(e){for(var n=[],i=[],s=Lt(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++)s=s.add(f[l].key)}for(var h=0,d=e;h<d.length;h++){var p=d[h];i.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)s=s.add(y[v].key)}return o.$r(t,s).next((function(t){return{Gh:t,zh:n,Hh:i}}))}))}))];case 1:return s=r.sent(),[2,(n.vr=i,n.$c=o,n.Sc.xc(n.$c),s)]}}))}))}(n.Gu,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.qh.forEach((function(t){t.forEach((function(t){t.reject(new f(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.qh.clear()}(n),n.Ch.Wi(e,i.zh,i.Hh),[4,Ns(n,i.Gh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Ds(t,e){var n=w(t),r=n.Oh.get(e);if(r&&r.bh)return Lt().add(r.key);var i=Lt(),o=n.xh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.$h.get(a[s]);i=i.xt(u.view.mh)}return i}function Ps(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,bo((n=w(t)).Gu,e.query,!0)];case 1:return i=r.sent(),o=e.view.Vh(i),[2,(n.Wh&&Ss(n,e.targetId,o.gh),o)]}}))}))}function Rs(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=w(t),r=w(n.vr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Oo(t,e).next((function(e){return e?n.$c.$r(t,e):pr.resolve(null)}))}))}((o=w(t)).Gu,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,$o(o.Sh)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Cs(o,e,i||null),Es(o,e),function(t,e){w(w(t).vr).jo(e)}(o.Gu,e)):m(),r.label=4;case 4:return[4,Ns(o,s)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Ls(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return zs(n=w(t)),Bs(n),!0!==e||!0===n.Qh?[3,3]:(i=n.Ch.Di(),[4,Ms(n,i.A())]);case 1:return o=r.sent(),n.Qh=!0,[4,ss(n.Sh,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)Uo(n.Sh,a[s]);return[3,7];case 3:return!1!==e||!1===n.Qh?[3,7]:(u=[],c=Promise.resolve(),n.xh.forEach((function(t,e){n.Ch.Bi(e)?u.push(e):c=c.then((function(){return Is(n,e),wo(n.Gu,e,!0)})),zo(n.Sh,e)})),[4,c]);case 4:return r.sent(),[4,Ms(n,u)];case 5:return r.sent(),function(t){var e=w(t);e.Oh.forEach((function(t,n){zo(e.Sh,n)})),e.Lh.jc(),e.Oh=new Map,e.Mh=new Et(A.i)}(n),n.Qh=!1,[4,ss(n.Sh,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Ms(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l,f,h,d,p,v;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(c=void 0,(l=n.xh.get(u=a[s]))&&0!==l.length?[4,_o(n.Gu,zn(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),f=0,h=l,r.label=3;case 3:return f<h.length?(d=n.$h.get(h[f]),[4,Ps(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,ko(n.Gu,u)];case 8:return v=r.sent(),[4,_o(n.Gu,v)];case 9:return c=r.sent(),[4,ys(n,Vs(v),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Fh.pu(o),i)]}}))}))}function Vs(t){return Pn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fs(t){var e=w(t);return w(w(e.Gu).persistence).Vi()}function js(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=w(t)).Qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.xh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=w(t),n=w(e.Fc);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.ia(t,e.Nc)})).then((function(t){var n=t.ra;return e.Nc=t.readTime,n}))}(o.Gu)];case 3:return s=r.sent(),a=zt.Jt(e,"current"===n),[4,Ns(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,wo(o.Gu,e,!0)];case 6:return r.sent(),Is(o,e,i),[3,8];case 7:m(),r.label=8;case 8:return[2]}}))}))}function Us(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,h;return r.__generator(this,(function(d){switch(d.label){case 0:if(!(i=zs(t)).Qh)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?i.xh.has(a=s[o])?(p("SyncEngine","Adding an already active target "+a),[3,5]):[4,ko(i.Gu,a)]:[3,6];case 2:return u=d.sent(),[4,_o(i.Gu,u)];case 3:return c=d.sent(),[4,ys(i,Vs(u),c.targetId,!1)];case 4:d.sent(),Uo(i.Sh,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.xh.has(t)?[4,wo(i.Gu,t,!1).then((function(){zo(i.Sh,t),Is(i,t)})).catch(Eo)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},f=0,h=n,d.label=7;case 7:return f<h.length?[5,l(h[f])]:[3,10];case 8:d.sent(),d.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function zs(t){var e=w(t);return e.Sh.Hu.rh=ms.bind(null,e),e.Sh.Hu.Be=Ds.bind(null,e),e.Sh.Hu.ih=ws.bind(null,e),e.Fh.pu=Pr.bind(null,e.Dh),e.Fh.Kh=Rr.bind(null,e.Dh),e}function Bs(t){var e=w(t);return e.Sh.Hu.oh=bs.bind(null,e),e.Sh.Hu.ah=ks.bind(null,e),e}var qs=function(){function t(){}return t.prototype.xc=function(t){this.Yh=t},t.prototype.Or=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.rn.length||1===t.rn.length&&t.rn[0].field.p())}(e)||n.isEqual(ut.min())?this.Jh(t,e):this.Yh.$r(t,r).next((function(s){var a=i.Xh(e,s);return(Ln(e)||Mn(e))&&i.Ah(e.on,a,r,n)?i.Jh(t,e):(d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qn(e)),i.Yh.Or(t,e,n).next((function(t){return a.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.Xh=function(t,e){var n=new Tt(Kn(t));return e.forEach((function(e,r){r instanceof xn&&Yn(t,r)&&(n=n.add(r))})),n},t.prototype.Ah=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Jh=function(t,e){return d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Qn(e)),this.Yh.Or(t,e,ut.min())},t}(),Hs=function(){function t(t,e){this.Sr=t,this.Co=e,this.vr=[],this.Zh=1,this.tl=new Tt(Io.Oc)}return t.prototype.$o=function(t){return pr.resolve(0===this.vr.length)},t.prototype.xo=function(t,e,n,r){var i=this.Zh;this.Zh++;var o=new Kr(i,e,n,r);this.vr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.tl=this.tl.add(new Io(u.key,i)),this.Sr.ko(t,u.key.path.h())}return pr.resolve(o)},t.prototype.Mo=function(t,e){return pr.resolve(this.el(e))},t.prototype.Lo=function(t,e){var n=this.nl(e+1),r=n<0?0:n;return pr.resolve(this.vr.length>r?this.vr[r]:null)},t.prototype.Bo=function(){return pr.resolve(0===this.vr.length?-1:this.Zh-1)},t.prototype.qo=function(t){return pr.resolve(this.vr.slice())},t.prototype.Cr=function(t,e){var n=this,r=new Io(e,0),i=new Io(e,Number.POSITIVE_INFINITY),o=[];return this.tl.Nt([r,i],(function(t){var e=n.el(t.Gc);o.push(e)})),pr.resolve(o)},t.prototype.Mr=function(t,e){var n=this,r=new Tt(Z);return e.forEach((function(t){var e=new Io(t,0),i=new Io(t,Number.POSITIVE_INFINITY);n.tl.Nt([e,i],(function(t){r=r.add(t.Gc)}))})),pr.resolve(this.sl(r))},t.prototype.Qr=function(t,e){var n=e.path,r=n.length+1,i=n;A.F(i)||(i=i.child(""));var o=new Io(new A(i),0),s=new Tt(Z);return this.tl.Ft((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(s=s.add(t.Gc)),!0)}),o),pr.resolve(this.sl(s))},t.prototype.sl=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.el(t);null!==r&&n.push(r)})),n},t.prototype.Qo=function(t,e){var n=this;_(0===this.il(e.batchId,"removed")),this.vr.shift();var r=this.tl;return pr.forEach(e.mutations,(function(i){var o=new Io(i.key,e.batchId);return r=r.delete(o),n.Co.Ko(t,i.key)})).next((function(){n.tl=r}))},t.prototype.jo=function(t){},t.prototype.zo=function(t,e){var n=new Io(e,0),r=this.tl.$t(n);return pr.resolve(e.isEqual(r&&r.key))},t.prototype.Go=function(t){return pr.resolve()},t.prototype.il=function(t,e){return this.nl(t)},t.prototype.nl=function(t){return 0===this.vr.length?0:t-this.vr[0].batchId},t.prototype.el=function(t){var e=this.nl(t);return e<0||e>=this.vr.length?null:this.vr[e]},t}(),Gs=function(){function t(t,e){this.Sr=t,this.rl=e,this.docs=new Et(A.i),this.size=0}return t.prototype.Tr=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.rl(e);return this.docs=this.docs.rt(r,{Zo:e,size:s,readTime:n}),this.size+=s-o,this.Sr.ko(t,r.path.h())},t.prototype.Ir=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ar=function(t,e){var n=this.docs.get(e);return pr.resolve(n?n.Zo:null)},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.Zo:null)})),pr.resolve(r)},t.prototype.Or=function(t,e,n){for(var r=Dt(),i=new A(e.path.child("")),o=this.docs._t(i);o.It();){var s=o.Et(),a=s.value,u=a.Zo,c=a.readTime;if(!e.path.T(s.key.path))break;c.L(n)<=0||u instanceof xn&&Yn(e,u)&&(r=r.rt(u.key,u))}return pr.resolve(r)},t.prototype.ol=function(t,e){return pr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.aa=function(e){return new t.ca(this)},t.prototype.ha=function(t){return pr.resolve(this.size)},t}();Gs.ca=function(t){function e(e){var n=this;return(n=t.call(this)||this).la=e,n}return r.__extends(e,t),e.prototype.gr=function(t){var e=this,n=[];return this.dr.forEach((function(r,i){i?n.push(e.la.Tr(t,i,e.readTime)):e.la.Ir(r)})),pr.$n(n)},e.prototype.Rr=function(t,e){return this.la.Ar(t,e)},e.prototype.Pr=function(t,e){return this.la.getEntries(t,e)},e}(Xr);var Ws=function(){function t(t){this.persistence=t,this.al=new st((function(t){return pt(t)}),vt),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.cl=0,this.ul=new Co,this.targetCount=0,this.hl=to.ma()}return t.prototype.De=function(t,e){return this.al.forEach((function(t,n){return e(n)})),pr.resolve()},t.prototype.Ra=function(t){return pr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Pa=function(t){return pr.resolve(this.cl)},t.prototype.Ea=function(t){return this.highestTargetId=this.hl.next(),pr.resolve(this.highestTargetId)},t.prototype.ga=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.cl&&(this.cl=e),pr.resolve()},t.prototype.Va=function(t){this.al.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hl=new to(e),this.highestTargetId=e),t.sequenceNumber>this.cl&&(this.cl=t.sequenceNumber)},t.prototype.ya=function(t,e){return this.Va(e),this.targetCount+=1,pr.resolve()},t.prototype.ba=function(t,e){return this.Va(e),pr.resolve()},t.prototype.va=function(t,e){return this.al.delete(e.target),this.ul.Wc(e.targetId),this.targetCount-=1,pr.resolve()},t.prototype.Vo=function(t,e,n){var r=this,i=0,o=[];return this.al.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.al.delete(s),o.push(r.Sa(t,a.targetId)),i++)})),pr.$n(o).next((function(){return i}))},t.prototype.Da=function(t){return pr.resolve(this.targetCount)},t.prototype.Ca=function(t,e){var n=this.al.get(e)||null;return pr.resolve(n)},t.prototype.Na=function(t,e,n){return this.ul.qc(e,n),pr.resolve()},t.prototype.$a=function(t,e,n){this.ul.Qc(e,n);var r=this.persistence.Co,i=[];return r&&e.forEach((function(e){i.push(r.Ko(t,e))})),pr.$n(i)},t.prototype.Sa=function(t,e){return this.ul.Wc(e),pr.resolve()},t.prototype.ka=function(t,e){var n=this.ul.Kc(e);return pr.resolve(n)},t.prototype.zo=function(t,e){return pr.resolve(this.ul.zo(e))},t}(),Qs=function(){function t(t){var e=this;this.ll={},this.Ba=new Fr(0),this.qa=!1,this.qa=!0,this.Co=t(this),this.Ha=new Ws(this),this.Sr=new Pi,this.br=new Gs(this.Sr,(function(t){return e.Co._l(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Si=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),t.prototype.nc=function(){},t.prototype.sc=function(){},t.prototype.Pc=function(){return this.Sr},t.prototype.Ic=function(t){var e=this.ll[t.Zs()];return e||(e=new Hs(this.Sr,this.Co),this.ll[t.Zs()]=e),e},t.prototype.Ac=function(){return this.Ha},t.prototype.Rc=function(){return this.br},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Ys(this.Ba.next());return this.Co.fl(),n(i).next((function(t){return r.Co.dl(i).next((function(){return t}))})).Nn().then((function(t){return i.pr(),t}))},t.prototype.wl=function(t,e){return pr.xn(Object.values(this.ll).map((function(n){return function(){return n.zo(t,e)}})))},t}(),Ys=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ma=e,n}return r.__extends(e,t),e}($r),Ks=function(){function t(t){this.persistence=t,this.ml=new Co,this.Tl=null}return t.El=function(e){return new t(e)},Object.defineProperty(t.prototype,"Il",{get:function(){if(this.Tl)return this.Tl;throw m()},enumerable:!1,configurable:!0}),t.prototype.Fa=function(t,e,n){return this.ml.Fa(n,e),this.Il.delete(n.toString()),pr.resolve()},t.prototype.xa=function(t,e,n){return this.ml.xa(n,e),this.Il.add(n.toString()),pr.resolve()},t.prototype.Ko=function(t,e){return this.Il.add(e.toString()),pr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.ml.Wc(e.targetId).forEach((function(t){return n.Il.add(t.toString())}));var r=this.persistence.Ac();return r.ka(t,e.targetId).next((function(t){t.forEach((function(t){return n.Il.add(t.toString())}))})).next((function(){return r.va(t,e)}))},t.prototype.fl=function(){this.Tl=new Set},t.prototype.dl=function(t){var e=this,n=this.persistence.Rc().aa();return pr.forEach(this.Il,(function(r){var i=A.D(r);return e.Al(t,i).next((function(t){t||n.Ir(i)}))})).next((function(){return e.Tl=null,n.apply(t)}))},t.prototype.vc=function(t,e){var n=this;return this.Al(t,e).next((function(t){t?n.Il.delete(e.toString()):n.Il.add(e.toString())}))},t.prototype._l=function(t){return 0},t.prototype.Al=function(t,e){var n=this;return pr.xn([function(){return pr.resolve(n.ml.zo(e))},function(){return n.persistence.Ac().zo(t,e)},function(){return n.persistence.wl(t,e)}])},t}(),Zs=function(){function t(t){this.Rl=t.Rl,this.Pl=t.Pl}return t.prototype.yu=function(t){this.gl=t},t.prototype.Iu=function(t){this.yl=t},t.prototype.onMessage=function(t){this.Vl=t},t.prototype.close=function(){this.Pl()},t.prototype.send=function(t){this.Rl(t)},t.prototype.pl=function(){this.gl()},t.prototype.bl=function(t){this.yl(t)},t.prototype.vl=function(t){this.Vl(t)},t}(),Xs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Js=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return r.__extends(e,t),e.prototype.$l=function(t,e,n,r){return new Promise((function(i,o){var s=new a.XhrIo;s.listenOnce(a.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=s.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),o(new f(l.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);o(new f(u,r.message))}else o(new f(l.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new f(l.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{p("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.Vu=function(t,e){var n=[this.Dl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Fl(i.initMessageHeaders,e),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),c=!1,h=!1,d=new Zs({Rl:function(t){h?p("Connection","Not sending because WebChannel is closed:",t):(c||(p("Connection","Opening WebChannel transport."),u.open(),c=!0),p("Connection","WebChannel sending:",t),u.send(t))},Pl:function(){return u.close()}}),v=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return v(a.WebChannel.EventType.OPEN,(function(){h||p("Connection","WebChannel transport opened.")})),v(a.WebChannel.EventType.CLOSE,(function(){h||(h=!0,p("Connection","WebChannel transport closed"),d.bl())})),v(a.WebChannel.EventType.ERROR,(function(t){h||(h=!0,y("Connection","WebChannel transport errored:",t),d.bl(new f(l.UNAVAILABLE,"The operation could not be completed")))})),v(a.WebChannel.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];_(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=gt[t];if(void 0!==e)return kt(e)}(i),s=r.message;void 0===o&&(o=l.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),h=!0,d.bl(new f(o,s)),u.close()}else p("Connection","WebChannel received:",n),d.vl(n)}})),setTimeout((function(){d.pl()}),0),d},e}(function(){function t(t){this.Sl=t,this.U=t.U,this.Dl=(t.ssl?"https":"http")+"://"+t.host,this.Cl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.Mu=function(t,e,n,r){var i=this.Nl(t,e);p("RestConnection","Sending: ",i,n);var o={};return this.Fl(o,r),this.$l(t,i,o,n).then((function(t){return p("RestConnection","Received: ",t),t}),(function(e){throw y("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ou=function(t,e,n,r){return this.Mu(t,e,n,r)},t.prototype.Fl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.22.0",t["Content-Type"]="text/plain",e)for(var n in e.zc)e.zc.hasOwnProperty(n)&&(t[n]=e.zc[n])},t.prototype.Nl=function(t,e){return this.Dl+"/v1/"+e+":"+Xs[t]},t}()),$s=function(){function t(){var t=this;this.xl=function(){return t.kl()},this.Ml=function(){return t.Ol()},this.Ll=[],this.Bl()}return t.prototype.eh=function(t){this.Ll.push(t)},t.prototype.Si=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.Ml)},t.prototype.Bl=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.Ml)},t.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ll;t<e.length;t++)(0,e[t])(0)},t.prototype.Ol=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ll;t<e.length;t++)(0,e[t])(1)},t.On=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ta=function(){function t(){}return t.prototype.eh=function(t){},t.prototype.Si=function(){},t}();function ea(t){return new ye(t,!0)}var na="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ra=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Ch=this.ql(t),this.persistence=this.Ul(t),[4,this.persistence.start()];case 1:return e.sent(),this.Ql=this.Wl(t),this.Gu=this.jl(t),[2]}}))}))},t.prototype.Wl=function(t){return null},t.prototype.jl=function(t){return e=this.persistence,n=new qs,new po(e,n,t.Kl);var e,n},t.prototype.Ul=function(t){if(t.persistenceSettings.Gl)throw new f(l.FAILED_PRECONDITION,na);return new Qs(Ks.El)},t.prototype.ql=function(t){return new Yr},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ql&&this.Ql.stop(),[4,this.Ch.Si()];case 1:return t.sent(),[4,this.persistence.Si()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new f(l.FAILED_PRECONDITION,na)},t}(),ia=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.zl._i,this.Ch instanceof Qr?(this.Ch._i={tr:Rs.bind(null,n),er:js.bind(null,n),nr:Us.bind(null,n),Vi:Fs.bind(null,n)},[4,this.Ch.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.ec((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Ls(this.zl._i,t)];case 1:return e.sent(),this.Ql&&(t&&!this.Ql.Ti?this.Ql.start(this.Gu):t||this.Ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.ql=function(t){if(t.persistenceSettings.Gl&&t.persistenceSettings.synchronizeTabs){var e=Cr();if(!Qr.On(e))throw new f(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ho(t.Sl.U,t.Sl.persistenceKey);return new Qr(e,t.os,n,t.clientId,t.Kl)}return new Yr},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).zl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){return e=w(t),n=w(e.Fc),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.oa(t)})).then((function(t){e.Nc=t}))]}))}))}(this.Gu)];case 2:return n.sent(),[4,this.zl.initialize(this,e)];case 3:return n.sent(),[4,Bs(this.zl._i)];case 4:return n.sent(),[4,$o(this.zl.Sh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Wl=function(t){return new si(this.persistence.Co.do,t.os)},e.prototype.Ul=function(t){var e=ho(t.Sl.U,t.Sl.persistenceKey),n=ea(t.Sl.U);return new ao(t.persistenceSettings.synchronizeTabs,e,t.clientId,oi.oo(t.persistenceSettings.cacheSizeBytes),t.os,Cr(),Ir(),n,this.Ch,t.persistenceSettings.La)},e.prototype.ql=function(t){return new Yr},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return vr.On()?[4,vr.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(ho(t,e))},e}(ra)),oa=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.Gu?[3,2]:(this.Gu=t.Gu,this.Ch=t.Ch,this.zu=this.Hl(e),this.Sh=this.Yl(e),this.Dh=this.Jl(e),this._i=this.Xl(e),this.Ch.fi=function(t){return _s(n._i,t,1)},this.Sh.Hu.Zl=Os.bind(null,this._i),[4,ss(this.Sh,this._i.Wh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Jl=function(t){return new Nr},t.prototype.Hl=function(t){var e=ea(t.Sl.U),n=new Js(t.Sl);return function(t,e,n){return new Ro(t,e,n)}(t.credentials,n,e)},t.prototype.Yl=function(t){var e,n,r,i,o,s=this;return e=this.Gu,n=this.zu,r=t.os,i=function(t){return _s(s._i,t,0)},o=$s.On()?new $s:new ta,new Mo(e,n,r,i,o)},t.prototype.Xl=function(t){return function(t,e,n,r,i,o,s){var a=new ps(t,e,n,r,i,o);return s&&(a.Qh=!0),a}(this.Gu,this.Sh,this.Dh,this.Ch,t.Kl,t.Nh,!t.persistenceSettings.Gl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return jo(this.Sh)},t}(),sa=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.t_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.t_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.e_=function(){this.muted=!0},t.prototype.t_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),aa=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new f(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Q(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(P("FieldPath","string",e,t[e]),0===t[e].length)throw new f(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.n_=new S(t)},ua=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(S.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","FieldPath",1,t);return this.n_.isEqual(t.n_)},e}(aa),ca=new RegExp("[~\\*/\\[\\]]"),la=function(t){this.s_=t},fa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.i_=function(t){if(2!==t.r_)throw t.o_(1===t.r_?this.s_+"() can only appear at the top level of your update data":this.s_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(la);function ha(t,e,n){return new Ca({r_:3,a_:e.settings.a_,methodName:t.s_,c_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var da=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.i_=function(t){return new an(t.path,new Xe)},e.prototype.isEqual=function(t){return t instanceof e},e}(la),pa=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).u_=n,r}return r.__extends(e,t),e.prototype.i_=function(t){var e=ha(this,t,!0),n=this.u_.map((function(t){return Na(t,e)})),r=new Je(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(la),va=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).u_=n,r}return r.__extends(e,t),e.prototype.i_=function(t){var e=ha(this,t,!0),n=this.u_.map((function(t){return Na(t,e)})),r=new tn(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(la),ya=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).h_=n,r}return r.__extends(e,t),e.prototype.i_=function(t){var e=new nn(t.serializer,_e(t.serializer,this.h_));return new an(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(la),ga=function(){function t(t,e){if(N("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new f(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new f(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.l_=t,this.__=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.l_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.__},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.l_===t.l_&&this.__===t.__},t.prototype.toJSON=function(){return{latitude:this.l_,longitude:this.__}},t.prototype.H=function(t){return Z(this.l_,t.l_)||Z(this.__,t.__)},t}(),ma=function(t){this.f_=t},_a=/^__.*__$/,wa=function(t,e,n){this.d_=t,this.w_=e,this.m_=n},ba=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.T_=function(t,e){var n=[];return n.push(null!==this.Qe?new mn(t,this.data,this.Qe,e):new gn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new wn(t,this.fieldTransforms)),n},t}(),ka=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.T_=function(t,e){var n=[new mn(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new wn(t,this.fieldTransforms)),n},t}();function Ea(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw m()}}var Ca=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.E_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"r_",{get:function(){return this.settings.r_},enumerable:!1,configurable:!0}),t.prototype.I_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.I_({path:n,c_:!1});return r.R_(t),r},t.prototype.P_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.I_({path:n,c_:!1});return r.E_(),r},t.prototype.g_=function(t){return this.I_({path:void 0,c_:!0})},t.prototype.o_=function(t){return Ma(t,this.settings.methodName,this.settings.y_||!1,this.path,this.settings.a_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.E_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.R_(this.path.get(t))},t.prototype.R_=function(t){if(0===t.length)throw this.o_("Document fields must not be empty");if(Ea(this.r_)&&_a.test(t))throw this.o_('Document fields cannot begin and end with "__"')},t}(),Ia=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||ea(t)}return t.prototype.V_=function(t,e,n,r){return void 0===r&&(r=!1),new Ca({r_:t,methodName:e,a_:n,path:S.g(),c_:!1,y_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Ta(t,e,n,r,i,o){void 0===o&&(o={});var s=t.V_(o.merge||o.mergeFields?2:0,e,n,i);Pa("Data must be an object, but it was:",s,r);var a,u,c=Oa(r,s);if(o.merge)a=new sn(s.Qe),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],d=0,p=o.mergeFields;d<p.length;d++){var v=p[d],y=void 0;if(v instanceof aa)y=v.n_;else{if("string"!=typeof v)throw m();y=La(e,v,n)}if(!s.contains(y))throw new f(l.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Va(h,y)||h.push(y)}a=new sn(h),u=s.fieldTransforms.filter((function(t){return a.He(t.field)}))}else a=null,u=s.fieldTransforms;return new ba(new In(c),a,u)}function Sa(t,e,n,r){var i=t.V_(1,e,n);Pa("Data must be an object, but it was:",i,r);var o=[],s=new Tn;k(r,(function(t,r){var a=La(e,t,n),u=i.P_(a);if(r instanceof fa||r instanceof ma&&r.f_ instanceof fa)o.push(a);else{var c=Na(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new sn(o);return new ka(s.Je(),a,i.fieldTransforms)}function Aa(t,e,n,r,i,o){var s=t.V_(1,e,n),a=[Ra(e,r,n)],u=[i];if(o.length%2!=0)throw new f(l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Ra(e,o[c])),u.push(o[c+1]);for(var h=[],d=new Tn,p=a.length-1;p>=0;--p)if(!Va(h,a[p])){var v=a[p],y=u[p],g=s.P_(v);if(y instanceof fa||y instanceof ma&&y.f_ instanceof fa)h.push(v);else{var m=Na(y,g);null!=m&&(h.push(v),d.set(v,m))}}var _=new sn(h);return new ka(d.Je(),_,s.fieldTransforms)}function xa(t,e,n,r){return void 0===r&&(r=!1),Na(n,t.V_(r?4:3,e))}function Na(t,e){if(t instanceof ma&&(t=t.f_),Da(t))return Pa("Unsupported field value:",e,t),Oa(t,e);if(t instanceof la)return function(t,e){if(!Ea(e.r_))throw e.o_(t.s_+"() can only be used with update() and set()");if(!e.path)throw e.o_(t.s_+"() is not currently supported inside arrays");var n=t.i_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.c_&&4!==e.r_)throw e.o_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Na(o[i],e.g_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _e(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=at.fromDate(t);return{timestampValue:we(e.serializer,n)}}if(t instanceof at){var r=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:we(e.serializer,r)}}if(t instanceof ga)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:be(e.serializer,t.q)};if(t instanceof wa){var i=e.U,o=t.d_;if(!o.isEqual(i))throw e.o_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ce(t.d_||e.U,t.w_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.o_("Unsupported field value: "+z(t))}(t,e)}function Oa(t,e){var n={};return E(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):k(t,(function(t,r){var i=Na(r,e.A_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Da(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof at||t instanceof ga||t instanceof tt||t instanceof wa||t instanceof la)}function Pa(t,e,n){if(!Da(n)||!U(n)){var r=z(n);throw e.o_("an object"===r?t+" a custom object":t+" "+r)}}function Ra(t,e,n){if(e instanceof aa)return e.n_;if("string"==typeof e)return La(t,e);throw Ma("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function La(t,e,n){try{return function(t){if(t.search(ca)>=0)throw new f(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ua.bind.apply(ua,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new f(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).n_}catch(e){throw Ma((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Ma(t,e,n,r,i){var o=r&&!r.m(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new f(l.INVALID_ARGUMENT,(a+=". ")+t+u)}function Va(t,e){return t.some((function(t){return t.isEqual(e)}))}var Fa=function(){function t(t){this.zu=t,this.p_=new Map,this.mutations=[],this.b_=!1,this.v_=null,this.S_=new Set}return t.prototype.D_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.C_(),this.mutations.length>0)throw new f(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=Ne(n.serializer)+"/documents",o={documents:e.map((function(t){return Te(n.serializer,t)}))},[4,n.Ou("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){_(!!e.found);var n=Se(t,e.found.name),r=Ee(e.found.updateTime),i=new In({mapValue:{fields:e.found.fields}});return new xn(n,r,i,{})}(t,e):"missing"in e?function(t,e){_(!!e.missing),_(!!e.readTime);var n=Se(t,e.missing),r=Ee(e.readTime);return new Nn(n,r)}(t,e):m()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());_(!!e),u.push(e)})),u)]}}))}))}(this.zu,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof Nn||t instanceof xn?n.N_(t):m()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.T_(t,this.Ke(t))),this.S_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.T_(t,this.F_(t)))}catch(t){this.v_=t}this.S_.add(t.toString())},t.prototype.delete=function(t){this.write([new En(t,this.Ke(t))]),this.S_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.C_(),this.v_)throw this.v_;return t=this.p_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=A.D(n);e.mutations.push(new Cn(r,e.Ke(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=Ne(n.serializer)+"/documents",o={writes:e.map((function(t){return Pe(n.serializer,t)}))},[4,n.Mu("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.zu,this.mutations)];case 1:return n.sent(),this.b_=!0,[2]}}))}))},t.prototype.N_=function(t){var e;if(t instanceof xn)e=t.version;else{if(!(t instanceof Nn))throw m();e=ut.min()}var n=this.p_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new f(l.ABORTED,"Document version changed between two reads.")}else this.p_.set(t.key.toString(),e)},t.prototype.Ke=function(t){var e=this.p_.get(t.toString());return!this.S_.has(t.toString())&&e?cn.updateTime(e):cn.Ge()},t.prototype.F_=function(t){var e=this.p_.get(t.toString());if(!this.S_.has(t.toString())&&e){if(e.isEqual(ut.min()))throw new f(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(e)}return cn.exists(!0)},t.prototype.write=function(t){this.C_(),this.mutations=this.mutations.concat(t)},t.prototype.C_=function(){},t}(),ja=function(){function t(t,e,n,r){this.os=t,this.zu=e,this.updateFunction=n,this.hs=r,this.x_=5,this.gs=new dr(this.os,"transaction_retry")}return t.prototype.run=function(){this.k_()},t.prototype.k_=function(){var t=this;this.gs.Rn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new Fa(this.zu),(e=this.M_(t))&&e.then((function(e){n.os.ds((function(){return t.commit().then((function(){n.hs.resolve(e)})).catch((function(t){n.O_(t)}))}))})).catch((function(t){n.O_(t)})),[2]}))}))}))},t.prototype.M_=function(t){try{var e=this.updateFunction(t);return!ct(e)&&e.catch&&e.then?e:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.hs.reject(t),null}},t.prototype.O_=function(t){var e=this;this.x_>0&&this.L_(t)?(this.x_-=1,this.os.ds((function(){return e.k_(),Promise.resolve()}))):this.hs.reject(t)},t.prototype.L_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!bt(e)}return!1},t}(),Ua=function(){function t(t,e){this.credentials=t,this.os=e,this.clientId=K.k(),this.B_=new hr}return t.prototype.start=function(t,e,n,i){var o=this;this.q_(),this.Sl=t;var s=new hr,a=!1;return this.credentials.Jc((function(t){if(!a)return a=!0,p("FirestoreClient","Initializing. user=",t.uid),o.U_(e,n,i,t,s).then(o.B_.resolve,o.B_.reject);o.os.Ds((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=w(t)).os.Fs(),p("RemoteStore","RemoteStore received new credentials"),i=Wo(n),n.Xu.add(3),[4,Fo(n)];case 1:return r.sent(),i&&n.nh.set("Unknown"),[4,n.Hu.Zl(e)];case 2:return r.sent(),n.Xu.delete(3),[4,Vo(n)];case 3:return r.sent(),[2]}}))}))}(o.Sh,t)}))})),this.os.ds((function(){return o.B_.promise})),s.promise},t.prototype.enableNetwork=function(){var t=this;return this.q_(),this.os.enqueue((function(){return t.persistence.sc(!0),function(t){var e=w(t);return e.Xu.delete(0),Vo(e)}(t.Sh)}))},t.prototype.U_=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var s,a,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.initialize(s={os:this.os,Sl:this.Sl,clientId:this.clientId,credentials:this.credentials,Kl:i,Nh:100,persistenceSettings:n})];case 1:return c.sent(),[4,e.initialize(t,s)];case 2:return c.sent(),this.persistence=t.persistence,this.Ch=t.Ch,this.Gu=t.Gu,this.Ql=t.Ql,this.zu=e.zu,this.Sh=e.Sh,this._i=e._i,this.Q_=e.Dh,this.Q_.qs=vs.bind(null,this._i),this.Q_.Ws=gs.bind(null,this._i),this.persistence.nc((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(a=c.sent(),o.reject(a),!this.W_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.U_(new ra,new oa,{Gl:!1},i,o))];case 4:return[2]}}))}))},t.prototype.W_=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.q_=function(){if(this.os.Vs)throw new f(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.q_(),this.os.enqueue((function(){return t.persistence.sc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=w(t)).Xu.add(0),[4,Fo(e)];case 1:return n.sent(),e.nh.set("Offline"),[2]}}))}))}(t.Sh)}))},t.prototype.terminate=function(){var t=this;this.os.Ss();var e=new hr;return this.os.ps((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.Ql&&this.Ql.stop(),[4,jo(this.Sh)];case 1:return r.sent(),[4,this.Ch.Si()];case 2:return r.sent(),[4,this.persistence.Si()];case 3:return r.sent(),this.credentials.Xc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=Ar(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.q_();var e=new hr;return this.os.ds((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:Wo((n=w(t)).Sh)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=w(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.vr.Bo(t)}))}(n.Gu)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.qh.get(i)||[]).push(e),n.qh.set(i,o),[3,4]);case 3:return s=r.sent(),a=Ar(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}(t._i,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.q_();var i=new sa(n),o=new Mr(t,i,e);return this.os.ds((function(){return Or(r.Q_,o)})),function(){i.e_(),r.os.ds((function(){return Dr(r.Q_,o)}))}},t.prototype.j_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return i.sent(),e=new hr,[2,(this.os.ds((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=w(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.$c.Dr(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof xn?n.resolve(i):i instanceof Nn?n.resolve(null):n.reject(new f(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=Ar(o,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}(n.Gu,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return r.sent(),n=new hr,[2,(this.os.ds((function(){return function(t,e,n,r,i){var o=new sa({next:function(o){e.ds((function(){return Dr(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new f(l.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new f(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Mr(Rn(n.path),o,{includeMetadataChanges:!0,Js:!0});return Or(t,s)}(i.Q_,i.os,t,e,n)})),n.promise)]}}))}))},t.prototype.G_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return i.sent(),e=new hr,[2,(this.os.ds((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,bo(t,e,!0)];case 1:return i=r.sent(),o=new fs(e,i.kc),s=o.Th(i.documents),a=o.gr(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=Ar(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))}(n.Gu,t,e)})),e.promise)]}}))}))},t.prototype.z_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return r.sent(),n=new hr,[2,(this.os.ds((function(){return function(t,e,n,r,i){var o=new sa({next:function(n){e.ds((function(){return Dr(t,s)})),n.fromCache&&"server"===r.source?i.reject(new f(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Mr(n,o,{includeMetadataChanges:!0,Js:!0});return Or(t,s)}(i.Q_,i.os,t,e,n)})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.q_();var n=new hr;return this.os.ds((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=Bs(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=w(t),i=at.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Lt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.$c.$r(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=pn(c,n.get(c.key));null!=l&&s.push(new mn(c.key,l,Sn(l.proto.mapValue),cn.exists(!0)))}return r.vr.xo(t,i,s,e)}))})).then((function(t){var e=t.hr(n);return{batchId:t.batchId,dr:e}}))}(i.Gu,e)];case 2:return o=r.sent(),i.Ch.Fi(o.batchId),function(t,e,n){var r=t.Bh[t.currentUser.Zs()];r||(r=new Et(Z)),r=r.rt(e,n),t.Bh[t.currentUser.Zs()]=r}(i,o.batchId,n),[4,Ns(i,o.dr)];case 3:return r.sent(),[4,$o(i.Sh)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=Ar(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}(e._i,t,n)})),n.promise},t.prototype.U=function(){return this.Sl.U},t.prototype.H_=function(t){var e=this;this.q_();var n=new sa(t);return this.os.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){w(t).Bs.add(e),e.next()}(this.Q_,n)]}))}))})),function(){n.e_(),e.os.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){w(t).Bs.delete(e)}(this.Q_,n)]}))}))}))}},Object.defineProperty(t.prototype,"Y_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.q_();var n=new hr;return this.os.ds((function(){return new ja(e.os,e.zu,t,n).run(),Promise.resolve()})),n.promise},t}();function za(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ba=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.J_=n,this.X_=r,this.Z_=i}return t.prototype.tf=function(t){switch($t(t)){case 0:return null;case 1:return t.booleanValue;case 2:return se(t.integerValue||t.doubleValue);case 3:return this.ef(t.timestampValue);case 4:return this.nf(t);case 5:return t.stringValue;case 6:return this.Z_(ae(t.bytesValue));case 7:return this.sf(t.referenceValue);case 8:return this.if(t.geoPointValue);case 9:return this.rf(t.arrayValue);case 10:return this.af(t.mapValue);default:throw m()}},t.prototype.af=function(t){var e=this,n={};return k(t.fields||{},(function(t,r){n[t]=e.tf(r)})),n},t.prototype.if=function(t){return new ga(se(t.latitude),se(t.longitude))},t.prototype.rf=function(t){var e=this;return(t.values||[]).map((function(t){return e.tf(t)}))},t.prototype.nf=function(t){switch(this.J_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Zt(n)?t(n):n}(t);return null==e?null:this.tf(e);case"estimate":return this.ef(Xt(t));default:return null}},t.prototype.ef=function(t){var e=oe(t),n=new at(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.sf=function(t){var e=I.P(t);_(We(e));var n=new ot(e.get(1),e.get(3)),r=new A(e.u(5));return n.isEqual(this.U)||v("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.X_(r)},t}(),qa=oi.uo,Ha=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new f(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else L("settings","non-empty string","host",t.host),this.host=t.host,M("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(q("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),M("settings","object","credentials",t.credentials),this.credentials=t.credentials,M("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),M("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?v("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&v("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,M("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=oi.lo;else{if(t.cacheSizeBytes!==qa&&t.cacheSizeBytes<oi.ho)throw new f(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+oi.ho);this.cacheSizeBytes=t.cacheSizeBytes}M("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ga=function(){function t(e,n,i,o){var s=this;if(void 0===i&&(i=new ra),void 0===o&&(o=new oa),this.cf=i,this.uf=o,this.hf=null,this.lf=new Sr,this.INTERNAL={delete:function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this._f(),[4,this.ff.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.hf=a,this.d_=t.df(a),this.wf=a.name,this.mf=new Ao(n)}else{var u=e;if(!u.projectId)throw new f(l.INVALID_ARGUMENT,"Must provide projectId");this.d_=new ot(u.projectId,u.database),this.wf="[DEFAULT]",this.mf=new So}this.Tf=new Ha({})}return Object.defineProperty(t.prototype,"Ef",{get:function(){return this.If||(this.If=new Ia(this.d_,this.Tf.ignoreUndefinedProperties)),this.If},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){N("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.Tf),t)).merge;var e=new Ha(t);if(this.ff&&!this.Tf.isEqual(e))throw new f(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Tf=e,void 0!==e.credentials&&(this.mf=function(t){if(!t)return new So;switch(t.type){case"gapi":var e=t.client;return _(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new No(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new f(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this._f(),this.ff.enableNetwork()},t.prototype.disableNetwork=function(){return this._f(),this.ff.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.ff)throw new f(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&v("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new f(l.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Af(this.cf,this.uf,{Gl:!0,cacheSizeBytes:this.Tf.cacheSizeBytes,synchronizeTabs:r,La:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.ff&&!this.ff.Y_)throw new f(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new hr,[2,(this.lf.ps((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cf.clearPersistence(this.d_,this.wf)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Rf",{get:function(){return this._f(),this.ff.Y_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this._f(),this.ff.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this._f(),za(t)?this.ff.H_(t):(P("Firestore.onSnapshotsInSync","function",1,t),this.ff.H_({next:t}))},t.prototype._f=function(){return this.ff||this.Af(new ra,new oa,{Gl:!1}),this.ff},t.prototype.Pf=function(){return new it(this.d_,this.wf,this.Tf.host,this.Tf.ssl,this.Tf.experimentalForceLongPolling)},t.prototype.Af=function(t,e,n){var r=this.Pf();return this.ff=new Ua(this.mf,this.lf),this.ff.start(r,t,e,n)},t.df=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new f(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new f(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.hf)throw new f(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.hf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return N("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),this._f(),new su(I.P(t),this,null)},t.prototype.doc=function(t){return N("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),this._f(),Ya.gf(I.P(t),this,null)},t.prototype.collectionGroup=function(t){if(N("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new f(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this._f(),new iu(function(t){return new Dn(I.g(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return N("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this._f().transaction((function(n){return t(new Wa(e,n))}))},t.prototype.batch=function(){return this._f(),new Qa(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){N("Firestore.setLogLevel",arguments,1),F("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),h.setLogLevel(t)},t.prototype.yf=function(){return this.Tf.timestampsInSnapshots},t.prototype.Vf=function(){return this.Tf},t}(),Wa=function(){function t(t,e){this.pf=t,this.bf=e}return t.prototype.get=function(t){var e=this;N("Transaction.get",arguments,1);var n=lu("Transaction.get",t,this.pf);return this.bf.D_([n.w_]).then((function(t){if(!t||1!==t.length)return m();var r=t[0];if(r instanceof Nn)return new Za(e.pf,n.w_,null,!1,!1,n.m_);if(r instanceof xn)return new Za(e.pf,n.w_,r,!1,!1,n.m_);throw m()}))},t.prototype.set=function(t,e,n){D("Transaction.set",arguments,2,3);var r=lu("Transaction.set",t,this.pf);n=au("Transaction.set",n);var i=hu(r.m_,e,n),o=Ta(this.pf.Ef,"Transaction.set",r.w_,i,null!==r.m_,n);return this.bf.set(r.w_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof ua?(O("Transaction.update",arguments,3),r=lu("Transaction.update",t,this.pf),i=Aa(this.pf.Ef,"Transaction.update",r.w_,e,n,o)):(N("Transaction.update",arguments,2),r=lu("Transaction.update",t,this.pf),i=Sa(this.pf.Ef,"Transaction.update",r.w_,e)),this.bf.update(r.w_,i),this},t.prototype.delete=function(t){N("Transaction.delete",arguments,1);var e=lu("Transaction.delete",t,this.pf);return this.bf.delete(e.w_),this},t}(),Qa=function(){function t(t){this.pf=t,this.vf=[],this.Sf=!1}return t.prototype.set=function(t,e,n){D("WriteBatch.set",arguments,2,3),this.Df();var r=lu("WriteBatch.set",t,this.pf);n=au("WriteBatch.set",n);var i=hu(r.m_,e,n),o=Ta(this.pf.Ef,"WriteBatch.set",r.w_,i,null!==r.m_,n);return this.vf=this.vf.concat(o.T_(r.w_,cn.Ge())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Df(),"string"==typeof e||e instanceof ua?(O("WriteBatch.update",arguments,3),r=lu("WriteBatch.update",t,this.pf),i=Aa(this.pf.Ef,"WriteBatch.update",r.w_,e,n,o)):(N("WriteBatch.update",arguments,2),r=lu("WriteBatch.update",t,this.pf),i=Sa(this.pf.Ef,"WriteBatch.update",r.w_,e)),this.vf=this.vf.concat(i.T_(r.w_,cn.exists(!0))),this},t.prototype.delete=function(t){N("WriteBatch.delete",arguments,1),this.Df();var e=lu("WriteBatch.delete",t,this.pf);return this.vf=this.vf.concat(new En(e.w_,cn.Ge())),this},t.prototype.commit=function(){return this.Df(),this.Sf=!0,this.vf.length>0?this.pf._f().write(this.vf):Promise.resolve()},t.prototype.Df=function(){if(this.Sf)throw new f(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ya=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.d_,e,r)||this).w_=e,i.firestore=n,i.m_=r,i.ff=i.firestore._f(),i}return r.__extends(e,t),e.gf=function(t,n,r){if(t.length%2!=0)throw new f(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new A(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.w_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new su(this.w_.path.h(),this.firestore,this.m_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.w_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(N("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new f(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=I.P(t);return new su(this.w_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.w_.isEqual(t.w_)&&this.m_===t.m_},e.prototype.set=function(t,e){D("DocumentReference.set",arguments,1,2),e=au("DocumentReference.set",e);var n=hu(this.m_,t,e),r=Ta(this.firestore.Ef,"DocumentReference.set",this.w_,n,null!==this.m_,e);return this.ff.write(r.T_(this.w_,cn.Ge()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof ua?(O("DocumentReference.update",arguments,2),n=Aa(this.firestore.Ef,"DocumentReference.update",this.w_,t,e,r)):(N("DocumentReference.update",arguments,1),n=Sa(this.firestore.Ef,"DocumentReference.update",this.w_,t)),this.ff.write(n.T_(this.w_,cn.exists(!0)))},e.prototype.delete=function(){return N("DocumentReference.delete",arguments,0),this.ff.write([new En(this.w_,cn.Ge())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];D("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||za(i[a])||(q("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),M("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(za(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else P("DocumentReference.onSnapshot","function",a,i[a]),R("DocumentReference.onSnapshot","function",a+1,i[a+1]),R("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Cf(t))},error:i[a+1],complete:i[a+2]};return this.ff.listen(Rn(this.w_.path),u,l)},e.prototype.get=function(t){var e=this;D("DocumentReference.get",arguments,0,1),cu("DocumentReference.get",t);var n=this.firestore._f();return t&&"cache"===t.source?n.j_(this.w_).then((function(t){return new Za(e.firestore,e.w_,t,!0,t instanceof xn&&t.Ye,e.m_)})):n.K_(this.w_,t).then((function(t){return e.Cf(t)}))},e.prototype.withConverter=function(t){return new e(this.w_,this.firestore,t)},e.prototype.Cf=function(t){var e=t.docs.get(this.w_);return new Za(this.firestore,this.w_,e,t.fromCache,t.hasPendingWrites,this.m_)},e}(wa),Ka=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Za=function(){function t(t,e,n,r,i,o){this.pf=t,this.w_=e,this.Nf=n,this.Ff=r,this.$f=i,this.m_=o}return t.prototype.data=function(t){var e=this;if(D("DocumentSnapshot.data",arguments,0,1),t=uu("DocumentSnapshot.data",t),this.Nf){if(this.m_){var n=new Xa(this.pf,this.w_,this.Nf,this.Ff,this.$f,null);return this.m_.fromFirestore(n,t)}return new Ba(this.pf.d_,this.pf.yf(),t.serverTimestamps||"none",(function(t){return new Ya(t,e.pf,null)}),(function(t){return new rt(t)})).tf(this.Nf.sn())}},t.prototype.get=function(t,e){var n=this;if(D("DocumentSnapshot.get",arguments,1,2),e=uu("DocumentSnapshot.get",e),this.Nf){var r=this.Nf.data().field(Ra("DocumentSnapshot.get",t,this.w_));if(null!==r)return new Ba(this.pf.d_,this.pf.yf(),e.serverTimestamps||"none",(function(t){return new Ya(t,n.pf,n.m_)}),(function(t){return new rt(t)})).tf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.w_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ya(this.w_,this.pf,this.m_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Nf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ka(this.$f,this.Ff)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentSnapshot",1,e);return this.pf===e.pf&&this.Ff===e.Ff&&this.w_.isEqual(e.w_)&&(null===this.Nf?null===e.Nf:this.Nf.isEqual(e.Nf))&&this.m_===e.m_},t}(),Xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Za);function Ja(t,e,n,r,i,o,s){var a;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new f(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){eu(s,o);for(var u=[],c=0,h=s;c<h.length;c++)u.push(tu(r,t,h[c]));a={arrayValue:{values:u}}}else a=tu(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||eu(s,o),a=xa(n,e,s,"in"===o||"not-in"===o);var d=Zn.create(i,o,a);return function(t,e){if(e.un()){var n=Fn(t);if(null!==n&&!n.isEqual(e.field))throw new f(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Vn(t);null!==r&&nu(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new f(l.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}function $a(t,e,n){if(null!==t.startAt)throw new f(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new f(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cr(e,n);return function(t,e){if(null===Vn(t)){var n=Fn(t);null!==n&&nu(0,n,e.field)}}(t,r),r}function tu(t,e,n){if("string"==typeof n){if(""===n)throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jn(e)&&-1!==n.indexOf("/"))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(I.P(n));if(!A.F(r))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ue(t,new A(r))}if(n instanceof wa)return ue(t,n.w_);throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+z(n)+".")}function eu(t,e){if(!Array.isArray(t)||0===t.length)throw new f(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new f(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new f(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new f(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function nu(t,e,n){if(!n.isEqual(e))throw new f(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ru(t){if(Mn(t)&&0===t.rn.length)throw new f(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var iu=function(){function t(t,e,n){this.xf=t,this.firestore=e,this.m_=n}return t.prototype.where=function(e,n,r){N("Query.where",arguments,3),B("Query.where",3,r);var i=F("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Ra("Query.where",e),s=Ja(this.xf,"Query.where",this.firestore.Ef,this.firestore.d_,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Dn(t.path,t.collectionGroup,t.rn.slice(),n,t.limit,t.on,t.startAt,t.endAt)}(this.xf,s),this.firestore,this.m_)},t.prototype.orderBy=function(e,n){var r;if(D("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new f(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Ra("Query.orderBy",e),o=$a(this.xf,i,r);return new t(function(t,e){var n=t.rn.concat([e]);return new Dn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.on,t.startAt,t.endAt)}(this.xf,o),this.firestore,this.m_)},t.prototype.limit=function(e){return N("Query.limit",arguments,1),P("Query.limit","number",1,e),G("Query.limit",1,e),new t(Bn(this.xf,e,"F"),this.firestore,this.m_)},t.prototype.limitToLast=function(e){return N("Query.limitToLast",arguments,1),P("Query.limitToLast","number",1,e),G("Query.limitToLast",1,e),new t(Bn(this.xf,e,"L"),this.firestore,this.m_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAt",arguments,1);var i=this.kf("Query.startAt",e,n,!0);return new t(qn(this.xf,i),this.firestore,this.m_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAfter",arguments,1);var i=this.kf("Query.startAfter",e,n,!1);return new t(qn(this.xf,i),this.firestore,this.m_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endBefore",arguments,1);var i=this.kf("Query.endBefore",e,n,!0);return new t(Hn(this.xf,i),this.firestore,this.m_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endAt",arguments,1);var i=this.kf("Query.endAt",e,n,!1);return new t(Hn(this.xf,i),this.firestore,this.m_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","Query",1,e);return this.firestore===e.firestore&&Gn(this.xf,e.xf)&&this.m_===e.m_},t.prototype.withConverter=function(e){return new t(this.xf,this.firestore,e)},t.prototype.kf=function(t,e,n,i){if(B(t,1,e),e instanceof Za)return N(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new f(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Un(t);s<a.length;s++){var u=a[s];if(u.field.p())o.push(ue(e,r.key));else{var c=r.field(u.field);if(Zt(c))throw new f(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.R();throw new f(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new or(o,i)}(this.xf,this.firestore.d_,t,e.Nf,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var s=t.rn;if(i.length>s.length)throw new f(l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.p()){if("string"!=typeof c)throw new f(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!jn(t)&&-1!==c.indexOf("/"))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(I.P(c));if(!A.F(h))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var d=new A(h);a.push(ue(e,d))}else{var p=xa(n,r,c);a.push(p)}}return new or(a,o)}(this.xf,this.firestore.d_,this.firestore.Ef,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];D("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||za(i[a])||(q("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),M("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),za(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else P("Query.onSnapshot","function",a,i[a]),R("Query.onSnapshot","function",a+1,i[a+1]),R("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new ou(r.firestore,r.xf,t,r.m_))},error:i[a+1],complete:i[a+2]};return ru(this.xf),this.firestore._f().listen(this.xf,s,c)},t.prototype.get=function(t){var e=this;D("Query.get",arguments,0,1),cu("Query.get",t),ru(this.xf);var n=this.firestore._f();return(t&&"cache"===t.source?n.G_(this.xf):n.z_(this.xf,t)).then((function(t){return new ou(e.firestore,e.xf,t,e.m_)}))},t}(),ou=function(){function t(t,e,n,r){this.pf=t,this.Mf=e,this.Of=n,this.m_=r,this.Lf=null,this.Bf=null,this.metadata=new Ka(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Of.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Of.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;D("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this.Of.docs.forEach((function(r){t.call(e,n.qf(r,n.metadata.fromCache,n.Of.Qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new iu(this.Mf,this.pf,this.m_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(q("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),M("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Of.jt)throw new f(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Lf&&this.Bf===e||(this.Lf=function(t,e,n){if(t.Ut.m()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Ut;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:fu(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Of,e,this.qf.bind(this)),this.Bf=e),this.Lf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","QuerySnapshot",1,e);return this.pf===e.pf&&Gn(this.Mf,e.Mf)&&this.Of.isEqual(e.Of)&&this.m_===e.m_},t.prototype.qf=function(t,e,n){return new Xa(this.pf,t.key,t,e,n,this.m_)},t}(),su=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Rn(e),n,r)||this).Uf=e,e.length%2!=1)throw new f(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.xf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.xf.path.h();return t.m()?null:new Ya(new A(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.xf.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){D("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=K.k()),P("CollectionReference.doc","non-empty string",1,t);var e=I.P(t);return Ya.gf(this.xf.path.child(e),this.firestore,this.m_)},e.prototype.add=function(t){N("CollectionReference.add",arguments,1);var e=this.m_?this.m_.toFirestore(t):t;P("CollectionReference.add","object",1,e);var n=this.doc();return new Ya(n.w_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Uf,this.firestore,t)},e}(iu);function au(t,e){if(void 0===e)return{merge:!1};if(q(t,e,["merge","mergeFields"]),M(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+z(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+z(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof ua}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new f(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function uu(t,e){return void 0===e?{}:(q(t,e,["serverTimestamps"]),V(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function cu(t,e){R(t,"object",1,e),e&&(q(t,e,["source"]),V(t,0,"source",e.source,["default","server","cache"]))}function lu(t,e,n){if(e instanceof wa){if(e.firestore!==n)throw new f(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw H(t,"DocumentReference",1,e)}function fu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}function hu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.serverTimestamp=function(){x("FieldValue.serverTimestamp",arguments);var t=new da("serverTimestamp");return t.s_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){x("FieldValue.delete",arguments);var t=new fa("deleteField");return t.s_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];O("FieldValue.arrayUnion",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O("arrayUnion()",arguments,1),new pa("arrayUnion",t)}).apply(void 0,t);return r.s_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];O("FieldValue.arrayRemove",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O("arrayRemove()",arguments,1),new va("arrayRemove",t)}).apply(void 0,t);return r.s_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){P("FieldValue.increment","number",1,t),N("FieldValue.increment",arguments,1);var n=function(t){return new ya("increment",t)}(t);return n.s_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},e}(ma),pu={Firestore:Ga,GeoPoint:ga,Timestamp:at,Blob:rt,Transaction:Wa,WriteBatch:Qa,DocumentReference:Ya,DocumentSnapshot:Za,Query:iu,QueryDocumentSnapshot:Xa,QuerySnapshot:ou,CollectionReference:su,FieldPath:ua,FieldValue:du,setLogLevel:Ga.setLogLevel,CACHE_SIZE_UNLIMITED:qa};function vu(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new oa,r=new ia(n);return new Ga(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},pu)))}(t),t.registerVersion("@firebase/firestore","1.17.2")}vu(c.default),e.__PRIVATE_registerFirestore=vu},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r:{default:r};i.default.registerVersion("firebase","7.22.1","app"),t.exports=i.default},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return f})),n.d(e,"__createBinding",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return y})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return k})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return I})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function I(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return f})),n.d(e,"setLogLevel",(function(){return h})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function h(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),f=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),h=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){h.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void h.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,f=a.name;if(n.has(f))return h.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===a.type?r[f]:null;if(n.set(f,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[f])throw l.create("invalid-app-argument",{appName:f});return t[f]()};void 0!==a.serviceProps&&s.deepExtend(d,a.serviceProps),r[f]=d,t.prototype[f]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,f);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(a)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[f]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",void 0),t.registerVersion("fire-js","")}(m),e.default=m,e.firebase=m},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return $n})),n.d(e,"EventType",(function(){return tr})),n.d(e,"WebChannel",(function(){return er})),n.d(e,"XhrIo",(function(){return nr})),n.d(e,"createWebChannelTransport",(function(){return Jn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},u=s||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now;function w(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function b(){this.j=this.j,this.i=this.i}b.prototype.j=!1,b.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},b.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function C(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var S,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:t>e?1:0}t:{var O=u.navigator;if(O){var D=O.userAgent;if(D){S=D;break t}}S=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V(t){return V[" "](t),t}V[" "]=c;var F,j,U=x(S,"Opera"),z=x(S,"Trident")||x(S,"MSIE"),B=x(S,"Edge"),q=B||z,H=x(S,"Gecko")&&!(x(S.toLowerCase(),"webkit")&&!x(S,"Edge"))&&!(x(S,"Trident")||x(S,"MSIE"))&&!x(S,"Edge"),G=x(S.toLowerCase(),"webkit")&&!x(S,"Edge");function W(){var t=u.document;return t?t.documentMode:void 0}t:{var Q="",Y=(j=S,H?/rv:([^\);]+)(\)|;)/.exec(j):B?/Edge\/([\d\.]+)/.exec(j):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):G?/WebKit\/(\S+)/.exec(j):U?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(Y&&(Q=Y?Y[1]:""),z){var K=W();if(null!=K&&K>parseFloat(Q)){F=String(K);break t}}F=Q}var Z={};function X(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=A(String(F)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=N(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||N(0==s[2].length,0==a[2].length)||N(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var J=u.document&&z&&(W()||parseInt(F,10))||void 0,$=!z||9<=Number(J),tt=z&&!X("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{V(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},w(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=k(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ft(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new at(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=kt(r),e&&e[ot]?e.wa(n,r,h(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ot]?t.va(e,n,h(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=h(i)?!!i.capture:!!i;if(s&&!$)return null;var a=wt(t);if(a||(t[ht]=a=new ct(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=_t,e=$?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wt(e))?(lt(n,t),0==n.b&&(n.src=null,e[ht]=null)):ut(t)}}}function gt(t){return t in dt?dt[t]:dt[t]="on"+t}function mt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&yt(t),n.call(r,e)}function _t(t,e){if(t.Y)return!0;if(!$){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return mt(t,e=new rt(e,this))}return mt(t,new rt(e,this))}function wt(t){return(t=t[ht])instanceof ct?t:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(t){return"function"==l(t)?t:(t[bt]||(t[bt]=function(e){return t.handleEvent(e)}),t[bt])}function Et(){b.call(this),this.c=new ct(this),this.J=this,this.C=null}function Ct(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&lt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}w(Et,b),Et.prototype[ot]=!0,(o=Et.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=h(i)?!!i.capture:!!i,r=kt(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ft(s=e.a[n],r,i,o))&&(ut(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=wt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,r,i,o)),(r=-1<e?n[e]:null)&&yt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;M(t=new nt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Ct(s,r,!0,t)&&i}if(i=Ct(s=t.a=n,r,!0,t)&&i,i=Ct(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ct(s=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(Et.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var It=u.JSON.stringify;function Tt(){this.b=this.a=null}var St,At=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Nt}),(function(t){t.reset()}),100);function xt(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nt(){this.next=this.b=this.a=null}function Ot(t){u.setTimeout((function(){throw t}),0)}function Dt(t,e){St||function(){var t=u.Promise.resolve(void 0);St=function(){t.then(Lt)}}(),Pt||(St(),Pt=!0),Rt.add(t,e)}Tt.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nt.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Rt=new Tt;function Lt(){for(var t;t=xt();){try{t.a.call(t.b)}catch(n){Ot(n)}var e=At;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function Mt(t,e){Et.call(this),this.b=t||1,this.a=e||u,this.f=g(this.Ya,this),this.g=_()}function Vt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ft(t,e,n){if("function"==l(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function jt(t){t.a=Ft((function(){t.a=null,t.c&&(t.c=!1,jt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}w(Mt,Et),(o=Mt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=_()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Vt(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},o.G=function(){Mt.S.G.call(this),Vt(this),delete this.a};var Ut=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:jt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(b);function zt(t){b.call(this),this.b=t,this.a={}}w(zt,b);var Bt=[];function qt(t,e,n,r){Array.isArray(n)||(n&&(Bt[0]=n.toString()),n=Bt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ht(t){P(t.a,(function(t,e){this.a.hasOwnProperty(e)&&yt(t)}),t),t.a={}}function Gt(){this.a=!0}function Wt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return It(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}zt.prototype.G=function(){zt.S.G.call(this),Ht(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.info=function(){};var Qt=null;function Yt(){return Qt=Qt||new Et}function Kt(t){nt.call(this,"serverreachability",t)}function Zt(t){var e=Yt();e.dispatchEvent(new Kt(e,t))}function Xt(t){nt.call(this,"statevent",t)}function Jt(t){var e=Yt();e.dispatchEvent(new Xt(e,t))}function $t(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}w(Kt,nt),w(Xt,nt),w($t,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var oe,se={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ae(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function ce(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new zt(this),this.P=fe,this.R=new Mt(t=q?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}w(ae,nt),w(ue,nt),w(ce,re),oe=new ce;var fe=45e3,he={},de={};function pe(t,e,n){t.H=1,t.i=Me(Ne(e)),t.j=n,t.I=!0,ve(t,null)}function ve(t,e){t.u=_(),me(t),t.l=Ne(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Ke(n.b,"t",r),t.D=0,t.a=Hn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ut(g(t.Ca,t,t.a),t.O)),qt(t.J,t.a,"readystatechange",t.Wa),e=t.B?R(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Zt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");s=2<=f.length&&"type"==f[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function ye(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ge(t,n);if(i==de){4==e&&(t.h=4,Jt(14),r=!1),Wt(t.c,t.f,null,"[Incomplete Response]");break}if(i==he){t.h=4,Jt(15),Wt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wt(t.c,t.f,i,null),Ee(t,i)}4==e&&0==n.length&&(t.h=1,Jt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mn(e),e.F=!0)):(Wt(t.c,t.f,n,"[Invalid Chunked Response]"),ke(t),be(t))}function ge(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?he:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.D=r+n,e))}function me(t){t.U=_()+t.P,_e(t,t.P)}function _e(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(g(t.Ua,t),e)}function we(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function be(t){0==t.g.v||t.A||jn(t.g,t)}function ke(t){we(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Vt(t.R),Ht(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ee(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Fn(n),Sn(n)}Ln(n),Jt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(g(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else zn(n,11)}else if((t.C||n.a==t)&&Fn(n),!T(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(x(l,"spdy")||x(l,"quic")||x(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(rn(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Le(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=_()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=qn(u,u.C?u.ga:null,u.fa),d.C){on(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(we(p),me(p)),u.a=d}else Rn(u);0<n.g.length&&Nn(n)}else"stop"!=i[0]&&"close"!=i[0]||zn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?zn(n,7):Tn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Zt(4)}catch(y){}}function Ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)E(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(f(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Te(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Se(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Se(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=le.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==kn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=kn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!q&&!this.a.$())){this.A||4!=e||7==n||Zt(8==n||0>=r?3:2),we(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Jt(12),ke(this),be(this);break t}Wt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ee(this,u)}this.I?(ye(this,e,o),q&&this.b&&3==e&&(qt(this.J,this.R,"tick",this.Va),this.R.start())):(Wt(this.c,this.f,o,null),Ee(this,o)),4==e&&ke(this),this.b&&!this.A&&(4==e?jn(this.g,this):(this.b=!1,me(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Jt(12)):(this.h=0,Jt(13)),ke(this),be(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=kn(this.a),e=this.a.$();this.D<e.length&&(we(this),ye(this,t,e),this.b&&4!=t&&me(this))}},o.cancel=function(){this.A=!0,ke(this)},o.Ua=function(){this.o=null;var t=_();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Zt(3),Jt(17)),ke(this),this.h=2,be(this)):_e(this,this.U-t)},(o=Ie.prototype).K=function(){Te(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Te(this),this.a.concat()},o.get=function(t,e){return Se(this.b,t)?this.b[t]:e},o.set=function(t,e){Se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xe){this.a=void 0!==e?e:t.a,Oe(this,t.f),this.j=t.j,De(this,t.c),Pe(this,t.h),this.g=t.g,e=t.b;var n=new Ge;n.c=e.c,e.a&&(n.a=new Ie(e.a),n.b=e.b),Re(this,n),this.i=t.i}else t&&(n=String(t).match(Ae))?(this.a=!!e,Oe(this,n[1]||"",!0),this.j=Ve(n[2]||""),De(this,n[3]||"",!0),Pe(this,n[4]),this.g=Ve(n[5]||"",!0),Re(this,n[6]||"",!0),this.i=Ve(n[7]||"")):(this.a=!!e,this.b=new Ge(null,this.a))}function Ne(t){return new xe(t)}function Oe(t,e,n){t.f=n?Ve(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function De(t,e,n){t.c=n?Ve(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Re(t,e,n){e instanceof Ge?(t.b=e,function(t,e){e&&!t.f&&(We(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qe(this,e),Ke(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Fe(e,qe)),t.b=new Ge(e,t.a))}function Le(t,e,n){t.b.set(e,n)}function Me(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function Ve(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fe(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function je(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fe(e,Ue,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fe(e,Ue,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fe(n,"/"==n.charAt(0)?Be:ze,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fe(n,He)),t.join("")};var Ue=/[#\/\?@]/g,ze=/[#\?:]/g,Be=/[#\?]/g,qe=/[#\?@]/g,He=/#/g;function Ge(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function We(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qe(t,e){We(t),e=Ze(t,e),Se(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Se((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Te(t)))}function Ye(t,e){return We(t),e=Ze(t,e),Se(t.a.b,e)}function Ke(t,e,n){Qe(t,e),0<n.length&&(t.c=null,t.a.set(Ze(t,e),I(n)),t.b+=n.length)}function Ze(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Xe(t,e){this.b=t,this.a=e}function Je(t){this.g=t||$e,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Ge.prototype).add=function(t,e){We(this),this.c=null,t=Ze(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){We(this),this.a.forEach((function(n,r){E(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){We(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){We(this);var e=[];if("string"==typeof t)Ye(this,t)&&(e=C(e,this.a.get(Ze(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=C(e,t[n])}return e},o.set=function(t,e){return We(this),this.c=null,Ye(this,t=Ze(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var $e=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function on(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function sn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),s=o.next();!s.done;s=o.next())r=r.concat(s.value.s)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return I(t.c)}function an(){}function un(){this.a=new an}function cn(t,e,n){var r=n||"";try{Ce(t,(function(t,n){var i=t;h(t)&&(i=It(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Je.prototype.cancel=function(){var t,e;if(this.c=sn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var fn=u.JSON.parse;function hn(t){Et.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}w(hn,Et);var dn="",pn=/^https?$/i,vn=["POST","PUT"];function yn(t){return"content-type"==t.toLowerCase()}function gn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,mn(t),wn(t)}function mn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _n(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=kn(t)||2!=t.X()))if(t.l&&4==kn(t))Ft(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==kn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ae)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!pn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<kn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",mn(t)}}finally{wn(t)}}}function wn(t,e){if(t.a){bn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function bn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function kn(t){return t.a?t.a.readyState:0}function En(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function Cn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function In(t){this.pa=0,this.g=[],this.c=new Gt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Cn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Cn("baseRetryDelayMs",5e3,t),this.Ma=Cn("retryDelaySeedMs",1e4,t),this.Ja=Cn("forwardChannelMaxRetries",2,t),this.ma=Cn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Je(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Tn(t){if(An(t),3==t.v){var e=t.R++,n=Ne(t.B);Le(n,"SID",t.J),Le(n,"RID",e),Le(n,"TYPE","terminate"),Dn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Me(Ne(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Hn(e.g,null),e.a.ba(e.i)),e.u=_(),me(e)}Bn(t)}function Sn(t){t.a&&(Mn(t),t.a.cancel(),t.a=null)}function An(t){Sn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Fn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function xn(t,e){t.g.push(new Xe(t.La++,e)),3==t.v&&Nn(t)}function Nn(t){tn(t.b)||t.h||(t.h=!0,Dt(t.Ba,t),t.u=0)}function On(t,e){var n;n=e?e.f:t.R++;var r=Ne(t.B);Le(r,"SID",t.J),Le(r,"RID",n),Le(r,"AID",t.P),Dn(t,r),t.i&&t.l&&En(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Pn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function Dn(t,e){t.f&&Ce({},(function(t,n){Le(e,n,t)}))}function Pn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?g(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{cn(l,s,"req"+c+"_")}catch(f){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rn(t){t.a||t.j||(t.U=1,Dt(t.Aa,t),t.o=0)}function Ln(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(g(t.Aa,t),Un(t,t.o)),t.o++,0))}function Mn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Vn(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ne(t.la);Le(e,"RID","rpc"),Le(e,"SID",t.J),Le(e,"CI",t.H?"0":"1"),Le(e,"AID",t.P),Dn(t,e),Le(e,"TYPE","xmlhttp"),t.i&&t.l&&En(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Me(Ne(e)),n.j=null,n.I=!0,ve(n,t)}function Fn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function jn(t,e){var n=null;if(t.a==e){Fn(t),Mn(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,on(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=_()-e.u;var i=t.u;(r=Yt()).dispatchEvent(new $t(r,n,e,i)),Nn(t)}else Rn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(g(t.Ba,t,e),Un(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ln(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:zn(t,5);break;case 4:zn(t,10);break;case 3:zn(t,6);break;default:zn(t,2)}}function Un(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function zn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=g(t.Xa,t);n||(n=new xe("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Oe(n,"https"),Me(n)),function(t,e){var n=new Gt;if(u.Image){var r=new Image;r.onload=m(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=m(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.v=0,t.f&&t.f.ra(e),Bn(t),An(t)}function Bn(t){t.v=0,t.I=-1,t.f&&(0==sn(t.b).length&&0==t.g.length||(t.b.c.length=0,I(t.g),t.g.length=0),t.f.qa())}function qn(t,e,n){var r=function(t){return t instanceof xe?Ne(t):new xe(t,void 0)}(n);if(""!=r.c)e&&De(r,e+"."+r.c),Pe(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new xe(null,void 0);return t&&Oe(i,t),e&&De(i,e),n&&Pe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&P(t.W,(function(t,e){Le(r,e,t)})),n=t.na,(e=t.A)&&n&&Le(r,e,n),Le(r,"VER",t.ha),Dn(t,r),r}function Hn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hn(t.Ka)).F=t.C,e}function Gn(){}function Wn(){if(z&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Qn(t,e){Et.call(this),this.a=new In(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Zn(this)}function Yn(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Kn(){ue.call(this),this.status=1}function Zn(t){this.a=t}(o=hn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void gn(this,o)}t=n||"";var i=new Ie(this.headers);r&&Ce(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=yn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=k(vn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{bn(this),0<this.o&&((this.D=function(t){return z&&X(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=Ft(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){gn(this,o)}},o.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),wn(this,!0)),hn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?_n(this):this.Ta())},o.Ta=function(){_n(this)},o.X=function(){try{return 2<kn(this)?this.a.status:-1}catch(j){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=In.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?M(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pn(this,n,e),Le(i=Ne(this.B),"RID",t),Le(i,"CVER",22),this.A&&Le(i,"X-HTTP-Session-Id",this.A),Dn(this,i),this.i&&r&&En(i,this.i,r),rn(this.b,n),this.Ga&&Le(i,"TYPE","init"),this.da?(Le(i,"$req",e),Le(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?On(this,t):0==this.g.length||tn(this.b)||On(this))},o.Aa=function(){if(this.j=null,Vn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(g(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Sn(this),Vn(this))},o.Ra=function(){null!=this.m&&(this.m=null,Sn(this),Ln(this),Jt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Jt(2)):(this.c.info("Failed to ping google.com"),Jt(1))},(o=Gn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Wn.prototype.a=function(t,e){return new Qn(t,e)},w(Qn,Et),(o=Qn.prototype).addEventListener=function(t,e,n,r){Qn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Qn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Jt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=qn(t,null,t.fa),Nn(t)},o.close=function(){Tn(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,xn(this.a,e)}else this.g?((e={}).__data__=It(t),xn(this.a,e)):xn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,Tn(this.a),delete this.a,Qn.S.G.call(this)},w(Yn,ae),w(Kn,ue),w(Zn,Gn),Zn.prototype.ta=function(){this.a.dispatchEvent("a")},Zn.prototype.sa=function(t){this.a.dispatchEvent(new Yn(t))},Zn.prototype.ra=function(t){this.a.dispatchEvent(new Kn(t))},Zn.prototype.qa=function(){this.a.dispatchEvent("b")},Wn.prototype.createWebChannel=Wn.prototype.a,Qn.prototype.send=Qn.prototype.Pa,Qn.prototype.open=Qn.prototype.Oa,Qn.prototype.close=Qn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",Et.prototype.listen=Et.prototype.va,hn.prototype.listenOnce=hn.prototype.wa,hn.prototype.getLastError=hn.prototype.Qa,hn.prototype.getLastErrorCode=hn.prototype.ua,hn.prototype.getStatus=hn.prototype.X,hn.prototype.getResponseJson=hn.prototype.Na,hn.prototype.getResponseText=hn.prototype.$,hn.prototype.send=hn.prototype.ba;var Xn={createWebChannelTransport:function(){return new Wn},ErrorCode:ee,EventType:ne,WebChannel:ie,XhrIo:hn},Jn=Xn.createWebChannelTransport,$n=Xn.ErrorCode,tr=Xn.EventType,er=Xn.WebChannel,nr=Xn.XhrIo;e.default=Xn},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout((function(){throw t}),0)}var a={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete:function(){}},u=Array.isArray||function(t){return t&&"number"==typeof t.length};function c(t){return null!==t&&"object"==typeof t}var l,f=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),h=((l=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(r(i))try{i.call(this)}catch(p){e=p instanceof f?d(p.errors):[p]}if(u(o))for(var a=-1,l=o.length;++a<l;){var h=o[a];if(c(h))try{h.unsubscribe()}catch(p){e=e||[],p instanceof f?e=e.concat(d(p.errors)):e.push(p)}}if(e)throw new f(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new l),l);function d(t){return t.reduce((function(t,e){return t.concat(e instanceof f?e.errors:e)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;switch(_classCallCheck(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a;break;case 1:if(!t){o.destination=a;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),t,r,i)}return o}return _createClass(n,[{key:p,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(h),y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return r(i)?c=i:i&&(c=i.next,o=i.error,s=i.complete,i!==a&&(r((l=Object.create(i)).unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=o,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(v),g="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(t){return t}var _,w=((_=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof v)return t;if(t[p])return t[p]()}return t||e||n?new v(t,e,n):new v(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof v?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=b(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:g,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?m:1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=b(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new _(t)},_);function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var k,E=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(h),I=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(v),T=((k=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:p,value:function(){return new I(this)}},{key:"lift",value:function(t){var e=new S(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new E;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new E;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new E;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new C(this,t))}},{key:"asObservable",value:function(){var t=new w;return t.source=this,t}}]),n}(w)).create=function(t,e){return new S(t,e)},k),S=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):h.EMPTY}}]),n}(T);function A(t){return t&&"function"==typeof t.schedule}var x=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(v),N=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var O="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",D=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function P(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var R=function(t){if(t&&"function"==typeof t[g])return r=t,function(t){var e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(D(t))return N(t);if(P(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,s),t};if(t&&"function"==typeof t[O])return e=t,function(t){for(var n=e[O]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=c(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))},L=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(v);function M(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(t,e))}}var V=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new F(t,this.project,this.thisArg))}}]),t}(),F=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(v);function j(t,e){return new w((function(n){var r=new h,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function U(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new w((function(n){var r=new h;return r.add(e.schedule((function(){var i=t[g]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(P(t))return function(t,e){return new w((function(n){var r=new h;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(D(t))return j(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w((function(n){var r,i=new h;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[O](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(R(t))}var z=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}]),t}(),B=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new x(this,e,n),i=this.destination;i.add(r);var o=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new x(t,n,r);if(!i.closed)return e instanceof w?e.subscribe(i):R(e)(i)}(this,t,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(L);function q(t,e){return e?j(t,e):new w(N(t))}function H(){return function(t){return t.lift(new W(t))}}var G,W=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new Q(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),Q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(v),Y={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(G=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new h).add(this.source.subscribe(new K(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}},{key:"refCount",value:function(){return H()(this)}}]),n}(w).prototype)._subscribe},_isComplete:{value:G._isComplete,writable:!0},getSubject:{value:G.getSubject},connect:{value:G.connect},refCount:{value:G.refCount}},K=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(I);function Z(){return new T}function X(t){return{toString:t}.toString()}function J(t,e,n){return X((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var $=J("Inject",(function(t){return{token:t}})),tt=J("Optional"),et=J("Self"),nt=J("SkipSelf"),rt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function it(t){for(var e in t)if(t[e]===it)return e;throw Error("Could not find renamed property on target object.")}function ot(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function st(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function at(t){return ut(t,t[lt])||ut(t,t[dt])}function ut(t,e){return e&&e.token===t?e:null}function ct(t){return t&&(t.hasOwnProperty(ft)||t.hasOwnProperty(pt))?t[ft]:null}var lt=it({"\u0275prov":it}),ft=it({"\u0275inj":it}),ht=it({"\u0275provFallback":it}),dt=it({ngInjectableDef:it}),pt=it({ngInjectorDef:it});function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function yt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var gt=it({__forward_ref__:it});function mt(t){return t.__forward_ref__=mt,t.toString=function(){return vt(this())},t}function _t(t){return"function"==typeof(e=t)&&e.hasOwnProperty(gt)&&e.__forward_ref__===mt?t():t;var e}var wt,bt="undefined"!=typeof globalThis&&globalThis,kt="undefined"!=typeof window&&window,Et="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct="undefined"!=typeof global&&global,It=bt||Ct||kt||Et,Tt=it({"\u0275cmp":it}),St=it({"\u0275dir":it}),At=it({"\u0275pipe":it}),xt=it({"\u0275mod":it}),Nt=it({"\u0275loc":it}),Ot=it({"\u0275fac":it}),Dt=it({__NG_ELEMENT_ID__:it}),Pt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ot({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),Rt=new Pt("INJECTOR",-1),Lt={},Mt=/\n/gm,Vt=it({provide:String,useValue:it}),Ft=void 0;function jt(t){var e=Ft;return Ft=t,e}function Ut(t){var e=wt;return wt=t,e}function zt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt.Default;if(void 0===Ft)throw new Error("inject() must be called from an injection context");return null===Ft?qt(t,void 0,e):Ft.get(t,e&rt.Optional?null:void 0,e)}function Bt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt.Default;return(wt||zt)(_t(t),e)}function qt(t,e,n){var r=at(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&rt.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(vt(t),"]"))}function Ht(t){for(var e=[],n=0;n<t.length;n++){var r=_t(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=rt.Default,s=0;s<r.length;s++){var a=r[s];a instanceof tt||"Optional"===a.ngMetadataName||a===tt?o|=rt.Optional:a instanceof nt||"SkipSelf"===a.ngMetadataName||a===nt?o|=rt.SkipSelf:a instanceof et||"Self"===a.ngMetadataName||a===et?o|=rt.Self:i=a instanceof $||a===$?a.token:a}e.push(Bt(i,o))}else e.push(Bt(r))}return e}var Gt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt;if(e===Lt){var n=new Error("NullInjectorError: No provider for ".concat(vt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Wt=function t(){_classCallCheck(this,t)};function Qt(t,e){t.forEach((function(t){return Array.isArray(t)?Qt(t,e):e(t)}))}function Yt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Zt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Xt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Jt={},$t=[],te=0;function ee(t){return X((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===Zt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Xt.Emulated,id:"c",styles:t.styles||$t,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=te++,i.inputs=se(t.inputs,r),i.outputs=se(t.outputs),s&&s.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(ne)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(re)}:null,i}))}function ne(t){return ce(t)||function(t){return t[St]||null}(t)}function re(t){return function(t){return t[At]||null}(t)}var ie={};function oe(t){var e={type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&X((function(){ie[t.id]=t.type})),e}function se(t,e){if(null==t)return Jt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var ae=ee;function ue(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ce(t){return t[Tt]||null}function le(t,e){return t.hasOwnProperty(Ot)?t[Ot]:null}function fe(t,e){var n=t[xt]||null;if(!n&&!0===e)throw new Error("Type ".concat(vt(t)," does not have '\u0275mod' property."));return n}function he(t){return Array.isArray(t)&&"object"==typeof t[1]}function de(t){return Array.isArray(t)&&!0===t[1]}function pe(t){return 0!=(8&t.flags)}function ve(t){return 2==(2&t.flags)}function ye(t){return 1==(1&t.flags)}function ge(t){return null!==t.template}function me(t){return 0!=(512&t[2])}var _e=void 0;function we(){return void 0!==_e?_e:"undefined"!=typeof document?document:void 0}function be(t){return!!t.listen}var ke={createRenderer:function(t,e){return we()}};function Ee(t){for(;Array.isArray(t);)t=t[0];return t}function Ce(t,e){return Ee(e[t.index])}function Ie(t,e){return t.data[e+20]}function Te(t,e){return t[e+20]}function Se(t,e){var n=e[t];return he(n)?n:n[0]}function Ae(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function xe(t){return 4==(4&t[2])}function Ne(t){return 128==(128&t[2])}function Oe(t,e){return null===t||null==e?null:t[e]}function De(t){t[18]=0}function Pe(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Re={lFrame:tn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Le(){return Re.bindingsEnabled}function Me(){return Re.lFrame.lView}function Ve(){return Re.lFrame.tView}function Fe(){return Re.lFrame.previousOrParentTNode}function je(t,e){Re.lFrame.previousOrParentTNode=t,Re.lFrame.isParent=e}function Ue(){return Re.lFrame.isParent}function ze(){Re.lFrame.isParent=!1}function Be(){return Re.checkNoChangesMode}function qe(t){Re.checkNoChangesMode=t}function He(){var t=Re.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ge(){return Re.lFrame.bindingIndex}function We(){return Re.lFrame.bindingIndex++}function Qe(t,e){var n=Re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ye(e)}function Ye(t){Re.lFrame.currentDirectiveIndex=t}function Ke(){return Re.lFrame.currentQueryIndex}function Ze(t){Re.lFrame.currentQueryIndex=t}function Xe(t,e){var n=$e();Re.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Je(t,e){var n=$e(),r=t[1];Re.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function $e(){var t=Re.lFrame,e=null===t?null:t.child;return null===e?tn(t):e}function tn(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function en(){var t=Re.lFrame;return Re.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var nn=en;function rn(){var t=en();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function on(){return Re.lFrame.selectedIndex}function sn(t){Re.lFrame.selectedIndex=t}function an(){var t=Re.lFrame;return Ie(t.tView,t.selectedIndex)}function un(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function cn(t,e,n){hn(t,e,3,n)}function ln(t,e,n,r){(3&t[2])===n&&hn(t,e,n,r)}function fn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function hn(t,e,n,r){for(var i=null!=r?r:-1,o=0,s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(dn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function dn(t,e,n,r){var i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}var pn=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function vn(t,e,n){for(var r=be(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];yn(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function yn(t){return 64===t.charCodeAt(0)}function gn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||mn(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function mn(t,e,n,r,i){var o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){var a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function _n(t){return-1!==t}function wn(t){return 32767&t}function bn(t){return t>>16}function kn(t,e){for(var n=bn(t),r=e;n>0;)r=r[15],n--;return r}function En(t){return"string"==typeof t?t:null==t?"":""+t}function Cn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():En(t)}var In=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It);function Tn(t){return t instanceof Function?t():t}var Sn=!0;function An(t){var e=Sn;return Sn=t,e}var xn=0;function Nn(t,e){var n=Dn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,On(r.data,t),On(e,null),On(r.blueprint,null));var i=Pn(t,e),o=t.injectorIndex;if(_n(i))for(var s=wn(i),a=kn(i,e),u=a[1].data,c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c];return e[o+8]=i,o}function On(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Dn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Pn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Rn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[Dt]:n.charCodeAt(0)||0;null==r&&(r=n[Dt]=xn++);var i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Ln(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rt.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[Dt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Xe(e,t);try{var s=o();if(null!=s||r&rt.Optional)return s;throw new Error("No provider for ".concat(Cn(n),"!"))}finally{nn()}}else if("number"==typeof o){if(-1===o)return new Bn(t,e);var a=null,u=Dn(t,e),c=-1,l=r&rt.Host?e[16][6]:null;for((-1===u||r&rt.SkipSelf)&&(c=-1===u?Pn(t,e):e[u+8],zn(r,!1)?(a=e[1],u=wn(c),e=kn(c,e)):u=-1);-1!==u;){c=e[u+8];var f=e[1];if(Un(o,u,f.data)){var h=Vn(u,e,n,a,r,l);if(h!==Mn)return h}zn(r,e[1].data[u+8]===l)&&Un(o,u,e)?(a=f,u=wn(c),e=kn(c,e)):u=-1}}}if(r&rt.Optional&&void 0===i&&(i=null),0==(r&(rt.Self|rt.Host))){var d=e[9],p=Ut(void 0);try{return d?d.get(n,i,r&rt.Optional):qt(n,i,r&rt.Optional)}finally{Ut(p)}}if(r&rt.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Cn(n),"]"))}var Mn={};function Vn(t,e,n,r,i,o){var s=e[1],a=s.data[t+8],u=Fn(a,s,n,null==r?ve(a)&&Sn:r!=s&&3===a.type,i&rt.Host&&o===a);return null!==u?jn(e,s,u,a):Mn}function Fn(t,e,n,r,i){for(var o=t.providerIndexes,s=e.data,a=65535&o,u=t.directiveStart,c=o>>16,l=i?a+c:t.directiveEnd,f=r?a:a+c;f<l;f++){var h=s[f];if(f<u&&n===h||f>=u&&h.type===n)return f}if(i){var d=s[u];if(d&&ge(d)&&d.type===n)return u}return null}function jn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof pn){var s=i;if(s.resolving)throw new Error("Circular dep for "+Cn(o[n]));var a,u=An(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=Ut(s.injectImpl)),Xe(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Ut(a),An(u),s.resolving=!1,nn()}}return i}function Un(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function zn(t,e){return!(t&rt.Self||t&rt.Host&&e)}var Bn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return Ln(this._tNode,this._lView,t,void 0,e)}}]),t}();function qn(t){return t.ngDebugContext}function Hn(t){return t.ngOriginalError}function Gn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Wn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Gn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?qn(t)?qn(t):this._findContext(Hn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Hn(t);e&&Hn(e);)e=Hn(e);return e}}]),t}(),Qn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),Yn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Qn),Kn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Qn),Zn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Qn),Xn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Qn),Jn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Qn);function $n(t){return t instanceof Qn?t.changingThisBreaksApplicationSecurity:t}function tr(t,e){var n=er(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function er(t){return t instanceof Qn&&t.getTypeName()||null}var nr=!0,rr=!1;function ir(){return rr=!0,nr}var or=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),sr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ar=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ur(t){return(t=String(t)).match(sr)||t.match(ar)?t:(ir()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function cr(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function lr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var a in s)s.hasOwnProperty(a)&&(t[a]=!0)}return t}var fr,hr=cr("area,br,col,hr,img,wbr"),dr=cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pr=cr("rp,rt"),vr=lr(pr,dr),yr=lr(hr,lr(dr,cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lr(pr,cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vr),gr=cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mr=cr("srcset"),_r=lr(gr,mr,cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wr=cr("script,style,template"),br=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!yr.hasOwnProperty(e))return this.sanitizedSomething=!0,!wr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),s=o.name,a=s.toLowerCase();if(_r.hasOwnProperty(a)){var u=o.value;gr[a]&&(u=ur(u)),mr[a]&&(n=u,u=(n=String(n)).split(",").map((function(t){return ur(t.trim())})).join(", ")),this.buf.push(" ",s,'="',Cr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();yr.hasOwnProperty(e)&&!hr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Cr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),kr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Er=/([^\#-~ |!])/g;function Cr(t){return t.replace(/&/g,"&amp;").replace(kr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Er,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ir(t,e){var n=null;try{fr=fr||new or(t);var r=e?String(e):"";n=fr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==o);var s=new br,a=s.sanitizeChildren(Tr(n)||n);return ir()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var u=Tr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function Tr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Sr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ar=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),xr=/^url\(([^)]+)\)$/;function Nr(t){var e,n=(e=Me())&&e[12];return n?n.sanitize(Sr.HTML,t)||"":tr(t,"HTML")?$n(t):Ir(we(),En(t))}function Or(t,e){t.__ngContext__=e}function Dr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Pr(){throw new Error("Cannot mix multi providers and regular providers")}function Rr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Lr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==Rr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Mr(t){return 0===t.type&&"ng-template"!==t.tagName}function Vr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Fr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(3===(n=t[e])||4===n||6===n)return e;var n;return t.length}(i),s=!1,a=0;a<e.length;a++){var u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Vr(t,u,n)||""===u&&1===e.length){if(jr(r))return!1;s=!0}}else{var c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Lr(t.attrs,c,n)){if(jr(r))return!1;s=!0}continue}var l=Ur(8&r?"class":u,i,Mr(t),n);if(-1===l){if(jr(r))return!1;s=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==Rr(h,c,0)||2&r&&c!==f){if(jr(r))return!1;s=!0}}}}else{if(!s&&!jr(r)&&!jr(u))return!1;if(s&&jr(u))continue;s=!1,r=u|1&r}}return jr(r)||s}function jr(t){return 0==(1&t)}function Ur(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=e[++i];"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function zr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Fr(t,e[r],n))return!0;return!1}function Br(t,e){return t?":not("+e.trim()+")":e}function qr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var s=t[n];if("string"==typeof s)if(2&r){var a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||jr(s)||(e+=Br(o,i),i=""),r=s,o=o||!jr(r);n++}return""!==i&&(e+=Br(o,i)),e}var Hr={};function Gr(t){var e=t[3];return de(e)?e[3]:e}function Wr(t){return Yr(t[13])}function Qr(t){return Yr(t[4])}function Yr(t){for(;null!==t&&!de(t);)t=t[4];return t}function Kr(t){Zr(Ve(),Me(),on()+t,Be())}function Zr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&cn(e,i,n)}else{var o=t.preOrderHooks;null!==o&&ln(e,o,0,n)}sn(n)}function Xr(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=t.data[o];Ze(i),s.contentQueries(2,e[o],o)}}}function Jr(t,e,n){return be(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function $r(t,e,n,r,i,o,s,a,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,De(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ti(t,e,n,r,i,o){var s=n+20,a=t.data[s]||function(t,e,n,r,i,o){var s=Fe(),a=Ue(),u=a?s:s&&s.parent,c=t.data[n]=li(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return je(a,!0),a}function ei(t,e,n){Je(e,e[6]);try{var r=t.viewQuery;null!==r&&Di(1,r,n);var i=t.template;null!==i&&ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xr(t,e),t.staticViewQueries&&Di(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Si(t,e[n])}(e,o)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,rn()}}function ni(t,e,n,r){var i=e[2];if(256!=(256&i)){Je(e,e[6]);var o=Be();try{De(e),Re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ii(t,e,n,2,r);var s=3==(3&i);if(!o)if(s){var a=t.preOrderCheckHooks;null!==a&&cn(e,a,null)}else{var u=t.preOrderHooks;null!==u&&ln(e,u,0,null),fn(e,0)}if(function(t){for(var e=Wr(t);null!==e;e=Qr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Pe(o,1),i[2]|=1024}}(e),function(t){for(var e=Wr(t);null!==e;e=Qr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Ne(r)&&ni(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Xr(t,e),!o)if(s){var c=t.contentCheckHooks;null!==c&&cn(e,c)}else{var l=t.contentHooks;null!==l&&ln(e,l,1),fn(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(sn(0-s),i=r+=9+n[++o]):r+=s:(null!==s&&(Qe(r,i),s(2,e[i])),i++)}}finally{sn(-1)}}(t,e);var f=t.components;null!==f&&function(t,e){for(var n=0;n<e.length;n++)Ti(t,e[n])}(e,f);var h=t.viewQuery;if(null!==h&&Di(2,h,r),!o)if(s){var d=t.viewCheckHooks;null!==d&&cn(e,d)}else{var p=t.viewHooks;null!==p&&ln(e,p,2),fn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Pe(e[3],-1))}finally{rn()}}}function ri(t,e,n,r){var i=e[10],o=!Be(),s=xe(e);try{o&&!s&&i.begin&&i.begin(),s&&ei(t,e,r),ni(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ii(t,e,n,r,i){var o=on();try{sn(-1),2&r&&e.length>20&&Zr(t,e,0,Be()),n(r,i)}finally{sn(o)}}function oi(t,e,n){if(pe(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function si(t,e,n){Le()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Nn(n,e),Or(r,e);for(var s=n.initialInputs,a=i;a<o;a++){var u=t.data[a],c=ge(u);c&&ki(e,n,u);var l=jn(e,t,a,n);Or(l,e),null!==s&&Ei(0,a-i,l,u,0,s),c&&(Se(n.index,e)[8]=l)}}(t,e,n,Ce(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=Re.lFrame.currentDirectiveIndex;try{sn(a);for(var c=r;c<i;c++){var l=t.data[c],f=e[c];Ye(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?yi(l,f):s&&o.push(null)}}finally{sn(-1),Ye(u)}}(t,e,n))}function ai(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}function ui(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ci(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ci(t,e,n,r,i,o,s,a,u,c){var l=20+r,f=l+i,h=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Hr);return n}(l,f);return h[1]={type:t,id:e,blueprint:h,template:n,queries:null,viewQuery:a,node:null,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function li(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fi(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function hi(t,e,n,r,i,o,s,a){var u,c=Ce(e,n),l=e.inputs;!a&&null!=l&&(u=l[r])?(Vi(t,n,u,r,i),ve(e)&&function(t,e){var n=Se(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,be(o)?o.setProperty(c,r,i):yn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function di(t,e,n,r){var i=!1;if(Le()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];zr(n,s.selectors,!1)&&(i||(i=[]),Rn(Nn(n,e),t,s.type),ge(s)?(2&n.flags&&Dr(n),mi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){var a=0;i=!0,wi(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}gi(t,n,o.length);for(var l=!1,f=!1,h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=gn(n.mergedAttrs,d.hostAttrs),bi(t,e,d),_i(t.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),f||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),f=!0),pi(t,d),a+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],s=null,a=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,f=null===i||Mr(e)?null:Ci(l,i);o.push(f),s=fi(l,u,s),a=fi(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),vi(t,e,a)}s&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,s)}return n.mergedAttrs=gn(n.mergedAttrs,n.attrs),i}function pi(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function vi(t,e,n){for(var r=0;r<n;r++)e.push(Hr),t.blueprint.push(Hr),t.data.push(null)}function yi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function gi(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function _i(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ge(e)&&(n[""]=t)}}function wi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bi(t,e,n){t.data.push(n);var r=n.factory||(n.factory=le(n.type)),i=new pn(r,ge(n),null);t.blueprint.push(i),e.push(i)}function ki(t,e,n){var r=Ce(e,t),i=ui(n),o=t[10],s=Ai(t,$r(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function Ei(t,e,n,r,i,o){var s=o[e];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],f=s[u++];null!==a?r.setInput(n,f,c,l):n[l]=f}}function Ci(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ii(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ti(t,e){var n=Se(e,t);if(Ne(n)){var r=n[1];80&n[2]?ni(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Wr(e);null!==n;n=Qr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];ni(o,i,o.template,i[8])}else i[5]>0&&t(i)}var s=e[1].components;if(null!==s)for(var a=0;a<s.length;a++){var u=Se(s[a],e);Ne(u)&&u[5]>0&&t(u)}}(n)}}function Si(t,e){var n=Se(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ei(r,n,n[8])}function Ai(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xi(t){for(;t;){t[2]|=64;var e=Gr(t);if(me(t)&&!e)return t;t=e}return null}function Ni(t,e,n){var r=e[10];r.begin&&r.begin();try{ni(t,e,t.template,n)}catch(i){throw Mi(e,i),i}finally{r.end&&r.end()}}function Oi(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Ae(n),i=r[1];ri(i,r,i.template,n)}}(t[8])}function Di(t,e,n){Ze(0),e(t,n)}var Pi=Promise.resolve(null);function Ri(t){return t[7]||(t[7]=[])}function Li(t){return t.cleanup||(t.cleanup=[])}function Mi(t,e){var n=t[9],r=n?n.get(Wn,null):null;r&&r.handleError(e)}function Vi(t,e,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Fi(t,e){var n=e[3];return-1===t.index?de(n)?n:null:n}function ji(t,e){var n=Fi(t,e);return n?Zi(e[11],n[7]):null}function Ui(t,e,n,r,i){if(null!=r){var o,s=!1;de(r)?o=r:he(r)&&(s=!0,r=r[0]);var a=Ee(r);0===t&&null!==n?null==i?Yi(e,n,a):Qi(e,n,a,i||null):1===t&&null!==n?Qi(e,n,a,i||null):2===t?function(t,e,n){var r=Zi(t,e);r&&function(t,e,n,r){be(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Ee(n)&&Ui(e,t,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];to(a[1],a,t,e,r,o)}}(e,t,o,n,i)}}function zi(t,e,n,r){var i=ji(t.node,e);i&&to(t,e,e[11],n?1:2,i,r)}function Bi(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&Pe(e[3],-1),n.splice(r,1)}function qi(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&Bi(i,r),e>0&&(t[n-1][4]=r[4]);var o=Kt(t,10+e);zi(r[1],r,!1,null);var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Hi(t,e){if(!(256&e[2])){var n=e[11];be(n)&&n.destroyNode&&to(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Wi(t[1],t);for(;e;){var n=null;if(he(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)he(e)&&Wi(e[1],e),e=Gi(e,t);null===e&&(e=t),he(e)&&Wi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gi(t,e){var n;return he(t)&&(n=t[6])&&2===n.type?Fi(n,t):t[3]===e?null:t[3]}function Wi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof pn)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(e):Ee(e[o]),a=r[n[i+2]],u=n[i+3];"boolean"==typeof u?s.removeEventListener(n[i],a,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&be(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&de(e[3])){r!==e[3]&&Bi(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Qi(t,e,n,r){be(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Yi(t,e,n){be(t)?t.appendChild(e,n):e.appendChild(n)}function Ki(t,e,n,r){null!==r?Qi(t,e,n,r):Yi(t,e,n)}function Zi(t,e){return be(t)?t.parentNode(e):e.parentNode}function Xi(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?ji(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Ce(e,n).parentNode;if(2&r.flags){var o=t.data,s=o[o[r.index].directiveStart].encapsulation;if(s!==Xt.ShadowDom&&s!==Xt.Native)return null}return Ce(r,n)}(t,r,e);if(null!=i){var o=e[11],s=function(t,e){if(2===t.type){var n=Fi(t,e);return null===n?null:Ji(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Ce(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var a=0;a<n.length;a++)Ki(o,i,n[a],s);else Ki(o,i,n,s)}}function Ji(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Ce(n,e);if(0===r)return Ji(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return de(o)?Ji(-1,o):Ee(o)}var s=e[16],a=s[6],u=Gr(s),c=a.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function $i(t,e,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;s&&0===e&&(a&&Or(Ee(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?($i(t,e,n.child,r,i,o,!1),Ui(e,t,i,a,o)):1===u?eo(t,e,r,n,i,o):Ui(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function to(t,e,n,r,i,o){$i(n,r,t.node.child,e,i,o,!1)}function eo(t,e,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)Ui(e,t,i,a[u],o);else $i(t,e,a,s[3],i,o,!0)}function no(t,e,n){be(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ro(t,e,n){be(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var io,oo,so,ao=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Hi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,Ri(n=this._lView).push(r),e.firstCreatePass&&Li(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){xi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ni(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){qe(!0);try{Ni(t,e,n)}finally{qe(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,to(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var s=n[r.index];if(null!==s&&i.push(Ee(s)),de(s))for(var a=10;a<s.length;a++){var u=s[a],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var f=n[16],h=f[6].projection[r.projection];if(Array.isArray(h))i.push.apply(i,_toConsumableArray(h));else{var d=Gr(f);t(d[1],d,h,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),uo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){Oi(this._view)}},{key:"checkNoChanges",value:function(){!function(t){qe(!0);try{Oi(t)}finally{qe(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(ao);function co(t,e,n){return io||(io=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new io(Ce(e,n))}function lo(t,e,n,r){return oo||(oo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=$r(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ei(e,n,t),new ao(n)}}]),n}(t)),0===n.type?new oo(r,n,co(e,n,r)):null}function fo(t,e,n,r){var i;so||(so=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var s=o.get(Wt,null);s&&(i=s)}var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),de(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],s=new so(o,o[6],o[3]);s.detach(s.indexOf(t))}}var a=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Yt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);var a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,a),zi(r,n,!0,Ji(a,this._lContainer)),t.attachToViewContainerRef(this),Yt(this._lContainer[8],a,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=qi(t,e);n&&Hi(n[1],n)}(this._lContainer,e),Kt(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=qi(this._lContainer,e);return n&&null!=Kt(this._lContainer[8],e)?new ao(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return co(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Bn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=Pn(this._hostTNode,this._hostView),e=kn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=bn(t),s=e,a=e[6];o>1;)a=(s=s[15])[6],o--;return a}(t,this._hostView,this._hostTNode);return _n(t)&&null!=n?new Bn(n,e):new Bn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(de(o))i=o;else{var s;if(4===n.type)s=Ee(o);else if(s=r[11].createComment(""),me(r)){var a=r[11],u=Ce(n,r);Qi(a,Zi(a,u),s,function(t,e){return be(t)?t.nextSibling(e):e.nextSibling}(a,u))}else Xi(r[1],r,s,n);r[n.index]=i=Ii(o,r,s,n),Ai(r,i)}return new so(i,n,r)}var ho=new Pt("Set Injector scope."),po={},vo={},yo=[],go=void 0;function mo(){return void 0===go&&(go=new Gt),go}function _o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new wo(t,n,e||mo(),r)}var wo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&Qt(n,(function(t){return i.processProvider(t,e,n)})),Qt([e],(function(t){return i.processInjectorType(t,[],s)})),this.records.set(Rt,Eo(void 0,this));var a=this.records.get(ho);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof e?null:vt(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rt.Default;this.assertNotDestroyed();var r,i=jt(this);try{if(!(n&rt.SkipSelf)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Pt)&&at(t);o=s&&this.injectableDefInScope(s)?Eo(bo(t),po):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&rt.Self?mo():this.parent).get(t,e=n&rt.Optional&&e===Lt?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(vt(t)),i)throw a;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):vt(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Mt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(a,t,0,this.source)}throw a}finally{jt(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(vt(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=_t(t)))return!1;var i=ct(t),o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=ct(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{Qt(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;Qt(i,(function(t){return r.processProvider(t,n,i||yo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,Eo(i.factory,po));var f=i.providers;if(null!=f&&!a){var h=t;Qt(f,(function(t){return r.processProvider(t,h,f)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=Io(t=_t(t))?t:_t(t&&t.provide),i=function(t,e,n){return Co(t)?Eo(void 0,t.useValue):Eo(ko(t,e,n),po)}(t,e,n);if(Io(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&Pr()}else{var s=this.records.get(r);s?void 0===s.multi&&Pr():((s=Eo(void 0,po,!0)).factory=function(){return Ht(s.multi)},this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===vo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(vt(t)):e.value===po&&(e.value=vo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function bo(t){var e=at(t),n=null!==e?e.factory:le(t);if(null!==n)return n;var r=ct(t);if(null!==r)return r.factory;if(t instanceof Pt)throw new Error("Token ".concat(vt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(vt(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[lt]||t[dt]||t[ht]&&t[ht]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function ko(t,e,n){var r,i=void 0;if(Io(t)){var o=_t(t);return le(o)||bo(o)}if(Co(t))i=function(){return _t(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(Ht(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return Bt(_t(t.useExisting))};else{var s=_t(t&&(t.useClass||t.provide));if(s||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(vt(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return le(s)||bo(s);i=function(){return _construct(s,_toConsumableArray(Ht(t.deps)))}}return i}function Eo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Co(t){return null!==t&&"object"==typeof t&&Vt in t}function Io(t){return"function"==typeof t}var To=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=_o(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},So=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?To(t,e,""):To(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Lt,t.NULL=new Gt,t.\u0275prov=ot({token:t,providedIn:"any",factory:function(){return Bt(Rt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Ao=new Map,xo=new Set;function No(t){return"string"==typeof t?t:t.text()}function Oo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var s=0;s<e.length;s++){var a=e[s];"number"==typeof a?o=a:1==o?i=yt(i,a):2==o&&(r=yt(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Do=null;function Po(){if(!Do){var t=It.Symbol;if(t&&t.iterator)Do=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Do=r)}}return Do}function Ro(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var Lo=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Mo(t){return!!Vo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Po()in t)}function Vo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fo(t,e,n){return t[e]=n}function jo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Uo(t,e,n,r,i){var o=function(t,e,n,r){var i=jo(t,e,n);return jo(t,e+1,r)||i}(t,e,n,r);return jo(t,e+2,i)||o}function zo(t,e,n,r){var i=Me();return jo(i,We(),e)&&(Ve(),function(t,e,n,r,i,o){var s=Ce(t,e),a=e[11];if(null==r)be(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{var u=null==i?En(r):i(r,t.tagName||"",n);be(a)?a.setAttribute(s,n,u,o):o?s.setAttributeNS(o,n,u):s.setAttribute(n,u)}}(an(),i,t,e,n,r)),zo}function Bo(t,e,n,r,i,o,s,a){var u=Me(),c=Ve(),l=t+20,f=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){var c=e.consts,l=ti(e,n[6],t,0,s||null,Oe(c,a));di(e,n,l,Oe(c,u)),un(e,l);var f=l.tViews=ci(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),h=li(0,null,2,-1,null,null);return h.injectorIndex=l.injectorIndex,f.node=h,null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];je(f,!1);var h=u[11].createComment("");Xi(c,u,h,f),Or(h,u),Ai(u,u[l]=Ii(h,u,h,f)),ye(f)&&si(c,u,f),null!=s&&ai(u,f,a)}function qo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt.Default,n=Me();return null==n?Bt(t,e):Ln(Fe(),n,_t(t),e)}function Ho(t,e,n){var r=Me();return jo(r,We(),e)&&hi(Ve(),an(),r,t,e,r[11],n,!1),Ho}function Go(t,e,n,r,i){var o=i?"class":"style";Vi(t,n,e.inputs[o],o,r)}function Wo(t,e,n,r){var i=Me(),o=Ve(),s=20+t,a=i[11],u=i[s]=Jr(e,a,Re.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){var a=e.consts,u=Oe(a,o),c=ti(e,n[6],t,3,i,u);return di(e,n,c,Oe(a,s)),null!==c.attrs&&Oo(c,c.attrs,!1),null!==c.mergedAttrs&&Oo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];je(c,!0);var l=c.mergedAttrs;null!==l&&vn(a,u,l);var f=c.classes;null!==f&&ro(a,u,f);var h=c.styles;null!==h&&no(a,u,h),Xi(o,i,u,c),0===Re.lFrame.elementDepthCount&&Or(u,i),Re.lFrame.elementDepthCount++,ye(c)&&(si(o,i,c),oi(o,c,i)),null!==r&&ai(i,c)}function Qo(){var t=Fe();Ue()?ze():je(t=t.parent,!1);var e=t;Re.lFrame.elementDepthCount--;var n=Ve();n.firstCreatePass&&(un(n,t),pe(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Go(n,e,Me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Go(n,e,Me(),e.stylesWithoutHost,!1)}function Yo(t,e,n,r){Wo(t,e,n,r),Qo()}function Ko(t,e,n){var r=Me(),i=Ve(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,s=Oe(o,r),a=ti(e,n[6],t,4,"ng-container",s);return null!==s&&Oo(a,s,!0),di(e,n,a,Oe(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];je(s,!0);var a=r[o]=r[11].createComment("");Xi(i,r,a,s),Or(a,r),ye(s)&&(si(i,r,s),oi(i,s,r)),null!=n&&ai(r,s)}function Zo(){var t=Fe(),e=Ve();Ue()?ze():je(t=t.parent,!1),e.firstCreatePass&&(un(e,t),pe(t)&&e.queries.elementEnd(t))}function Xo(t){return!!t&&"function"==typeof t.then}function Jo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Me(),o=Ve(),s=Fe();return function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=ye(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ri(e),f=!0;if(3===r.type){var h=Ce(r,e),d=a?a(h):Jt,p=d.target||h,v=l.length,y=a?function(t){return a(Ee(t[r.index])).target}:r.index;if(be(n)){var g=null;if(!a&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1;else{o=ts(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=ts(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,v,s)}var _,w=r.outputs;if(f&&null!==w&&(_=w[i])){var b=_.length;if(b)for(var k=0;k<b;k+=2){var E=e[_[k]][_[k+1]].subscribe(o),C=l.length;l.push(o,E),c&&c.push(i,r.index,C,-(C+1))}}}(o,i,i[11],s,t,e,n,r),Jo}function $o(t,e,n){try{return!1!==e(n)}catch(r){return Mi(t,r),!1}}function ts(t,e,n,r){return function i(o){if(o===Function)return n;var s=2&t.flags?Se(t.index,e):e;0==(32&e[2])&&xi(s);for(var a=$o(e,n,o),u=i.__ngNextListenerFn__;u;)a=$o(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function es(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Re.lFrame.contextLView))[8]}(t)}function ns(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Me(),r=Ve(),i=t+20,o=r.firstCreatePass?ti(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return be(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Xi(r,n,s,o),je(o,!1)}function rs(t,e,n,r,i,o,s){var a=Me(),u=function(t,e,n,r,i,o,s,a){var u,c=Uo(t,Ge(),n,i,s);return(u=Re.lFrame).bindingIndex=u.bindingIndex+3,c?e+En(n)+r+En(i)+o+En(s)+a:Hr}(a,t,e,n,r,i,o,s);return u!==Hr&&function(t,e,n){var r=function(t,e){return Ee(e[t+20])}(e,t),i=t[11];be(i)?i.setValue(r,n):r.textContent=n}(a,on(),u),rs}function is(t,e,n){var r=Me();return jo(r,We(),e)&&hi(Ve(),an(),r,t,e,r[11],n,!0),is}function os(t,e){var n=Ae(t)[1],r=n.data.length-1;un(n,{directiveStart:r,directiveEnd:r+1})}var ss=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function as(t){t.type.prototype.ngOnChanges&&(t.setInput=us,t.onChanges=function(){var t=cs(this),e=t&&t.current;if(e){var n=t.previous;if(n===Jt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function us(t,e,n,r){var i=cs(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Jt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ss(u&&u.currentValue,e,s===Jt),t[r]=e}function cs(t){return t.__ngSimpleChanges__||null}function ls(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(var o=0;o<t.length;o++)ls(t[o],e,n,r,i);else{var s=Ve(),a=Me(),u=Io(t)?t:_t(t.provide),c=ko(t),l=Fe(),f=65535&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>16;if(Io(t)||!t.multi){var p=new pn(c,i,qo),v=ds(u,e,i?f:f+d,h);-1===v?(Rn(Nn(l,a),s,u),fs(s,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var y=ds(u,e,f+d,h),g=ds(u,e,f,f+d),m=y>=0&&n[y],_=g>=0&&n[g];if(i&&!_||!i&&!m){Rn(Nn(l,a),s,u);var w=function(t,e,n,r,i){var o=new pn(t,n,qo);return o.multi=[],o.index=e,o.componentProviders=0,hs(o,i,r&&!n),o}(i?vs:ps,n.length,i,r,c);!i&&_&&(n[g].providerFactory=w),fs(s,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(w),a.push(w)}else fs(s,t,y>-1?y:g,hs(n[i?g:y],c,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function fs(t,e,n,r){var i=Io(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function hs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ds(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function ps(t,e,n,r){return ys(this.multi,[])}function vs(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=jn(n,n[1],this.providerFactory.index,r);ys(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else ys(o,i=[]);return i}function ys(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function gs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=Ve();if(r.firstCreatePass){var i=ge(t);ls(n,r.data,r.blueprint,i,!0),ls(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}as.ngInherit=!0;var ms=function t(){_classCallCheck(this,t)},_s=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(vt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),ws=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new _s,t}(),bs=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return ks(t)},t}(),ks=function(t){return co(t,Fe(),Me())},Es=function t(){_classCallCheck(this,t)},Cs=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Is=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=ot({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ts=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Ss=new Ts("9.1.12"),As=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Mo(t)}},{key:"create",value:function(t){return new Ns(t)}}]),t}(),xs=function(t,e){return e},Ns=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xs}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Rs(n,r,i)?e:n,s=Rs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<u&&(i[l]=f+1)}i[o.previousIndex]=c-u}}s!==a&&t(o,s,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Mo(t))throw new Error("Error trying to diff '".concat(vt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&Ro(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Ro(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Po()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Ro(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),Ro(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ro(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ro(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Os(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ps),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ps),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Os=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ds=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ro(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Ps=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ds,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Rs(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ls=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Vo(t)}},{key:"create",value:function(){return new Ms}}]),t}(),Ms=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Vo(t)))throw new Error("Error trying to diff '".concat(vt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Vs(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Ro(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Vs=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Fs=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new nt,new tt]]}}}]),t}();return t.\u0275prov=ot({token:t,providedIn:"root",factory:function(){return new t([new As])}}),t}(),js=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new nt,new tt]]}}}]),t}();return t.\u0275prov=ot({token:t,providedIn:"root",factory:function(){return new t([new Ls])}}),t}(),Us=[new Ls],zs=new Fs([new As]),Bs=new js(Us),qs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Hs(t,bs)},t}(),Hs=function(t,e){return lo(t,e,Fe(),Me())},Gs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ws(t,bs)},t}(),Ws=function(t,e){return fo(t,e,Fe(),Me())},Qs={},Ys=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=ce(t);return new Xs(e,this.ngModule)}}]),n}(ws);function Ks(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Zs=new Pt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return In}}),Xs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(qr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,s=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Qs,i);return o!==Qs||r===Qs?o:e.get(n,r,i)}}}(t,r.injector):t,a=s.get(Es,ke),u=s.get(Is,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(t,e,n){if(be(t))return t.selectRootElement(e,n===Xt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Jr(l,a.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:In,clean:Pi,playerHandler:null,flags:0},v=ci(0,-1,null,1,0,null,null,null,null,null),y=$r(null,v,p,h,null,null,a,c,u,s);Je(y,null);try{var g=function(t,e,n,r,i,o){var s=n[1];n[20]=t;var a=ti(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Oo(a,u,!0),null!==t&&(vn(i,t,u),null!==a.classes&&ro(i,t,a.classes),null!==a.styles&&no(i,t,a.styles)));var c=r.createRenderer(t,e),l=$r(n,ui(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(Rn(Nn(a,n),s,e.type),mi(s,a),wi(a,n.length,1)),Ai(n,l),n[20]=l}(f,this.componentDef,y,a,c);if(f)if(n)vn(c,f,["ng-version",Ss.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!jr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,w=m.classes;_&&vn(c,f,_),w&&w.length>0&&ro(c,f,w.join(" "))}if(o=Ie(v,0),void 0!==e)for(var b=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var E=e[k];b.push(null!=E?Array.from(E):null)}i=function(t,e,n,r,i){var o=n[1],s=function(t,e,n){var r=Fe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),gi(t,r,1),bi(t,e,n));var i=jn(e,t,e.length-1,r);Or(i,e);var o=Ce(r,e);return o&&Or(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach((function(t){return t(s,e)})),e.contentQueries&&e.contentQueries(1,s,n.length-1);var a=Fe();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){sn(a.index-20);var u=n[1];pi(u,e),vi(u,n,e.hostVars),yi(e,s)}return s}(g,this.componentDef,y,p,[os]),ei(v,y,null)}finally{rn()}var C=new Js(this.componentType,i,co(bs,o,y),y,o);return n&&!d||(v.node.child=o),C}},{key:"inputs",get:function(){return Ks(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ks(this.componentDef.outputs)}}]),n}(ms),Js=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s){var a,u,c,l;return _classCallCheck(this,n),(a=e.call(this)).location=i,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new uo(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=li(0,null,2,-1,null,null)),c[6]=l,a.componentType=t,a}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new Bn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),$s=void 0,ta=["en",[["a","p"],["AM","PM"],$s],[["AM","PM"],$s,$s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$s,"{1} 'at' {0}",$s],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],ea={};function na(t){return t in ea||(ea[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),ea[t]}var ra=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function ia(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var oa=new Map,sa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Ys(_assertThisInitialized(i));var o=fe(t),s=t[Nt]||null;return s&&ia(s),i._bootstrapComponents=Tn(o.bootstrap),i._r3Injector=_o(t,r,[{provide:Wt,useValue:_assertThisInitialized(i)},{provide:ws,useValue:i.componentFactoryResolver}],vt(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:So.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rt.Default;return t===So||t===Wt||t===Rt?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Wt),aa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==fe(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(vt(e)," vs ").concat(vt(e.name)))})(n,oa.get(n),e),oa.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new sa(this.moduleType,t)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}());function ua(t,e){var n=t[e];return n===Hr?void 0:n}function ca(t,e){var n,r=Ve(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=le(n.type)),s=Ut(qo),a=An(!1),u=o();return An(a),Ut(s),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,Me(),t,u),u}function la(t,e){return t[1].data[e+20].pure}function fa(t,e){return Lo.isWrapped(e)&&(e=Lo.unwrap(e),t[Ge()]=Hr),e}var ha=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,s);return t instanceof h&&t.add(a),a}}]),n}(T);function da(){return this._results[Po()]()}var pa=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new ha,this.length=0;var e=Po(),n=t.prototype;n[e]||(n[e]=da)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),va=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),ya=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Ta(t,e).matches&&this.queries[e].setDirty()}}]),t}(),ga=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},ma=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),_a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,wa(e,n[r]));else{var i=this.metadata.predicate;i===qs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Fn(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===bs||r===Gs||r===qs&&0===e.type)this.addMatch(e.index,-2);else{var i=Fn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function wa(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ba(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?co(bs,t,e):0===t.type?lo(qs,bs,t,e):null}(e,t):-2===n?function(t,e,n){return n===bs?co(bs,e,t):n===qs?lo(qs,bs,e,t):n===Gs?fo(Gs,bs,e,t):void 0}(t,e,r):jn(t,t[1],n,e)}function ka(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,s=n.matches,a=[],u=0;u<s.length;u+=2){var c=s[u];a.push(c<0?null:ba(e,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function Ea(t){var e=Me(),n=Ve(),r=Ke();Ze(r+1);var i=Ta(n,r);if(t.dirty&&xe(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),s=o.matches;if(null!==s)for(var a=ka(e,n,o,r),u=0;u<s.length;u+=2){var c=s[u];if(c>0)i.push(a[u/2]);else{for(var l=s[u+1],f=n[-c],h=10;h<f.length;h++){var d=f[h];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==f[9])for(var p=f[9],v=0;v<p.length;v++){var y=p[v];t(y[1],y,l,i)}}}return i}(n,e,r,[]):ka(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ca(t,e,n){!function(t,e,n,r,i,o){t.firstCreatePass&&function(t,e,n){null===t.queries&&(t.queries=new ma),t.queries.track(new _a(e,-1))}(t,new ga(n,r,!1,i)),function(t,e){var n=new pa;!function(t,e,n,r){var i=Ri(e);i.push(n),t.firstCreatePass&&Li(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new ya),e[19].queries.push(new va(n))}(t,e)}(Ve(),Me(),t,e,n)}function Ia(){return t=Me(),e=Ke(),t[19].queries[e].queryList;var t,e}function Ta(t,e){return t.queries.getByIndex(e)}var Sa=new Pt("Application Initializer"),Aa=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Xo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Bt(Sa,8))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t}(),xa=new Pt("AppId"),Na={provide:xa,useFactory:function(){return"".concat(Oa()).concat(Oa()).concat(Oa())},deps:[]};function Oa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Da=new Pt("Platform Initializer"),Pa=new Pt("Platform ID"),Ra=new Pt("appBootstrapListener"),La=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t}(),Ma=new Pt("LocaleId"),Va=new Pt("DefaultCurrencyCode"),Fa=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},ja=function(t){return new aa(t)},Ua=ja,za=function(t){return Promise.resolve(ja(t))},Ba=function(t){var e=ja(t),n=Tn(fe(t).declarations).reduce((function(t,e){var n=ce(e);return n&&t.push(new Xs(n)),t}),[]);return new Fa(e,n)},qa=Ba,Ha=function(t){return Promise.resolve(Ba(t))},Ga=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Ua,this.compileModuleAsync=za,this.compileModuleAndAllComponentsSync=qa,this.compileModuleAndAllComponentsAsync=Ha}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t}(),Wa=new Pt("compilerOptions"),Qa=Promise.resolve(0);function Ya(t){"undefined"==typeof Zone?Qa.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Ka=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,s=e.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=It.requestAnimationFrame,e=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,(function(){t.lastRequestAnimationFrameId=-1,$a(t),Ja(t)})),$a(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,s,a){try{return tu(n),t.invokeTask(i,o,s,a)}finally{r&&"eventTask"===o.type&&r(),eu(n)}},onInvoke:function(t,e,r,i,o,s,a){try{return tu(n),t.invoke(r,i,o,s,a)}finally{eu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,$a(n),Ja(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Xa,Za,Za);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Za(){}var Xa={};function Ja(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function $a(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function tu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eu(t){t._nesting--,Ja(t)}var nu,ru=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha,this.onMicrotaskEmpty=new ha,this.onStable=new ha,this.onError=new ha}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),iu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Ka.assertNotInAngularZone(),Ya((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Ya((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Bt(Ka))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t}(),ou=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,su.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return su.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t}(),su=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),au=function(t,e,n){var r=t.get(Wa,[]).concat(e),i=new aa(n);if(0===Ao.size)return Promise.resolve(i);var o,s,a=(o=r.map((function(t){return t.providers})),s=[],o.forEach((function(t){return t&&s.push.apply(s,_toConsumableArray(t))})),s);if(0===a.length)return Promise.resolve(i);var u=function(){var t=It.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=So.create({providers:a}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(No))}return e}return Ao.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((function(e,n){s.push(""),i.push(r(e).then((function(r){s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){xo.delete(t)}(n)}));e.push(u)})),Ao=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},uu=new Pt("AllowMultipleToken");function cu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new Pt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=lu();if(!o||o.injector.get(uu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0},{provide:ho,useValue:"platform"});!function(t){if(nu&&!nu.destroyed&&!nu.injector.get(uu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nu=t.get(fu);var e=t.get(Da,null);e&&e.forEach((function(t){return t()}))}(So.create({providers:s,name:r}))}return function(t){var e=lu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function lu(){return nu&&!nu.destroyed?nu:null}var fu=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new ru:("zone.js"===n?void 0:n)||new Ka({enableLongStackTrace:ir(),shouldCoalesceEventChangeDetection:r})),s=[{provide:Ka,useValue:o}];return o.run((function(){var e=So.create({providers:s,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Wn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return vu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((s=n.injector.get(Aa)).runInitializers(),s.donePromise.then((function(){return ia(n.injector.get(Ma,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Xo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var s}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=hu({},n);return au(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(pu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(vt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Bt(So))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t}();function hu(t,e){return Array.isArray(e)?e.reduce(hu,t):Object.assign(Object.assign({},t),e)}var du,pu=((du=function(){function t(e,n,r,i,o,s){var a=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ir(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var u=new w((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),c=new w((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){Ka.assertNotInAngularZone(),Ya((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){Ka.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return A(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof w?e[0]:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof n?function(i){return i.pipe(t((function(t,r){return U(e(t,r)).pipe(M((function(e,i){return n(t,e,r,i)})))}),r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new z(e,r))})}(m,t)}(r)(q(e,i))}(u,c.pipe((function(t){return H()((e=Z,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,Y);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ms?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Wt),o=n.create(So.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(iu,null);return s&&o.injector.get(ou).registerApplication(o.location.nativeElement,s),this._loadComponent(o),ir()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(s){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;vu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ra,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),vu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||du)(Bt(Ka),Bt(La),Bt(So),Bt(Wn),Bt(ws),Bt(Aa))},du.\u0275prov=ot({token:du,factory:du.\u0275fac}),du);function vu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var yu=cu(null,"core",[{provide:Pa,useValue:"unknown"},{provide:fu,deps:[So]},{provide:ou,deps:[]},{provide:La,deps:[]}]),gu=[{provide:pu,useClass:pu,deps:[Ka,La,So,Wn,ws,Aa]},{provide:Zs,deps:[Ka],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Aa,useClass:Aa,deps:[[new tt,Sa]]},{provide:Ga,useClass:Ga,deps:[]},Na,{provide:Fs,useFactory:function(){return zs},deps:[]},{provide:js,useFactory:function(){return Bs},deps:[]},{provide:Ma,useFactory:function(t){return ia(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new $(Ma),new tt,new nt]]},{provide:Va,useValue:"USD"}],mu=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=oe({type:t}),t.\u0275inj=st({factory:function(e){return new(e||t)(Bt(pu))},providers:gu}),t}(),_u={apiKey:"AIzaSyCn2lDNC98AePvAXuNrn7kBqVtC7DGJLyE",authDomain:"crud-antik.firebaseapp.com",databaseURL:"https://crud-antik.firebaseio.com",projectId:"crud-antik",storageBucket:"crud-antik.appspot.com",messagingSenderId:"578498840570",appId:"1:578498840570:web:fbcf4034078e9eddd18643"},wu=null;function bu(){return wu}var ku,Eu,Cu,Iu=new Pt("DocumentToken"),Tu=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Su=function t(){_classCallCheck(this,t)},Au=((ku=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return function(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=na(e);if(n)return n;var r=e.split("-")[0];if(n=na(r))return n;if("en"===r)return ta;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[ra.PluralCase]}(e||this.locale)(t)){case Tu.Zero:return"zero";case Tu.One:return"one";case Tu.Two:return"two";case Tu.Few:return"few";case Tu.Many:return"many";default:return"other"}}}]),n}(Su)).\u0275fac=function(t){return new(t||ku)(Bt(Ma))},ku.\u0275prov=ot({token:ku,factory:ku.\u0275fac}),ku),xu=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Nu=((Eu=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new xu(null,e._ngForOf,-1,-1),null===i?void 0:i),s=new Ou(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=e._viewContainer.get(r);e._viewContainer.move(a,i);var u=new Ou(t,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){ir()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Eu)(qo(Gs),qo(qs),qo(Fs))},Eu.\u0275dir=ae({type:Eu,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Eu),Ou=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},Du=((Cu=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new Pu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Ru("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Ru("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Cu)(qo(Gs),qo(qs))},Cu.\u0275dir=ae({type:Cu,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Cu),Pu=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function Ru(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(vt(e),"'."))}var Lu,Mu,Vu,Fu,ju,Uu=((Lu=function t(){_classCallCheck(this,t)}).\u0275mod=oe({type:Lu}),Lu.\u0275inj=st({factory:function(t){return new(t||Lu)},providers:[{provide:Su,useClass:Au}]}),Lu),zu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Bu||(Bu=document.querySelector("base"))?Bu.getAttribute("href"):null;return null==n?null:(e=n,Mu||(Mu=document.createElement("a")),Mu.setAttribute("href",e),"/"===Mu.pathname.charAt(0)?Mu.pathname:"/"+Mu.pathname)}},{key:"resetBaseElement",value:function(){Bu=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=_slicedToArray2(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),a=s[0],u=s[1];if(a.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,wu||(wu=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),Bu=null,qu=new Pt("TRANSITION_ID"),Hu=[{provide:Sa,useFactory:function(t,e,n){return function(){n.get(Aa).donePromise.then((function(){var n=bu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[qu,Iu,So],multi:!0}],Gu=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){It.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},It.getAllAngularTestabilities=function(){return t.getAllTestabilities()},It.getAllAngularRootElements=function(){return t.getAllRootElements()},It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push((function(t){var e=It.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?bu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,su=e}}]),t}(),Wu=new Pt("EventManagerPlugins"),Qu=((Vu=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||Vu)(Bt(Wu),Bt(Ka))},Vu.\u0275prov=ot({token:Vu,factory:Vu.\u0275fac}),Vu),Yu=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=bu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),Ku=((ju=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||ju)},ju.\u0275prov=ot({token:ju,factory:ju.\u0275fac}),ju),Zu=((Fu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return bu().remove(t)}))}}]),n}(Ku)).\u0275fac=function(t){return new(t||Fu)(Bt(Iu))},Fu.\u0275prov=ot({token:Fu,factory:Fu.\u0275fac}),Fu),Xu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ju=/%COMP%/g;function $u(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?$u(t,i,n):(i=i.replace(Ju,t),n.push(i))}return n}function tc(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var ec,nc,rc,ic,oc,sc,ac=((ec=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new uc(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Xt.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new cc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case Xt.Native:case Xt.ShadowDom:return new lc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=$u(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ec)(Bt(Qu),Bt(Zu),Bt(xa))},ec.\u0275prov=ot({token:ec,factory:ec.\u0275fac}),ec),uc=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Xu[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Xu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Xu[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&Cs.DashCase?t.style.setProperty(e,n,r&Cs.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Cs.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,tc(n)):this.eventManager.addEventListener(t,e,tc(n))}}]),t}(),cc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;_classCallCheck(this,n),(s=e.call(this,t)).component=i;var a,u=$u(o+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr="_ngcontent-%COMP%".replace(Ju,o+"-"+i.id),s.hostAttr=(a=o+"-"+i.id,"_nghost-%COMP%".replace(Ju,a)),s}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(uc),lc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=r,s.hostEl=i,s.component=o,s.shadowRoot=o.encapsulation===Xt.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=$u(o.id,o.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(uc),fc=((nc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(Yu)).\u0275fac=function(t){return new(t||nc)(Bt(Iu))},nc.\u0275prov=ot({token:nc,factory:nc.\u0275fac}),nc),hc=["alt","control","meta","shift"],dc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vc={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},yc=((oc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return bu().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(hc.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&pc.hasOwnProperty(e)&&(e=pc[e]))}return dc[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),hc.forEach((function(r){r!=n&&(0,vc[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(Yu)).\u0275fac=function(t){return new(t||oc)(Bt(Iu))},oc.\u0275prov=ot({token:oc,factory:oc.\u0275fac}),oc),gc=((ic=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ic)},ic.\u0275prov=ot({factory:function(){return Bt(mc)},token:ic,providedIn:"root"}),ic),mc=((rc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r}return _createClass(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case Sr.NONE:return e;case Sr.HTML:return tr(e,"HTML")?$n(e):Ir(this._doc,String(e));case Sr.STYLE:return tr(e,"Style")?$n(e):function(t){if(!(t=String(t).trim()))return"";var e=t.match(xr);return e&&ur(e[1])===e[1]||t.match(Ar)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(ir()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}(e);case Sr.SCRIPT:if(tr(e,"Script"))return $n(e);throw new Error("unsafe value used in a script context");case Sr.URL:return er(e),tr(e,"URL")?$n(e):ur(String(e));case Sr.RESOURCE_URL:if(tr(e,"ResourceURL"))return $n(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return new Yn(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new Kn(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new Zn(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new Xn(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new Jn(t)}}]),n}(gc)).\u0275fac=function(t){return new(t||rc)(Bt(Iu))},rc.\u0275prov=ot({factory:function(){return t=Bt(Rt),new mc(t.get(Iu));var t},token:rc,providedIn:"root"}),rc),_c=cu(yu,"browser",[{provide:Pa,useValue:"browser"},{provide:Da,useValue:function(){zu.makeCurrent(),Gu.init()},multi:!0},{provide:Iu,useFactory:function(){return function(t){_e=t}(document),document},deps:[]}]),wc=[[],{provide:ho,useValue:"root"},{provide:Wn,useFactory:function(){return new Wn},deps:[]},{provide:Wu,useClass:fc,multi:!0,deps:[Iu,Ka,Pa]},{provide:Wu,useClass:yc,multi:!0,deps:[Iu]},[],{provide:ac,useClass:ac,deps:[Qu,Zu,xa]},{provide:Es,useExisting:ac},{provide:Ku,useExisting:Zu},{provide:Zu,useClass:Zu,deps:[Iu]},{provide:iu,useClass:iu,deps:[Ka]},{provide:Qu,useClass:Qu,deps:[Wu,Ka]},[]],bc=((sc=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:xa,useValue:e.appId},{provide:qu,useExisting:xa},Hu]}}}]),t}()).\u0275mod=oe({type:sc}),sc.\u0275inj=st({factory:function(t){return new(t||sc)(Bt(sc,12))},providers:wc,imports:[Uu,mu]}),sc);"undefined"!=typeof window&&window;var kc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(h)),Ec=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(kc),Cc=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),Ic=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cc.now;return _classCallCheck(this,n),(r=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(Cc),Tc=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Ic))(Ec),Sc=new Ic(kc);function Ac(){}var xc=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Nc(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),Nc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var a;return _classCallCheck(this,n),(a=e.call(this,t))._tapNext=Ac,a._tapError=Ac,a._tapComplete=Ac,a._tapError=o||Ac,a._tapComplete=s||Ac,r(i)?(a._context=_assertThisInitialized(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||Ac,a._tapError=i.error||Ac,a._tapComplete=i.complete||Ac),a}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(v),Oc=1,Dc=Promise.resolve(),Pc={};function Rc(t){return t in Pc&&(delete Pc[t],!0)}var Lc=function(t){var e=Oc++;return Pc[e]=!0,Dc.then((function(){return Rc(e)&&t()})),e},Mc=function(t){Rc(t)},Vc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=Lc(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(Mc(e),t.scheduled=void 0)}}]),n}(kc),Fc=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(Ic))(Vc),jc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fc;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=s,(u(i=o)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=Fc),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fc;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(w),Uc=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new jc(e,this.delay,this.scheduler).subscribe(t)}}]),t}(),zc=new w((function(t){return t.complete()}));function Bc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return A(r)?(e.pop(),j(e,r)):q(e)}var qc,Hc=((qc=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Bc(this.value);case"E":return t=this.error,new w((function(e){return e.error(t)}));case"C":return zc}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new qc("C"),qc.undefinedValueNotification=new qc("N",void 0),qc);function Gc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Wc(t,e))}}var Wc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Qc(t,this.scheduler,this.delay))}}]),t}(),Qc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new Yc(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(Hc.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(Hc.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Hc.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(v),Yc=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n},Kc=n("Wcq6"),Zc=n.n(Kc);function Xc(){}var Jc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tc;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),$c=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n,r=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Xc,{},Xc,Xc)})),e.pipe((n={next:r,complete:r,error:r},function(t){return t.lift(new xc(n,void 0,void 0))})).subscribe(t).add(r)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),tl=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new Jc(Zone.current)})),this.insideAngular=e.run((function(){return new Jc(Zone.current,Sc)}))},el=new Pt("angularfire2.app.options"),nl=new Pt("angularfire2.app.nameOrConfig"),rl=new Ts("6.0.3");function il(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Zc.a.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return Zc.a.initializeApp(t,r)}))}var ol,sl={provide:function t(){_classCallCheck(this,t)},useFactory:il,deps:[el,Ka,[new tt,nl]]},al=((ol=function(){function t(e){_classCallCheck(this,t),Zc.a.registerVersion("angularfire",rl.full,e.toString()),Zc.a.registerVersion("angular",Ss.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:el,useValue:e},{provide:nl,useValue:n}]}}}]),t}()).\u0275mod=oe({type:ol}),ol.\u0275inj=st({factory:function(t){return new(t||ol)(Bt(Pa))},providers:[sl]}),ol);function ul(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new cl(t,e,n))}}var cl=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ll(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),ll=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(v);function fl(t,e){return function(n){return n.lift(new hl(t,e))}}var hl=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new dl(t,this.predicate,this.thisArg))}}]),t}(),dl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(v);function pl(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sc;return new w((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot(n)})):r=t.onSnapshot(n),function(){null!=r&&r()}}))}(t,e)}function vl(t,e){return pl(t,e).pipe(M((function(t){return{payload:t,type:"query"}})))}function yl(t,e){return vl(t,e).pipe(M((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function gl(t,e,n){return vl(t,n).pipe(M((function(t){return t.payload.docChanges()})),ul((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),M((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function ml(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}n("6Joi");var _l=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?yl(this.query,this.afs.schedulers.outsideAngular).pipe(M((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),fl((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):yl(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(ul((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=ml(t);return gl(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vl(this.query,this.afs.schedulers.outsideAngular).pipe(M((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty2({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return U(this.query.get(t)).pipe(Gc(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new wl(this.ref.doc(t),this.afs)}}]),t}(),wl=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=Tl(this.ref.collection(t),e),r=n.ref,i=n.query;return new _l(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return pl(this.ref,this.afs.schedulers.outsideAngular).pipe(M((function(t){return{payload:t,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(M((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return U(this.ref.get(t)).pipe(Gc(this.afs.schedulers.insideAngular))}}]),t}(),bl=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?yl(this.query,this.afs.schedulers.outsideAngular).pipe(M((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),fl((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):yl(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(ul((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=ml(t);return gl(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return vl(this.query,this.afs.schedulers.outsideAngular).pipe(M((function(t){return t.payload.docs.map((function(t){return t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return U(this.query.get(t)).pipe(Gc(this.afs.schedulers.insideAngular))}}]),t}(),kl=n("6Joi"),El=new Pt("angularfire2.enableFirestorePersistence"),Cl=new Pt("angularfire2.firestore.persistenceSettings"),Il=new Pt("angularfire2.firestore.settings");function Tl(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Sl,Al,xl=((Al=function(){function t(e,n,r,i,o,s,a){var u,c=this;_classCallCheck(this,t),this.schedulers=new tl(s),this.keepUnstableUntilFirst=(u=this.schedulers,function(t){return(t=t.lift(new $c(u.ngZone))).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Uc(t,e))}}(u.outsideAngular),Gc(u.insideAngular))}),this.firestore=s.runOutsideAngular((function(){var t=il(e,s,n);"registerFirestore"in kl&&kl.registerFirestore(Zc.a);var r=t.firestore();return i&&r.settings(i),r})),this.persistenceEnabled$=r&&!function(t){return"server"===t}(o)?s.runOutsideAngular((function(){try{return U(c.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return Bc(!1)}})):Bc(!1)}return _createClass(t,[{key:"collection",value:function(t,e){var n=Tl("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new _l(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new bl(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new wl(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Al)(Bt(el),Bt(nl,8),Bt(El,8),Bt(Il,8),Bt(Pa),Bt(Ka),Bt(Cl,8))},Al.\u0275prov=ot({factory:function(){return new Al(Bt(el),Bt(nl,8),Bt(El,8),Bt(Il,8),Bt(Pa),Bt(Ka),Bt(Cl,8))},token:Al,providedIn:"any"}),Al),Nl=((Sl=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:El,useValue:!0},{provide:Cl,useValue:e}]}}}]),t}()).\u0275mod=oe({type:Sl}),Sl.\u0275inj=st({factory:function(t){return new(t||Sl)},providers:[xl]}),Sl);function Ol(t){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Dl(t,e,n[e])}))}return t}function Rl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ll={},Ml={};try{"undefined"!=typeof window&&(Ll=window),"undefined"!=typeof document&&(Ml=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(Ah){}var Vl=(Ll.navigator||{}).userAgent,Fl=void 0===Vl?"":Vl,jl=Ll,Ul=Ml,zl=!!Ul.documentElement&&!!Ul.head&&"function"==typeof Ul.addEventListener&&"function"==typeof Ul.createElement,Bl=(~Fl.indexOf("MSIE")||Fl.indexOf("Trident/"),[1,2,3,4,5,6,7,8,9,10]),ql=Bl.concat([11,12,13,14,15,16,17,18,19,20]),Hl={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Gl=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Hl.GROUP,Hl.SWAP_OPACITY,Hl.PRIMARY,Hl.SECONDARY].concat(Bl.map((function(t){return"".concat(t,"x")}))).concat(ql.map((function(t){return"w-".concat(t)}))),jl.FontAwesomeConfig||{});Ul&&"function"==typeof Ul.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(t){var e=Rl(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=Ul.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(Gl[n]=r)}));var Wl=Pl({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Gl);Wl.autoReplaceSvg||(Wl.observeMutations=!1);var Ql=Pl({},Wl);jl.FontAwesomeConfig=Ql;var Yl=jl||{};Yl.___FONT_AWESOME___||(Yl.___FONT_AWESOME___={}),Yl.___FONT_AWESOME___.styles||(Yl.___FONT_AWESOME___.styles={}),Yl.___FONT_AWESOME___.hooks||(Yl.___FONT_AWESOME___.hooks={}),Yl.___FONT_AWESOME___.shims||(Yl.___FONT_AWESOME___.shims=[]);var Kl=Yl.___FONT_AWESOME___,Zl=[];zl&&((Ul.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ul.readyState)||Ul.addEventListener("DOMContentLoaded",(function t(){Ul.removeEventListener("DOMContentLoaded",t),Zl.map((function(t){return t()}))})));var Xl,Jl=function(){},$l="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,tf="undefined"==typeof setImmediate?setTimeout:setImmediate,ef=[];function nf(){for(var t=0;t<ef.length;t++)ef[t][0](ef[t][1]);ef=[],Xl=!1}function rf(t,e){ef.push([t,e]),Xl||(Xl=!0,tf(nf,0))}function of(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"==typeof i){n="fulfilled";try{r=i(r)}catch(Ah){cf(o,Ah)}}sf(o,r)||("fulfilled"===n&&af(o,r),"rejected"===n&&cf(o,r))}function sf(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===Ol(e))){var r=e.then;if("function"==typeof r)return r.call(e,(function(r){n||(n=!0,e===r?uf(t,r):af(t,r))}),(function(e){n||(n=!0,cf(t,e))})),!0}}catch(Ah){return n||cf(t,Ah),!0}return!1}function af(t,e){t!==e&&sf(t,e)||uf(t,e)}function uf(t,e){"pending"===t._state&&(t._state="settled",t._data=e,rf(ff,t))}function cf(t,e){"pending"===t._state&&(t._state="settled",t._data=e,rf(hf,t))}function lf(t){t._then=t._then.forEach(of)}function ff(t){t._state="fulfilled",lf(t)}function hf(t){t._state="rejected",lf(t),!t._handled&&$l&&global.process.emit("unhandledRejection",t._data,t)}function df(t){global.process.emit("rejectionHandled",t)}function pf(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof pf==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){cf(e,t)}try{t((function(t){af(e,t)}),n)}catch(Ah){n(Ah)}}(t,this)}pf.prototype={constructor:pf,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(Jl),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,"rejected"===this._state&&$l&&rf(df,this)),"fulfilled"===this._state||"rejected"===this._state?rf(of,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},pf.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new pf((function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),n):r[a]=s;i||e(r)}))},pf.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new pf((function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)}))},pf.resolve=function(t){return t&&"object"===Ol(t)&&t.constructor===pf?t:new pf((function(e){e(t)}))},pf.reject=function(t){return new pf((function(e,n){n(t)}))};var vf={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function yf(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function gf(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function mf(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function _f(t){return t.size!==vf.size||t.x!==vf.x||t.y!==vf.y||t.rotate!==vf.rotate||t.flipX||t.flipY}function wf(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var bf={x:0,y:0,width:"100%",height:"100%"};function kf(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Ef(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,u=t.title,c=t.maskId,l=t.titleId,f=t.extra,h=t.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,y=p.height,g="fak"===i,m=g?"":"fa-w-".concat(Math.ceil(v/y*16)),_=[Ql.replacementClass,o?"".concat(Ql.familyPrefix,"-").concat(o):"",m].filter((function(t){return-1===f.classes.indexOf(t)})).filter((function(t){return""!==t||!!t})).concat(f.classes).join(" "),w={children:[],attributes:Pl({},f.attributes,{"data-prefix":i,"data-icon":o,class:_,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(y)})},b=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/y*16*.0625,"em")}:{};d&&(w.attributes["data-fa-i2svg"]=""),u&&w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(l||yf())},children:[u]});var k=Pl({},w,{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:s,symbol:a,styles:Pl({},b,f.styles)}),E=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,s=t.maskId,a=i.icon,u=o.icon,c=wf({transform:t.transform,containerWidth:o.width,iconWidth:i.width}),l={tag:"rect",attributes:Pl({},bf,{fill:"white"})},f=a.children?{children:a.children.map(kf)}:{},h={tag:"g",attributes:Pl({},c.inner),children:[kf(Pl({tag:a.tag,attributes:Pl({},a.attributes,c.path)},f))]},d={tag:"g",attributes:Pl({},c.outer),children:[h]},p="mask-".concat(s||yf()),v="clip-".concat(s||yf()),y={tag:"mask",attributes:Pl({},bf,{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[l,d]},g={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:(e=u,"g"===e.tag?e.children:[e])},y]};return n.push(g,{tag:"rect",attributes:Pl({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(p,")")},bf)}),{children:n,attributes:r}}(k):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=mf(t.styles);if(o.length>0&&(n.style=o),_f(i)){var s=wf({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:Pl({},s.outer),children:[{tag:"g",attributes:Pl({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Pl({},r.icon.attributes,s.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(k),C=E.attributes;return k.children=E.children,k.attributes=C,a?function(t){var e=t.iconName,n=t.children,r=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Pl({},t.attributes,{id:!0===r?"".concat(t.prefix,"-").concat(Ql.familyPrefix,"-").concat(e):r}),children:n}]}]}(k):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(_f(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=mf(Pl({},o,{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(k)}var Cf=function(t,e,n,r){var i,o,s,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<u;i++)s=c(s,t[o=a[i]],o,t);return s};function If(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce((function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{});"function"!=typeof Kl.hooks.addPack||i?Kl.styles[t]=Pl({},Kl.styles[t]||{},o):Kl.hooks.addPack(t,o),"fas"===t&&If("fa",e)}var Tf=Kl.styles,Sf=Kl.shims,Af=function(){var t=function(t){return Cf(Tf,(function(e,n,r){return e[r]=Cf(n,t,{}),e}),{})};t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),t((function(t,e,n){var r=e[2];return t[n]=n,r.forEach((function(e){t[e]=n})),t}));var e="far"in Tf;Cf(Sf,(function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t}),{})};function xf(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function Nf(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?gf(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(gf(t[n]),'" ')}),"").trim()}(r),">").concat(o.map(Nf).join(""),"</").concat(e,">")}function Of(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}Af(),(Of.prototype=Object.create(Error.prototype)).constructor=Of;var Df={fill:"currentColor"},Pf={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Rf=(Pl({},Df,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Pl({},Pf,{attributeName:"opacity"}));function Lf(t){var e=t[0],n=t[1],r=Rl(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Ql.familyPrefix,"-").concat(Hl.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ql.familyPrefix,"-").concat(Hl.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ql.familyPrefix,"-").concat(Hl.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function Mf(){Ql.autoAddCss&&!Zf&&(function(t){if(t&&zl){var e=Ul.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ul.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}Ul.head.insertBefore(e,r)}}(function(){var t="svg-inline--fa",e=Ql.familyPrefix,n=Ql.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==e||n!==t){var i=new RegExp("\\.".concat("fa","\\-"),"g"),o=new RegExp("\\--".concat("fa","\\-"),"g"),s=new RegExp("\\.".concat(t),"g");r=r.replace(i,".".concat(e,"-")).replace(o,"--".concat(e,"-")).replace(s,".".concat(n))}return r}()),Zf=!0)}function Vf(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return Nf(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(zl){var e=Ul.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function Ff(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return xf(Kf.definitions,n,r)||xf(Kl.styles,n,r)}Pl({},Df,{cx:"256",cy:"364",r:"28"}),Pl({},Pf,{attributeName:"r",values:"28;14;28;28;14;28;"}),Pl({},Rf,{values:"1;0;1;1;0;1;"}),Pl({},Df,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Pl({},Rf,{values:"1;0;0;0;0;1;"}),Pl({},Df,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Pl({},Rf,{values:"0;0;1;1;0;0;"});var jf,Uf,zf,Bf,qf,Hf,Gf,Wf,Qf,Yf,Kf=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(e){t.definitions[e]=Pl({},t.definitions[e]||{},i[e]),If(e,i[e]),Af()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon;t[i]||(t[i]={}),t[i][o]=s})),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()),Zf=!1,Xf=(jf=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?vf:n,i=e.symbol,o=void 0!==i&&i,s=e.mask,a=void 0===s?null:s,u=e.maskId,c=void 0===u?null:u,l=e.title,f=void 0===l?null:l,h=e.titleId,d=void 0===h?null:h,p=e.classes,v=void 0===p?[]:p,y=e.attributes,g=void 0===y?{}:y,m=e.styles,_=void 0===m?{}:m;if(t){var w=t.prefix,b=t.iconName,k=t.icon;return Vf(Pl({type:"icon"},t),(function(){return Mf(),Ql.autoA11y&&(f?g["aria-labelledby"]="".concat(Ql.replacementClass,"-title-").concat(d||yf()):(g["aria-hidden"]="true",g.focusable="false")),Ef({icons:{main:Lf(k),mask:a?Lf(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:b,transform:Pl({},vf,r),symbol:o,title:f,maskId:c,titleId:d,extra:{attributes:g,styles:_,classes:v}})}))}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:Ff(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:Ff(r||{})),jf(n,Pl({},e,{mask:r}))}),Jf=((zf=function t(){_classCallCheck(this,t),this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}).\u0275fac=function(t){return new(t||zf)},zf.\u0275prov=ot({factory:function(){return new zf},token:zf,providedIn:"root"}),zf),$f=((Uf=function(){function t(){_classCallCheck(this,t),this.definitions={}}return _createClass(t,[{key:"addIcons",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];o.prefix in this.definitions||(this.definitions[o.prefix]={}),this.definitions[o.prefix][o.iconName]=o}}},{key:"addIconPacks",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=function(){var e=s[o],n=Object.keys(e).map((function(t){return e[t]}));t.addIcons.apply(t,_toConsumableArray(n))},o=0,s=n;o<s.length;o++)i()}},{key:"getIconDefinition",value:function(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}]),t}()).\u0275fac=function(t){return new(t||Uf)},Uf.\u0275prov=ot({factory:function(){return new Uf},token:Uf,providedIn:"root"}),Uf),th=((Gf=function(){function t(){_classCallCheck(this,t),this.stackItemSize="1x"}return _createClass(t,[{key:"ngOnChanges",value:function(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}]),t}()).\u0275fac=function(t){return new(t||Gf)},Gf.\u0275dir=ae({type:Gf,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[as]}),Gf),eh=((Hf=function(){function t(e,n,r,i){_classCallCheck(this,t),this.sanitizer=e,this.config=n,this.iconLibrary=r,this.stackItem=i,this.classes=[]}return _createClass(t,[{key:"ngOnChanges",value:function(t){if(null==this.icon&&null==this.config.fallbackIcon)return function(){throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")}();var e;if(e=null==this.icon?this.config.fallbackIcon:this.icon,t){var n=this.findIconDefinition(e);if(null!=n){var r=this.buildParams();this.renderIcon(n,r)}}}},{key:"render",value:function(){this.ngOnChanges({})}},{key:"findIconDefinition",value:function(t){var e=function(t,e){return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n}(t,this.config.defaultPrefix);if("icon"in e)return e;var n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;var r=Ff(e);if(null!=r){var i="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+i);else if(!this.config.globalLibrary)throw new Error(i);return r}return function(t){throw new Error("Could not find icon with iconName=".concat(t.iconName," and prefix=").concat(t.prefix," in the icon library."))}(e),null}},{key:"buildParams",value:function(){var t,e,n,r,i,o={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},s="string"==typeof this.transform?(t=this.transform,e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0},t?t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t}),e):e):this.transform;return{title:this.title,transform:s,classes:[].concat(_toConsumableArray((n=o,_defineProperty2(r={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip},"fa-"+n.size,null!==n.size),_defineProperty2(r,"fa-rotate-"+n.rotate,null!==n.rotate),_defineProperty2(r,"fa-pull-"+n.pull,null!==n.pull),_defineProperty2(r,"fa-stack-"+n.stackItemSize,null!=n.stackItemSize),i=r,Object.keys(i).map((function(t){return i[t]?t:null})).filter((function(t){return t})))),_toConsumableArray(this.classes)),mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}},{key:"renderIcon",value:function(t,e){var n=Xf(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}]),t}()).\u0275fac=function(t){return new(t||Hf)(qo(gc),qo(Jf),qo($f),qo(th,8))},Hf.\u0275cmp=ee({type:Hf,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,e){2&t&&(is("innerHTML",e.renderedIconHTML,Nr),zo("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[as],decls:0,vars:0,template:function(t,e){},encapsulation:2}),Hf),nh=((qf=function t(){_classCallCheck(this,t)}).\u0275mod=oe({type:qf}),qf.\u0275inj=st({factory:function(t){return new(t||qf)}}),qf),rh=((Bf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e,n){return null==t||t.length<=0||void 0===t[0]?new Array:t[0].hasOwnProperty(e)?(t.sort((function(t,r){var i=t[e],o=r[e],s="asc"==n;return"string"==typeof e&&(i=i.toLowerCase(),o=o.toLowerCase()),i<o?s?-1:1:i>o?s?1:-1:0})),t):(console.log("OrderBy pipe : invalid field (got ".concat(e,")")),t)}},{key:"getProperty",value:function(t,e){return t[e]}}]),t}()).\u0275fac=function(t){return new(t||Bf)},Bf.\u0275pipe=ue({name:"argonautOrderBy",type:Bf,pure:!0}),Bf),ih={prefix:"fas",iconName:"sort-alpha-down",icon:[448,512,[],"f15d","M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z"]},oh={prefix:"fas",iconName:"sort-alpha-up-alt",icon:[448,512,[],"f882","M16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160zm272 64h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 65.63V48a16 16 0 0 0-16-16H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 190.37V208a16 16 0 0 0 16 16zm159.06 234.62l-59.27-160A16 16 0 0 0 372.72 288h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 480h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 480H432a16 16 0 0 0 15.06-21.38zM335.61 400L352 352l16.39 48z"]},sh={prefix:"fas",iconName:"sort-numeric-down",icon:[448,512,[],"f162","M304 96h16v64h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-16V48a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 304 96zm26.15 162.91a79 79 0 0 0-55 54.17c-14.25 51.05 21.21 97.77 68.85 102.53a84.07 84.07 0 0 1-20.85 12.91c-7.57 3.4-10.8 12.47-8.18 20.34l9.9 20c2.87 8.63 12.53 13.49 20.9 9.91 58-24.76 86.25-61.61 86.25-132V336c-.02-51.21-48.4-91.34-101.85-77.09zM352 356a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm-176-4h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352z"]},ah={prefix:"fas",iconName:"sort-numeric-up-alt",icon:[448,512,[],"f887","M107.31 36.69a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31zM400 416h-16V304a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 304 352h16v64h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM330.17 34.91a79 79 0 0 0-55 54.17c-14.27 51.05 21.19 97.77 68.83 102.53a84.07 84.07 0 0 1-20.85 12.91c-7.57 3.4-10.8 12.47-8.18 20.34l9.9 20c2.87 8.63 12.53 13.49 20.9 9.91 58-24.77 86.25-61.61 86.25-132V112c-.02-51.21-48.4-91.34-101.85-77.09zM352 132a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"]},uh={prefix:"fas",iconName:"times-circle",icon:[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"]},ch=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(T),lh=((Qf=function(){function t(e){_classCallCheck(this,t),this.firestore=e,this._argonauts=new ch([]),this.argonauts=this._argonauts.asObservable(),this.argonautsCollectionRef=this.firestore.collection("argonauts")}return _createClass(t,[{key:"emitArgonautsSubject",value:function(){this._argonauts.next(this.myArgonauts)}},{key:"createArgonaut",value:function(t,e,n){var r=this;return new Promise((function(i,o){r.argonautsCollectionRef.add({name:t,age:e,role:n}).then((function(t){console.log("Argonaut member successfully added"),i(t)}),(function(t){console.log("Error cannot add member"),o(t)}))}))}},{key:"getAllArgonauts",value:function(){return this.argonautsCollectionRef.snapshotChanges()}},{key:"deleteArgonautByID",value:function(t){var e=this;return new Promise((function(n,r){e.argonautsCollectionRef.doc(t).delete().then((function(t){console.log("Document successfully deleted")}),(function(t){console.log("Error cannot delete document"),r(t)}))}))}}]),t}()).\u0275fac=function(t){return new(t||Qf)(Bt(xl))},Qf.\u0275prov=ot({token:Qf,factory:Qf.\u0275fac}),Qf),fh=((Wf=function(){function t(e){_classCallCheck(this,t),this.dbService=e,this.faTimesCircle=uh}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onDelete",value:function(){this.dbService.deleteArgonautByID(this.argonaut.id).then((function(t){}),(function(t){}))}}]),t}()).\u0275fac=function(t){return new(t||Wf)(qo(lh))},Wf.\u0275cmp=ee({type:Wf,selectors:[["app-argonaut"]],inputs:{argonaut:"argonaut"},decls:4,vars:4,consts:[["id","name"],["id","button-delete"],[3,"icon","click"]],template:function(t,e){1&t&&(Wo(0,"div",0),ns(1),Qo(),Wo(2,"div",1),Wo(3,"fa-icon",2),Jo("click",(function(){return e.onDelete()})),Qo(),Qo()),2&t&&(Kr(1),rs(" ",e.argonaut.name," (",e.argonaut.age,") [",e.argonaut.role,"]\n"),Kr(2),Ho("icon",e.faTimesCircle))},directives:[eh],styles:["[_nghost-%COMP%]{padding:10px 10px 10px 15px}#button-delete[_ngcontent-%COMP%], #name[_ngcontent-%COMP%]{display:inline-block}#button-delete[_ngcontent-%COMP%]{margin-left:.5em;opacity:0;transition:opacity;transition-duration:.25s;transition-timing-function:ease}#button-delete[_ngcontent-%COMP%]:hover{color:var(--coral-color)}[_nghost-%COMP%]:hover   #button-delete[_ngcontent-%COMP%]{opacity:1%}"]}),Wf),hh=function t(e){_classCallCheck(this,t),this.id=e.id,this.name=e.data().name,this.age=e.data().age,this.role=e.data().role},dh=((Yf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e=new Array;return void 0!==t&&t.forEach((function(t){e.push(new hh(t.payload.doc))})),e}}]),t}()).\u0275fac=function(t){return new(t||Yf)},Yf.\u0275pipe=ue({name:"docToArgonaut",type:Yf,pure:!0}),Yf),ph=["nameInputRef"],vh=["ageInputRef"],yh=["roleSelectRef"],gh=["orderTypeRef"],mh=["orderDirectionAscRef"];function _h(t,e){if(1&t&&(Ko(0),Yo(1,"fa-icon",30),Zo()),2&t){var n=es();Kr(1),Ho("icon",n.faSortNumericDown)}}function wh(t,e){if(1&t&&(Ko(0),Yo(1,"fa-icon",30),Zo()),2&t){var n=es();Kr(1),Ho("icon",n.faSortAlphaDown)}}function bh(t,e){if(1&t&&(Ko(0),Yo(1,"fa-icon",30),Zo()),2&t){var n=es();Kr(1),Ho("icon",n.faSortNumericUpAlt)}}function kh(t,e){if(1&t&&(Ko(0),Yo(1,"fa-icon",30),Zo()),2&t){var n=es();Kr(1),Ho("icon",n.faSortAlphaUpAlt)}}function Eh(t,e){if(1&t&&(Ko(0),Wo(1,"div",31),Yo(2,"app-argonaut",32),Qo(),Zo()),2&t){var n=e.$implicit;Kr(2),Ho("argonaut",n)}}var Ch,Ih,Th=((Ih=function(){function t(e){_classCallCheck(this,t),this.dbService=e,this.title="antik",this.faSortNumericUpAlt=ah,this.faSortNumericDown=sh,this.faSortAlphaUpAlt=oh,this.faSortAlphaDown=ih,this.orderDirection="asc",this.orderType="name"}return _createClass(t,[{key:"ngOnInit",value:function(){this.updateArgonauts()}},{key:"onSubmitArgonaut",value:function(){var t=this,e=this.nameInputRef.nativeElement.value,n=this.ageInputRef.nativeElement.value,r=this.roleSelectRef.nativeElement.value,i="";if(null!==e&&""!==e||(i+="\nRenseigne le nom de l'Argonaute"),null===n&&(i+="\nRenseigne l'\xe2ge de l'Argonaute"),null!==r&&""!==r||(i+="\nRenseigne le r\xf4le de l'Argonaute"),null!=i&&""!==i)return i="Formulaire incomplet !"+i,void alert(i);this.dbService.createArgonaut(e,n,r).then((function(e){t.nameInputRef.nativeElement.value=null,t.ageInputRef.nativeElement.value=null,t.roleSelectRef.nativeElement.selectedIndex=0}),(function(t){alert(e+" s'est perdu sur le chemin de l'embarcad\xe8re...")}))}},{key:"updateArgonauts",value:function(){var t=this;this.dbService.getAllArgonauts().subscribe((function(e){t.argonautDocs=e}))}},{key:"onOrderTypeChange",value:function(){this.orderType=this.orderTypeRef.nativeElement.value}},{key:"onOrderDirectionChange",value:function(t){this.orderDirection=t}}]),t}()).\u0275fac=function(t){return new(t||Ih)(qo(lh))},Ih.\u0275cmp=ee({type:Ih,selectors:[["app-root"]],viewQuery:function(t,e){var n;1&t&&(Ca(ph,!0,bs),Ca(vh,!0,bs),Ca(yh,!0,bs),Ca(gh,!0,bs),Ca(mh,!0,bs)),2&t&&(Ea(n=Ia())&&(e.nameInputRef=n.first),Ea(n=Ia())&&(e.ageInputRef=n.first),Ea(n=Ia())&&(e.roleSelectRef=n.first),Ea(n=Ia())&&(e.orderTypeRef=n.first),Ea(n=Ia())&&(e.orderDirectionAscRef=n.first))},features:[gs([rh])],decls:65,vars:11,consts:[["src","https://www.wildcodeschool.com/assets/logo_main-e4f3f744c8e717f1b7df3858dce55a86c63d4766d5d9a7f454250145f097c2fe.png","alt","Wild Code School logo"],["id","new-member-form"],[1,"column"],["for","member-name-input"],["id","member-name-input","name","name","type","text","placeholder","Jason"],["nameInputRef",""],["for","member-age-input"],["id","member-age-input","name","age","type","number","min","18","placeholder","22"],["ageInputRef",""],["for","member-role-select"],["id","member-role-select","name","role"],["roleSelectRef",""],["value",""],["value","charpentier"],["value","cuisinier"],["value","explorateur"],["value","guerrier"],["value","rameur"],["id","submit-member-button",3,"click"],["id","order-by-options"],["id","order-by-select","name","field",3,"change"],["orderTypeRef",""],["value","name"],["value","age"],["value","role"],["type","radio","id","direction-ascending","name","direction","value","ascending","checked","",3,"change"],[4,"ngIf"],["type","radio","id","direction-descending","name","direction","value","descending",3,"change"],["id","member-list"],[4,"ngFor","ngForOf"],[3,"icon"],[1,"member-item"],[3,"argonaut"]],template:function(t,e){var n,r,i;1&t&&(Wo(0,"header"),Wo(1,"h1"),Yo(2,"img",0),ns(3," Les Argonautes "),Qo(),Qo(),Wo(4,"main"),Wo(5,"h2"),ns(6,"Ajouter un(e) Argonaute"),Qo(),Wo(7,"div",1),Wo(8,"div",2),Wo(9,"label",3),ns(10,"Nom"),Qo(),Yo(11,"input",4,5),Qo(),Wo(13,"div",2),Wo(14,"label",6),ns(15,"Age"),Qo(),Yo(16,"input",7,8),Qo(),Wo(18,"div",2),Wo(19,"label",9),ns(20,"Role"),Qo(),Wo(21,"select",10,11),Wo(23,"option",12),ns(24,"--S\xe9lectionnez un r\xf4le--"),Qo(),Wo(25,"option",13),ns(26,"Charpentier"),Qo(),Wo(27,"option",14),ns(28,"Cuisinier"),Qo(),Wo(29,"option",15),ns(30,"Explorateur"),Qo(),Wo(31,"option",16),ns(32,"Guerrier"),Qo(),Wo(33,"option",17),ns(34,"Rameur"),Qo(),Qo(),Qo(),Wo(35,"div",2),Wo(36,"button",18),Jo("click",(function(){return e.onSubmitArgonaut()})),ns(37,"Envoyer"),Qo(),Qo(),Qo(),Wo(38,"h2"),ns(39,"Membres de l'\xe9quipage"),Qo(),Wo(40,"div",19),Wo(41,"div",2),Wo(42,"select",20,21),Jo("change",(function(){return e.onOrderTypeChange()})),Wo(44,"option",22),ns(45,"order by name"),Qo(),Wo(46,"option",23),ns(47,"order by age"),Qo(),Wo(48,"option",24),ns(49,"order by role"),Qo(),Qo(),Qo(),Wo(50,"div",2),Wo(51,"input",25),Jo("change",(function(){return e.onOrderDirectionChange("asc")})),Qo(),Bo(52,_h,2,1,"ng-container",26),Bo(53,wh,2,1,"ng-container",26),Qo(),Wo(54,"div",2),Wo(55,"input",27),Jo("change",(function(){return e.onOrderDirectionChange("dsc")})),Qo(),Bo(56,bh,2,1,"ng-container",26),Bo(57,kh,2,1,"ng-container",26),Qo(),Qo(),Wo(58,"section",28),Bo(59,Eh,3,1,"ng-container",29),ca(60,"argonautOrderBy"),ca(61,"docToArgonaut"),Qo(),Qo(),Wo(62,"footer"),Wo(63,"p"),ns(64,"R\xe9alis\xe9 par Jason en Anthest\xe9rion de l'an 515 avant JC"),Qo(),Qo()),2&t&&(Kr(52),Ho("ngIf","age"===e.orderType),Kr(1),Ho("ngIf","name"===e.orderType||"role"===e.orderType),Kr(3),Ho("ngIf","age"===e.orderType),Kr(1),Ho("ngIf","name"===e.orderType||"role"===e.orderType),Kr(2),Ho("ngForOf",function(t,e,n,r,i){var o=Me(),s=Te(o,60);return fa(o,la(o,60)?function(t,e,n,r,i,o,s,a){var u=e+5;return Uo(t,u,i,o,s)?Fo(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):ua(t,u+3)}(o,He(),0,s.transform,n,r,i,s):s.transform(n,r,i))}(0,0,(n=e.argonautDocs,r=Me(),i=Te(r,61),fa(r,la(r,61)?function(t,e,n,r,i,o){var s=e+9;return jo(t,s,i)?Fo(t,s+1,o?r.call(o,i):r(i)):ua(t,s+1)}(r,He(),0,i.transform,n,i):i.transform(n))),e.orderType,e.orderDirection)))},directives:[Du,Nu,eh,fh],pipes:[rh,dh],styles:["[_nghost-%COMP%]{--coral-color:#f76c6c}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto}main[_ngcontent-%COMP%]{max-width:960px;margin:0 auto}header[_ngcontent-%COMP%]{background:#f4f4f4;text-align:center;padding:2em}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:96px}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5em}#new-member-form[_ngcontent-%COMP%], #order-by-options[_ngcontent-%COMP%]{margin:2em 0 4em;text-align:center}.column[_ngcontent-%COMP%]{display:inline-block}.column[_ngcontent-%COMP%]:not(:first-child){margin-left:10px}#member-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr}.member-item[_ngcontent-%COMP%]{text-align:center;padding:.25em 0;width:100%}#message-modal[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;margin:0 auto;z-index:1000;background-color:rgba(10,10,10,.1)}#modal-content[_ngcontent-%COMP%]{max-width:30%;padding:3%;margin:0 auto;border:3px solid var(--coral-color);border-radius:5px;background-color:#fff}#modal-message[_ngcontent-%COMP%]{text-align:center}.blurred[_ngcontent-%COMP%]{filter:blur(4px)}footer[_ngcontent-%COMP%]{margin-top:2em;text-align:center;color:#fff;background:#f76c6c;padding:.25em 0}"]}),Ih),Sh=((Ch=function t(){_classCallCheck(this,t)}).\u0275mod=oe({type:Ch,bootstrap:[Th]}),Ch.\u0275inj=st({factory:function(t){return new(t||Ch)},providers:[lh],imports:[[bc,al.initializeApp(_u),Nl,nh]]}),Ch);(function(){if(rr)throw new Error("Cannot enable prod mode after platform setup.");nr=!1})(),_c().bootstrapModule(Sh).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[f])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function y(t,e){return t.replace(g,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var _=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((f=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|f>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var f=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function k(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=f,e.ErrorFactory=v,e.FirebaseError=p,e.MAX_VALUE_MILLIS=144e5,e.RANDOM_FACTOR=.5,e.Sha1=w,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=E,e.getUA=h,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return h().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return h().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);